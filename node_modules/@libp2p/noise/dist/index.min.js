(function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.ChainsafeLibp2PNoise = factory()}(typeof self !== 'undefined' ? self : this, function () {
"use strict";var ChainsafeLibp2PNoise=(()=>{var Nl=Object.create;var Kn=Object.defineProperty;var Dl=Object.getOwnPropertyDescriptor;var kl=Object.getOwnPropertyNames;var Pl=Object.getPrototypeOf,Kl=Object.prototype.hasOwnProperty;var Ml=(e,t,r)=>t in e?Kn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var B0=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var K=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),dt=(e,t)=>{for(var r in t)Kn(e,r,{get:t[r],enumerable:!0})},C0=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of kl(t))!Kl.call(e,i)&&i!==r&&Kn(e,i,{get:()=>t[i],enumerable:!(n=Dl(t,i))||n.enumerable});return e};var vt=(e,t,r)=>(r=e!=null?Nl(Pl(e)):{},C0(t||!e||!e.__esModule?Kn(r,"default",{value:e,enumerable:!0}):r,e)),Fl=e=>C0(Kn({},"__esModule",{value:!0}),e);var Vs=(e,t,r)=>(Ml(e,typeof t!="symbol"?t+"":t,r),r);var U0=K((av,R0)=>{"use strict";function L0(e,t){for(let r in t)Object.defineProperty(e,r,{value:t[r],enumerable:!0,configurable:!0});return e}function Xl(e,t,r){if(!e||typeof e=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof t=="object"&&(r=t,t=""),t&&(r.code=t);try{return L0(e,r)}catch{r.message=e.message,r.stack=e.stack;let i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(e)),L0(new i,r)}}R0.exports=Xl});var z0=K(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});function vp(e,t){var r=e>>>16&65535,n=e&65535,i=t>>>16&65535,s=t&65535;return n*s+(r*s+n*i<<16>>>0)|0}he.mul=Math.imul||vp;function bp(e,t){return e+t|0}he.add=bp;function wp(e,t){return e-t|0}he.sub=wp;function Ep(e,t){return e<<t|e>>>32-t}he.rotl=Ep;function Sp(e,t){return e<<32-t|e>>>t}he.rotr=Sp;function Ap(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}he.isInteger=Number.isInteger||Ap;he.MAX_SAFE_INTEGER=9007199254740991;he.isSafeInteger=function(e){return he.isInteger(e)&&e>=-he.MAX_SAFE_INTEGER&&e<=he.MAX_SAFE_INTEGER}});var Mi=K($=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});var G0=z0();function Bp(e,t){return t===void 0&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16}$.readInt16BE=Bp;function Cp(e,t){return t===void 0&&(t=0),(e[t+0]<<8|e[t+1])>>>0}$.readUint16BE=Cp;function _p(e,t){return t===void 0&&(t=0),(e[t+1]<<8|e[t])<<16>>16}$.readInt16LE=_p;function Tp(e,t){return t===void 0&&(t=0),(e[t+1]<<8|e[t])>>>0}$.readUint16LE=Tp;function W0(e,t,r){return t===void 0&&(t=new Uint8Array(2)),r===void 0&&(r=0),t[r+0]=e>>>8,t[r+1]=e>>>0,t}$.writeUint16BE=W0;$.writeInt16BE=W0;function $0(e,t,r){return t===void 0&&(t=new Uint8Array(2)),r===void 0&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t}$.writeUint16LE=$0;$.writeInt16LE=$0;function Js(e,t){return t===void 0&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}$.readInt32BE=Js;function to(e,t){return t===void 0&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}$.readUint32BE=to;function eo(e,t){return t===void 0&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}$.readInt32LE=eo;function ro(e,t){return t===void 0&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}$.readUint32LE=ro;function Pi(e,t,r){return t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0),t[r+0]=e>>>24,t[r+1]=e>>>16,t[r+2]=e>>>8,t[r+3]=e>>>0,t}$.writeUint32BE=Pi;$.writeInt32BE=Pi;function Ki(e,t,r){return t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24,t}$.writeUint32LE=Ki;$.writeInt32LE=Ki;function Ip(e,t){t===void 0&&(t=0);var r=Js(e,t),n=Js(e,t+4);return r*4294967296+n-(n>>31)*4294967296}$.readInt64BE=Ip;function Lp(e,t){t===void 0&&(t=0);var r=to(e,t),n=to(e,t+4);return r*4294967296+n}$.readUint64BE=Lp;function Rp(e,t){t===void 0&&(t=0);var r=eo(e,t),n=eo(e,t+4);return n*4294967296+r-(r>>31)*4294967296}$.readInt64LE=Rp;function Up(e,t){t===void 0&&(t=0);var r=ro(e,t),n=ro(e,t+4);return n*4294967296+r}$.readUint64LE=Up;function Y0(e,t,r){return t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0),Pi(e/4294967296>>>0,t,r),Pi(e>>>0,t,r+4),t}$.writeUint64BE=Y0;$.writeInt64BE=Y0;function X0(e,t,r){return t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0),Ki(e>>>0,t,r),Ki(e/4294967296>>>0,t,r+4),t}$.writeUint64LE=X0;$.writeInt64LE=X0;function Np(e,t,r){if(r===void 0&&(r=0),e%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,s=e/8+r-1;s>=r;s--)n+=t[s]*i,i*=256;return n}$.readUintBE=Np;function Dp(e,t,r){if(r===void 0&&(r=0),e%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,s=r;s<r+e/8;s++)n+=t[s]*i,i*=256;return n}$.readUintLE=Dp;function kp(e,t,r,n){if(r===void 0&&(r=new Uint8Array(e/8)),n===void 0&&(n=0),e%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!G0.isSafeInteger(t))throw new Error("writeUintBE value must be an integer");for(var i=1,s=e/8+n-1;s>=n;s--)r[s]=t/i&255,i*=256;return r}$.writeUintBE=kp;function Pp(e,t,r,n){if(r===void 0&&(r=new Uint8Array(e/8)),n===void 0&&(n=0),e%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!G0.isSafeInteger(t))throw new Error("writeUintLE value must be an integer");for(var i=1,s=n;s<n+e/8;s++)r[s]=t/i&255,i*=256;return r}$.writeUintLE=Pp;function Kp(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat32(t)}$.readFloat32BE=Kp;function Mp(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat32(t,!0)}$.readFloat32LE=Mp;function Fp(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat64(t)}$.readFloat64BE=Fp;function Op(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat64(t,!0)}$.readFloat64LE=Op;function Vp(e,t,r){t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.setFloat32(r,e),t}$.writeFloat32BE=Vp;function Hp(e,t,r){t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.setFloat32(r,e,!0),t}$.writeFloat32LE=Hp;function qp(e,t,r){t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.setFloat64(r,e),t}$.writeFloat64BE=qp;function zp(e,t,r){t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.setFloat64(r,e,!0),t}$.writeFloat64LE=zp});var _r=K(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});function Gp(e){for(var t=0;t<e.length;t++)e[t]=0;return e}no.wipe=Gp});var Q0=K(Fi=>{"use strict";Object.defineProperty(Fi,"__esModule",{value:!0});var ee=Mi(),io=_r(),Wp=20;function $p(e,t,r){for(var n=1634760805,i=857760878,s=2036477234,o=1797285236,a=r[3]<<24|r[2]<<16|r[1]<<8|r[0],c=r[7]<<24|r[6]<<16|r[5]<<8|r[4],f=r[11]<<24|r[10]<<16|r[9]<<8|r[8],u=r[15]<<24|r[14]<<16|r[13]<<8|r[12],h=r[19]<<24|r[18]<<16|r[17]<<8|r[16],l=r[23]<<24|r[22]<<16|r[21]<<8|r[20],d=r[27]<<24|r[26]<<16|r[25]<<8|r[24],p=r[31]<<24|r[30]<<16|r[29]<<8|r[28],y=t[3]<<24|t[2]<<16|t[1]<<8|t[0],g=t[7]<<24|t[6]<<16|t[5]<<8|t[4],x=t[11]<<24|t[10]<<16|t[9]<<8|t[8],w=t[15]<<24|t[14]<<16|t[13]<<8|t[12],b=n,B=i,E=s,A=o,L=a,R=c,k=f,O=u,G=h,z=l,rt=d,pt=p,F=y,H=g,C=x,V=w,xt=0;xt<Wp;xt+=2)b=b+L|0,F^=b,F=F>>>32-16|F<<16,G=G+F|0,L^=G,L=L>>>32-12|L<<12,B=B+R|0,H^=B,H=H>>>32-16|H<<16,z=z+H|0,R^=z,R=R>>>32-12|R<<12,E=E+k|0,C^=E,C=C>>>32-16|C<<16,rt=rt+C|0,k^=rt,k=k>>>32-12|k<<12,A=A+O|0,V^=A,V=V>>>32-16|V<<16,pt=pt+V|0,O^=pt,O=O>>>32-12|O<<12,E=E+k|0,C^=E,C=C>>>32-8|C<<8,rt=rt+C|0,k^=rt,k=k>>>32-7|k<<7,A=A+O|0,V^=A,V=V>>>32-8|V<<8,pt=pt+V|0,O^=pt,O=O>>>32-7|O<<7,B=B+R|0,H^=B,H=H>>>32-8|H<<8,z=z+H|0,R^=z,R=R>>>32-7|R<<7,b=b+L|0,F^=b,F=F>>>32-8|F<<8,G=G+F|0,L^=G,L=L>>>32-7|L<<7,b=b+R|0,V^=b,V=V>>>32-16|V<<16,rt=rt+V|0,R^=rt,R=R>>>32-12|R<<12,B=B+k|0,F^=B,F=F>>>32-16|F<<16,pt=pt+F|0,k^=pt,k=k>>>32-12|k<<12,E=E+O|0,H^=E,H=H>>>32-16|H<<16,G=G+H|0,O^=G,O=O>>>32-12|O<<12,A=A+L|0,C^=A,C=C>>>32-16|C<<16,z=z+C|0,L^=z,L=L>>>32-12|L<<12,E=E+O|0,H^=E,H=H>>>32-8|H<<8,G=G+H|0,O^=G,O=O>>>32-7|O<<7,A=A+L|0,C^=A,C=C>>>32-8|C<<8,z=z+C|0,L^=z,L=L>>>32-7|L<<7,B=B+k|0,F^=B,F=F>>>32-8|F<<8,pt=pt+F|0,k^=pt,k=k>>>32-7|k<<7,b=b+R|0,V^=b,V=V>>>32-8|V<<8,rt=rt+V|0,R^=rt,R=R>>>32-7|R<<7;ee.writeUint32LE(b+n|0,e,0),ee.writeUint32LE(B+i|0,e,4),ee.writeUint32LE(E+s|0,e,8),ee.writeUint32LE(A+o|0,e,12),ee.writeUint32LE(L+a|0,e,16),ee.writeUint32LE(R+c|0,e,20),ee.writeUint32LE(k+f|0,e,24),ee.writeUint32LE(O+u|0,e,28),ee.writeUint32LE(G+h|0,e,32),ee.writeUint32LE(z+l|0,e,36),ee.writeUint32LE(rt+d|0,e,40),ee.writeUint32LE(pt+p|0,e,44),ee.writeUint32LE(F+y|0,e,48),ee.writeUint32LE(H+g|0,e,52),ee.writeUint32LE(C+x|0,e,56),ee.writeUint32LE(V+w|0,e,60)}function Z0(e,t,r,n,i){if(i===void 0&&(i=0),e.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var s,o;if(i===0){if(t.length!==8&&t.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");s=new Uint8Array(16),o=s.length-t.length,s.set(t,o)}else{if(t.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");s=t,o=i}for(var a=new Uint8Array(64),c=0;c<r.length;c+=64){$p(a,s,e);for(var f=c;f<c+64&&f<r.length;f++)n[f]=r[f]^a[f-c];Xp(s,0,o)}return io.wipe(a),i===0&&io.wipe(s),n}Fi.streamXOR=Z0;function Yp(e,t,r,n){return n===void 0&&(n=0),io.wipe(r),Z0(e,t,r,r,n)}Fi.stream=Yp;function Xp(e,t,r){for(var n=1;r--;)n=n+(e[t]&255)|0,e[t]=n&255,n>>>=8,t++;if(n>0)throw new Error("ChaCha: counter overflow")}});var so=K(Jr=>{"use strict";Object.defineProperty(Jr,"__esModule",{value:!0});function Zp(e,t,r){return~(e-1)&t|e-1&r}Jr.select=Zp;function Qp(e,t){return(e|0)-(t|0)-1>>>31&1}Jr.lessOrEqual=Qp;function j0(e,t){if(e.length!==t.length)return 0;for(var r=0,n=0;n<e.length;n++)r|=e[n]^t[n];return 1&r-1>>>8}Jr.compare=j0;function jp(e,t){return e.length===0||t.length===0?!1:j0(e,t)!==0}Jr.equal=jp});var tc=K($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});var Jp=so(),Oi=_r();$e.DIGEST_LENGTH=16;var J0=function(){function e(t){this.digestLength=$e.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var r=t[0]|t[1]<<8;this._r[0]=r&8191;var n=t[2]|t[3]<<8;this._r[1]=(r>>>13|n<<3)&8191;var i=t[4]|t[5]<<8;this._r[2]=(n>>>10|i<<6)&7939;var s=t[6]|t[7]<<8;this._r[3]=(i>>>7|s<<9)&8191;var o=t[8]|t[9]<<8;this._r[4]=(s>>>4|o<<12)&255,this._r[5]=o>>>1&8190;var a=t[10]|t[11]<<8;this._r[6]=(o>>>14|a<<2)&8191;var c=t[12]|t[13]<<8;this._r[7]=(a>>>11|c<<5)&8065;var f=t[14]|t[15]<<8;this._r[8]=(c>>>8|f<<8)&8191,this._r[9]=f>>>5&127,this._pad[0]=t[16]|t[17]<<8,this._pad[1]=t[18]|t[19]<<8,this._pad[2]=t[20]|t[21]<<8,this._pad[3]=t[22]|t[23]<<8,this._pad[4]=t[24]|t[25]<<8,this._pad[5]=t[26]|t[27]<<8,this._pad[6]=t[28]|t[29]<<8,this._pad[7]=t[30]|t[31]<<8}return e.prototype._blocks=function(t,r,n){for(var i=this._fin?0:2048,s=this._h[0],o=this._h[1],a=this._h[2],c=this._h[3],f=this._h[4],u=this._h[5],h=this._h[6],l=this._h[7],d=this._h[8],p=this._h[9],y=this._r[0],g=this._r[1],x=this._r[2],w=this._r[3],b=this._r[4],B=this._r[5],E=this._r[6],A=this._r[7],L=this._r[8],R=this._r[9];n>=16;){var k=t[r+0]|t[r+1]<<8;s+=k&8191;var O=t[r+2]|t[r+3]<<8;o+=(k>>>13|O<<3)&8191;var G=t[r+4]|t[r+5]<<8;a+=(O>>>10|G<<6)&8191;var z=t[r+6]|t[r+7]<<8;c+=(G>>>7|z<<9)&8191;var rt=t[r+8]|t[r+9]<<8;f+=(z>>>4|rt<<12)&8191,u+=rt>>>1&8191;var pt=t[r+10]|t[r+11]<<8;h+=(rt>>>14|pt<<2)&8191;var F=t[r+12]|t[r+13]<<8;l+=(pt>>>11|F<<5)&8191;var H=t[r+14]|t[r+15]<<8;d+=(F>>>8|H<<8)&8191,p+=H>>>5|i;var C=0,V=C;V+=s*y,V+=o*(5*R),V+=a*(5*L),V+=c*(5*A),V+=f*(5*E),C=V>>>13,V&=8191,V+=u*(5*B),V+=h*(5*b),V+=l*(5*w),V+=d*(5*x),V+=p*(5*g),C+=V>>>13,V&=8191;var xt=C;xt+=s*g,xt+=o*y,xt+=a*(5*R),xt+=c*(5*L),xt+=f*(5*A),C=xt>>>13,xt&=8191,xt+=u*(5*E),xt+=h*(5*B),xt+=l*(5*b),xt+=d*(5*w),xt+=p*(5*x),C+=xt>>>13,xt&=8191;var X=C;X+=s*x,X+=o*g,X+=a*y,X+=c*(5*R),X+=f*(5*L),C=X>>>13,X&=8191,X+=u*(5*A),X+=h*(5*E),X+=l*(5*B),X+=d*(5*b),X+=p*(5*w),C+=X>>>13,X&=8191;var Z=C;Z+=s*w,Z+=o*x,Z+=a*g,Z+=c*y,Z+=f*(5*R),C=Z>>>13,Z&=8191,Z+=u*(5*L),Z+=h*(5*A),Z+=l*(5*E),Z+=d*(5*B),Z+=p*(5*b),C+=Z>>>13,Z&=8191;var Q=C;Q+=s*b,Q+=o*w,Q+=a*x,Q+=c*g,Q+=f*y,C=Q>>>13,Q&=8191,Q+=u*(5*R),Q+=h*(5*L),Q+=l*(5*A),Q+=d*(5*E),Q+=p*(5*B),C+=Q>>>13,Q&=8191;var ot=C;ot+=s*B,ot+=o*b,ot+=a*w,ot+=c*x,ot+=f*g,C=ot>>>13,ot&=8191,ot+=u*y,ot+=h*(5*R),ot+=l*(5*L),ot+=d*(5*A),ot+=p*(5*E),C+=ot>>>13,ot&=8191;var at=C;at+=s*E,at+=o*B,at+=a*b,at+=c*w,at+=f*x,C=at>>>13,at&=8191,at+=u*g,at+=h*y,at+=l*(5*R),at+=d*(5*L),at+=p*(5*A),C+=at>>>13,at&=8191;var ct=C;ct+=s*A,ct+=o*E,ct+=a*B,ct+=c*b,ct+=f*w,C=ct>>>13,ct&=8191,ct+=u*x,ct+=h*g,ct+=l*y,ct+=d*(5*R),ct+=p*(5*L),C+=ct>>>13,ct&=8191;var ft=C;ft+=s*L,ft+=o*A,ft+=a*E,ft+=c*B,ft+=f*b,C=ft>>>13,ft&=8191,ft+=u*w,ft+=h*x,ft+=l*g,ft+=d*y,ft+=p*(5*R),C+=ft>>>13,ft&=8191;var ut=C;ut+=s*R,ut+=o*L,ut+=a*A,ut+=c*E,ut+=f*B,C=ut>>>13,ut&=8191,ut+=u*b,ut+=h*w,ut+=l*x,ut+=d*g,ut+=p*y,C+=ut>>>13,ut&=8191,C=(C<<2)+C|0,C=C+V|0,V=C&8191,C=C>>>13,xt+=C,s=V,o=xt,a=X,c=Z,f=Q,u=ot,h=at,l=ct,d=ft,p=ut,r+=16,n-=16}this._h[0]=s,this._h[1]=o,this._h[2]=a,this._h[3]=c,this._h[4]=f,this._h[5]=u,this._h[6]=h,this._h[7]=l,this._h[8]=d,this._h[9]=p},e.prototype.finish=function(t,r){r===void 0&&(r=0);var n=new Uint16Array(10),i,s,o,a;if(this._leftover){for(a=this._leftover,this._buffer[a++]=1;a<16;a++)this._buffer[a]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(i=this._h[1]>>>13,this._h[1]&=8191,a=2;a<10;a++)this._h[a]+=i,i=this._h[a]>>>13,this._h[a]&=8191;for(this._h[0]+=i*5,i=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=i,i=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=i,n[0]=this._h[0]+5,i=n[0]>>>13,n[0]&=8191,a=1;a<10;a++)n[a]=this._h[a]+i,i=n[a]>>>13,n[a]&=8191;for(n[9]-=8192,s=(i^1)-1,a=0;a<10;a++)n[a]&=s;for(s=~s,a=0;a<10;a++)this._h[a]=this._h[a]&s|n[a];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,o=this._h[0]+this._pad[0],this._h[0]=o&65535,a=1;a<8;a++)o=(this._h[a]+this._pad[a]|0)+(o>>>16)|0,this._h[a]=o&65535;return t[r+0]=this._h[0]>>>0,t[r+1]=this._h[0]>>>8,t[r+2]=this._h[1]>>>0,t[r+3]=this._h[1]>>>8,t[r+4]=this._h[2]>>>0,t[r+5]=this._h[2]>>>8,t[r+6]=this._h[3]>>>0,t[r+7]=this._h[3]>>>8,t[r+8]=this._h[4]>>>0,t[r+9]=this._h[4]>>>8,t[r+10]=this._h[5]>>>0,t[r+11]=this._h[5]>>>8,t[r+12]=this._h[6]>>>0,t[r+13]=this._h[6]>>>8,t[r+14]=this._h[7]>>>0,t[r+15]=this._h[7]>>>8,this._finished=!0,this},e.prototype.update=function(t){var r=0,n=t.length,i;if(this._leftover){i=16-this._leftover,i>n&&(i=n);for(var s=0;s<i;s++)this._buffer[this._leftover+s]=t[r+s];if(n-=i,r+=i,this._leftover+=i,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(n>=16&&(i=n-n%16,this._blocks(t,r,i),r+=i,n-=i),n){for(var s=0;s<n;s++)this._buffer[this._leftover+s]=t[r+s];this._leftover+=n}return this},e.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var t=new Uint8Array(16);return this.finish(t),t},e.prototype.clean=function(){return Oi.wipe(this._buffer),Oi.wipe(this._r),Oi.wipe(this._h),Oi.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},e}();$e.Poly1305=J0;function td(e,t){var r=new J0(e);r.update(t);var n=r.digest();return r.clean(),n}$e.oneTimeAuth=td;function ed(e,t){return e.length!==$e.DIGEST_LENGTH||t.length!==$e.DIGEST_LENGTH?!1:Jp.equal(e,t)}$e.equal=ed});var oo=K(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});var Vi=Q0(),rd=tc(),Fn=_r(),ec=Mi(),nd=so();Ye.KEY_LENGTH=32;Ye.NONCE_LENGTH=12;Ye.TAG_LENGTH=16;var rc=new Uint8Array(16),id=function(){function e(t){if(this.nonceLength=Ye.NONCE_LENGTH,this.tagLength=Ye.TAG_LENGTH,t.length!==Ye.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(t)}return e.prototype.seal=function(t,r,n,i){if(t.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var s=new Uint8Array(16);s.set(t,s.length-t.length);var o=new Uint8Array(32);Vi.stream(this._key,s,o,4);var a=r.length+this.tagLength,c;if(i){if(i.length!==a)throw new Error("ChaCha20Poly1305: incorrect destination length");c=i}else c=new Uint8Array(a);return Vi.streamXOR(this._key,s,r,c,4),this._authenticate(c.subarray(c.length-this.tagLength,c.length),o,c.subarray(0,c.length-this.tagLength),n),Fn.wipe(s),c},e.prototype.open=function(t,r,n,i){if(t.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(r.length<this.tagLength)return null;var s=new Uint8Array(16);s.set(t,s.length-t.length);var o=new Uint8Array(32);Vi.stream(this._key,s,o,4);var a=new Uint8Array(this.tagLength);if(this._authenticate(a,o,r.subarray(0,r.length-this.tagLength),n),!nd.equal(a,r.subarray(r.length-this.tagLength,r.length)))return null;var c=r.length-this.tagLength,f;if(i){if(i.length!==c)throw new Error("ChaCha20Poly1305: incorrect destination length");f=i}else f=new Uint8Array(c);return Vi.streamXOR(this._key,s,r.subarray(0,r.length-this.tagLength),f,4),Fn.wipe(s),f},e.prototype.clean=function(){return Fn.wipe(this._key),this},e.prototype._authenticate=function(t,r,n,i){var s=new rd.Poly1305(r);i&&(s.update(i),i.length%16>0&&s.update(rc.subarray(i.length%16))),s.update(n),n.length%16>0&&s.update(rc.subarray(n.length%16));var o=new Uint8Array(8);i&&ec.writeUint64LE(i.length,o),s.update(o),ec.writeUint64LE(n.length,o),s.update(o);for(var a=s.digest(),c=0;c<a.length;c++)t[c]=a[c];s.clean(),Fn.wipe(a),Fn.wipe(o)},e}();Ye.ChaCha20Poly1305=id});var ic=K(Hi=>{"use strict";Object.defineProperty(Hi,"__esModule",{value:!0});Hi.BrowserRandomSource=void 0;var nc=65536,ao=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;let t=typeof self<"u"?self.crypto||self.msCrypto:null;t&&t.getRandomValues!==void 0&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");let r=new Uint8Array(t);for(let n=0;n<r.length;n+=nc)this._crypto.getRandomValues(r.subarray(n,n+Math.min(r.length-n,nc)));return r}};Hi.BrowserRandomSource=ao});var Tr=K(()=>{});var sc=K(qi=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});qi.NodeRandomSource=void 0;var sd=_r(),co=class{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof B0<"u"){let t=Tr();t&&t.randomBytes&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let r=this._crypto.randomBytes(t);if(r.length!==t)throw new Error("NodeRandomSource: got fewer bytes than requested");let n=new Uint8Array(t);for(let i=0;i<n.length;i++)n[i]=r[i];return(0,sd.wipe)(r),n}};qi.NodeRandomSource=co});var oc=K(zi=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});zi.SystemRandomSource=void 0;var od=ic(),ad=sc(),fo=class{constructor(){if(this.isAvailable=!1,this.name="",this._source=new od.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new ad.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(t){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(t)}};zi.SystemRandomSource=fo});var uc=K(re=>{"use strict";Object.defineProperty(re,"__esModule",{value:!0});re.randomStringForEntropy=re.randomString=re.randomUint32=re.randomBytes=re.defaultRandomSource=void 0;var cd=oc(),fd=Mi(),ac=_r();re.defaultRandomSource=new cd.SystemRandomSource;function uo(e,t=re.defaultRandomSource){return t.randomBytes(e)}re.randomBytes=uo;function ud(e=re.defaultRandomSource){let t=uo(4,e),r=(0,fd.readUint32LE)(t);return(0,ac.wipe)(t),r}re.randomUint32=ud;var cc="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function fc(e,t=cc,r=re.defaultRandomSource){if(t.length<2)throw new Error("randomString charset is too short");if(t.length>256)throw new Error("randomString charset is too long");let n="",i=t.length,s=256-256%i;for(;e>0;){let o=uo(Math.ceil(e*256/s),r);for(let a=0;a<o.length&&e>0;a++){let c=o[a];c<s&&(n+=t.charAt(c%i),e--)}(0,ac.wipe)(o)}return n}re.randomString=fc;function hd(e,t=cc,r=re.defaultRandomSource){let n=Math.ceil(e/(Math.log(t.length)/Math.LN2));return fc(n,t,r)}re.randomStringForEntropy=hd});var dc=K(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.sharedKey=It.generateKeyPair=It.generateKeyPairFromSeed=It.scalarMultBase=It.scalarMult=It.SHARED_KEY_LENGTH=It.SECRET_KEY_LENGTH=It.PUBLIC_KEY_LENGTH=void 0;var ld=uc(),pd=_r();It.PUBLIC_KEY_LENGTH=32;It.SECRET_KEY_LENGTH=32;It.SHARED_KEY_LENGTH=32;function Le(e){let t=new Float64Array(16);if(e)for(let r=0;r<e.length;r++)t[r]=e[r];return t}var hc=new Uint8Array(32);hc[0]=9;var dd=Le([56129,1]);function ho(e){let t=1;for(let r=0;r<16;r++){let n=e[r]+t+65535;t=Math.floor(n/65536),e[r]=n-t*65536}e[0]+=t-1+37*(t-1)}function On(e,t,r){let n=~(r-1);for(let i=0;i<16;i++){let s=n&(e[i]^t[i]);e[i]^=s,t[i]^=s}}function yd(e,t){let r=Le(),n=Le();for(let i=0;i<16;i++)n[i]=t[i];ho(n),ho(n),ho(n);for(let i=0;i<2;i++){r[0]=n[0]-65517;for(let o=1;o<15;o++)r[o]=n[o]-65535-(r[o-1]>>16&1),r[o-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);let s=r[15]>>16&1;r[14]&=65535,On(n,r,1-s)}for(let i=0;i<16;i++)e[2*i]=n[i]&255,e[2*i+1]=n[i]>>8}function gd(e,t){for(let r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function Gi(e,t,r){for(let n=0;n<16;n++)e[n]=t[n]+r[n]}function Wi(e,t,r){for(let n=0;n<16;n++)e[n]=t[n]-r[n]}function Xe(e,t,r){let n,i,s=0,o=0,a=0,c=0,f=0,u=0,h=0,l=0,d=0,p=0,y=0,g=0,x=0,w=0,b=0,B=0,E=0,A=0,L=0,R=0,k=0,O=0,G=0,z=0,rt=0,pt=0,F=0,H=0,C=0,V=0,xt=0,X=r[0],Z=r[1],Q=r[2],ot=r[3],at=r[4],ct=r[5],ft=r[6],ut=r[7],$t=r[8],Yt=r[9],Xt=r[10],Zt=r[11],Qt=r[12],jt=r[13],Jt=r[14],te=r[15];n=t[0],s+=n*X,o+=n*Z,a+=n*Q,c+=n*ot,f+=n*at,u+=n*ct,h+=n*ft,l+=n*ut,d+=n*$t,p+=n*Yt,y+=n*Xt,g+=n*Zt,x+=n*Qt,w+=n*jt,b+=n*Jt,B+=n*te,n=t[1],o+=n*X,a+=n*Z,c+=n*Q,f+=n*ot,u+=n*at,h+=n*ct,l+=n*ft,d+=n*ut,p+=n*$t,y+=n*Yt,g+=n*Xt,x+=n*Zt,w+=n*Qt,b+=n*jt,B+=n*Jt,E+=n*te,n=t[2],a+=n*X,c+=n*Z,f+=n*Q,u+=n*ot,h+=n*at,l+=n*ct,d+=n*ft,p+=n*ut,y+=n*$t,g+=n*Yt,x+=n*Xt,w+=n*Zt,b+=n*Qt,B+=n*jt,E+=n*Jt,A+=n*te,n=t[3],c+=n*X,f+=n*Z,u+=n*Q,h+=n*ot,l+=n*at,d+=n*ct,p+=n*ft,y+=n*ut,g+=n*$t,x+=n*Yt,w+=n*Xt,b+=n*Zt,B+=n*Qt,E+=n*jt,A+=n*Jt,L+=n*te,n=t[4],f+=n*X,u+=n*Z,h+=n*Q,l+=n*ot,d+=n*at,p+=n*ct,y+=n*ft,g+=n*ut,x+=n*$t,w+=n*Yt,b+=n*Xt,B+=n*Zt,E+=n*Qt,A+=n*jt,L+=n*Jt,R+=n*te,n=t[5],u+=n*X,h+=n*Z,l+=n*Q,d+=n*ot,p+=n*at,y+=n*ct,g+=n*ft,x+=n*ut,w+=n*$t,b+=n*Yt,B+=n*Xt,E+=n*Zt,A+=n*Qt,L+=n*jt,R+=n*Jt,k+=n*te,n=t[6],h+=n*X,l+=n*Z,d+=n*Q,p+=n*ot,y+=n*at,g+=n*ct,x+=n*ft,w+=n*ut,b+=n*$t,B+=n*Yt,E+=n*Xt,A+=n*Zt,L+=n*Qt,R+=n*jt,k+=n*Jt,O+=n*te,n=t[7],l+=n*X,d+=n*Z,p+=n*Q,y+=n*ot,g+=n*at,x+=n*ct,w+=n*ft,b+=n*ut,B+=n*$t,E+=n*Yt,A+=n*Xt,L+=n*Zt,R+=n*Qt,k+=n*jt,O+=n*Jt,G+=n*te,n=t[8],d+=n*X,p+=n*Z,y+=n*Q,g+=n*ot,x+=n*at,w+=n*ct,b+=n*ft,B+=n*ut,E+=n*$t,A+=n*Yt,L+=n*Xt,R+=n*Zt,k+=n*Qt,O+=n*jt,G+=n*Jt,z+=n*te,n=t[9],p+=n*X,y+=n*Z,g+=n*Q,x+=n*ot,w+=n*at,b+=n*ct,B+=n*ft,E+=n*ut,A+=n*$t,L+=n*Yt,R+=n*Xt,k+=n*Zt,O+=n*Qt,G+=n*jt,z+=n*Jt,rt+=n*te,n=t[10],y+=n*X,g+=n*Z,x+=n*Q,w+=n*ot,b+=n*at,B+=n*ct,E+=n*ft,A+=n*ut,L+=n*$t,R+=n*Yt,k+=n*Xt,O+=n*Zt,G+=n*Qt,z+=n*jt,rt+=n*Jt,pt+=n*te,n=t[11],g+=n*X,x+=n*Z,w+=n*Q,b+=n*ot,B+=n*at,E+=n*ct,A+=n*ft,L+=n*ut,R+=n*$t,k+=n*Yt,O+=n*Xt,G+=n*Zt,z+=n*Qt,rt+=n*jt,pt+=n*Jt,F+=n*te,n=t[12],x+=n*X,w+=n*Z,b+=n*Q,B+=n*ot,E+=n*at,A+=n*ct,L+=n*ft,R+=n*ut,k+=n*$t,O+=n*Yt,G+=n*Xt,z+=n*Zt,rt+=n*Qt,pt+=n*jt,F+=n*Jt,H+=n*te,n=t[13],w+=n*X,b+=n*Z,B+=n*Q,E+=n*ot,A+=n*at,L+=n*ct,R+=n*ft,k+=n*ut,O+=n*$t,G+=n*Yt,z+=n*Xt,rt+=n*Zt,pt+=n*Qt,F+=n*jt,H+=n*Jt,C+=n*te,n=t[14],b+=n*X,B+=n*Z,E+=n*Q,A+=n*ot,L+=n*at,R+=n*ct,k+=n*ft,O+=n*ut,G+=n*$t,z+=n*Yt,rt+=n*Xt,pt+=n*Zt,F+=n*Qt,H+=n*jt,C+=n*Jt,V+=n*te,n=t[15],B+=n*X,E+=n*Z,A+=n*Q,L+=n*ot,R+=n*at,k+=n*ct,O+=n*ft,G+=n*ut,z+=n*$t,rt+=n*Yt,pt+=n*Xt,F+=n*Zt,H+=n*Qt,C+=n*jt,V+=n*Jt,xt+=n*te,s+=38*E,o+=38*A,a+=38*L,c+=38*R,f+=38*k,u+=38*O,h+=38*G,l+=38*z,d+=38*rt,p+=38*pt,y+=38*F,g+=38*H,x+=38*C,w+=38*V,b+=38*xt,i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,n=w+i+65535,i=Math.floor(n/65536),w=n-i*65536,n=b+i+65535,i=Math.floor(n/65536),b=n-i*65536,n=B+i+65535,i=Math.floor(n/65536),B=n-i*65536,s+=i-1+37*(i-1),i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=g+i+65535,i=Math.floor(n/65536),g=n-i*65536,n=x+i+65535,i=Math.floor(n/65536),x=n-i*65536,n=w+i+65535,i=Math.floor(n/65536),w=n-i*65536,n=b+i+65535,i=Math.floor(n/65536),b=n-i*65536,n=B+i+65535,i=Math.floor(n/65536),B=n-i*65536,s+=i-1+37*(i-1),e[0]=s,e[1]=o,e[2]=a,e[3]=c,e[4]=f,e[5]=u,e[6]=h,e[7]=l,e[8]=d,e[9]=p,e[10]=y,e[11]=g,e[12]=x,e[13]=w,e[14]=b,e[15]=B}function Vn(e,t){Xe(e,t,t)}function xd(e,t){let r=Le();for(let n=0;n<16;n++)r[n]=t[n];for(let n=253;n>=0;n--)Vn(r,r),n!==2&&n!==4&&Xe(r,r,t);for(let n=0;n<16;n++)e[n]=r[n]}function lo(e,t){let r=new Uint8Array(32),n=new Float64Array(80),i=Le(),s=Le(),o=Le(),a=Le(),c=Le(),f=Le();for(let d=0;d<31;d++)r[d]=e[d];r[31]=e[31]&127|64,r[0]&=248,gd(n,t);for(let d=0;d<16;d++)s[d]=n[d];i[0]=a[0]=1;for(let d=254;d>=0;--d){let p=r[d>>>3]>>>(d&7)&1;On(i,s,p),On(o,a,p),Gi(c,i,o),Wi(i,i,o),Gi(o,s,a),Wi(s,s,a),Vn(a,c),Vn(f,i),Xe(i,o,i),Xe(o,s,c),Gi(c,i,o),Wi(i,i,o),Vn(s,i),Wi(o,a,f),Xe(i,o,dd),Gi(i,i,a),Xe(o,o,i),Xe(i,a,f),Xe(a,s,n),Vn(s,c),On(i,s,p),On(o,a,p)}for(let d=0;d<16;d++)n[d+16]=i[d],n[d+32]=o[d],n[d+48]=s[d],n[d+64]=a[d];let u=n.subarray(32),h=n.subarray(16);xd(u,u),Xe(h,h,u);let l=new Uint8Array(32);return yd(l,h),l}It.scalarMult=lo;function lc(e){return lo(e,hc)}It.scalarMultBase=lc;function pc(e){if(e.length!==It.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${It.SECRET_KEY_LENGTH} bytes`);let t=new Uint8Array(e);return{publicKey:lc(t),secretKey:t}}It.generateKeyPairFromSeed=pc;function md(e){let t=(0,ld.randomBytes)(32,e),r=pc(t);return(0,pd.wipe)(t),r}It.generateKeyPair=md;function vd(e,t,r=!1){if(e.length!==It.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(t.length!==It.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");let n=lo(e,t);if(r){let i=0;for(let s=0;s<n.length;s++)i|=n[s];if(i===0)throw new Error("X25519: invalid shared key")}return n}It.sharedKey=vd});var gt=K((Cb,Ac)=>{Ac.exports={options:{usePureJavaScript:!1}}});var _c=K((_b,Cc)=>{var mo={};Cc.exports=mo;var Bc={};mo.encode=function(e,t,r){if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(e instanceof Uint8Array))n=wd(e,t);else{var i=0,s=t.length,o=t.charAt(0),a=[0];for(i=0;i<e.length;++i){for(var c=0,f=e[i];c<a.length;++c)f+=a[c]<<8,a[c]=f%s,f=f/s|0;for(;f>0;)a.push(f%s),f=f/s|0}for(i=0;e[i]===0&&i<e.length-1;++i)n+=o;for(i=a.length-1;i>=0;--i)n+=t[a[i]]}if(r){var u=new RegExp(".{1,"+r+"}","g");n=n.match(u).join(`\r
`)}return n};mo.decode=function(e,t){if(typeof e!="string")throw new TypeError('"input" must be a string.');if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');var r=Bc[t];if(!r){r=Bc[t]=[];for(var n=0;n<t.length;++n)r[t.charCodeAt(n)]=n}e=e.replace(/\s/g,"");for(var i=t.length,s=t.charAt(0),o=[0],n=0;n<e.length;n++){var a=r[e.charCodeAt(n)];if(a===void 0)return;for(var c=0,f=a;c<o.length;++c)f+=o[c]*i,o[c]=f&255,f>>=8;for(;f>0;)o.push(f&255),f>>=8}for(var u=0;e[u]===s&&u<e.length-1;++u)o.push(0);return typeof Buffer<"u"?Buffer.from(o.reverse()):new Uint8Array(o.reverse())};function wd(e,t){var r=0,n=t.length,i=t.charAt(0),s=[0];for(r=0;r<e.length();++r){for(var o=0,a=e.at(r);o<s.length;++o)a+=s[o]<<8,s[o]=a%n,a=a/n|0;for(;a>0;)s.push(a%n),a=a/n|0}var c="";for(r=0;e.at(r)===0&&r<e.length()-1;++r)c+=i;for(r=s.length-1;r>=0;--r)c+=t[s[r]];return c}});var Dt=K((Tb,Rc)=>{var Tc=gt(),Ic=_c(),m=Rc.exports=Tc.util=Tc.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){m.nextTick=process.nextTick,typeof setImmediate=="function"?m.setImmediate=setImmediate:m.setImmediate=m.nextTick;return}if(typeof setImmediate=="function"){m.setImmediate=function(){return setImmediate.apply(void 0,arguments)},m.nextTick=function(a){return setImmediate(a)};return}if(m.setImmediate=function(a){setTimeout(a,0)},typeof window<"u"&&typeof window.postMessage=="function"){let a=function(c){if(c.source===window&&c.data===e){c.stopPropagation();var f=t.slice();t.length=0,f.forEach(function(u){u()})}};var o=a,e="forge.setImmediate",t=[];m.setImmediate=function(c){t.push(c),t.length===1&&window.postMessage(e,"*")},window.addEventListener("message",a,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,i=document.createElement("div"),t=[];new MutationObserver(function(){var c=t.slice();t.length=0,c.forEach(function(f){f()})}).observe(i,{attributes:!0});var s=m.setImmediate;m.setImmediate=function(c){Date.now()-r>15?(r=Date.now(),s(c)):(t.push(c),t.length===1&&i.setAttribute("a",n=!n))}}m.nextTick=m.setImmediate})();m.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;m.globalScope=function(){return m.isNodejs?globalThis:typeof self>"u"?window:self}();m.isArray=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};m.isArrayBuffer=function(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer};m.isArrayBufferView=function(e){return e&&m.isArrayBuffer(e.buffer)&&e.byteLength!==void 0};function zn(e){if(!(e===8||e===16||e===24||e===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}m.ByteBuffer=vo;function vo(e){if(this.data="",this.read=0,typeof e=="string")this.data=e;else if(m.isArrayBuffer(e)||m.isArrayBufferView(e))if(typeof Buffer<"u"&&e instanceof Buffer)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch{for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof vo||typeof e=="object"&&typeof e.data=="string"&&typeof e.read=="number")&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}m.ByteStringBuffer=vo;var Ed=4096;m.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>Ed&&(this.data.substr(0,1),this._constructedStringLength=0)};m.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};m.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};m.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))};m.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this};m.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this};m.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(m.encodeUtf8(e))};m.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};m.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};m.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};m.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255))};m.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))};m.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))};m.ByteStringBuffer.prototype.putInt=function(e,t){zn(t);var r="";do t-=8,r+=String.fromCharCode(e>>t&255);while(t>0);return this.putBytes(r)};m.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)};m.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())};m.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};m.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e};m.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e};m.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e};m.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e};m.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e};m.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e};m.ByteStringBuffer.prototype.getInt=function(e){zn(e);var t=0;do t=(t<<8)+this.data.charCodeAt(this.read++),e-=8;while(e>0);return t};m.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};m.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};m.ByteStringBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};m.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)};m.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this};m.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};m.ByteStringBuffer.prototype.copy=function(){var e=m.createBuffer(this.data);return e.read=this.read,e};m.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};m.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};m.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this};m.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e};m.ByteStringBuffer.prototype.toString=function(){return m.decodeUtf8(this.bytes())};function Sd(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=m.isArrayBuffer(e),n=m.isArrayBufferView(e);if(r||n){r?this.data=new DataView(e):this.data=new DataView(e.buffer,e.byteOffset,e.byteLength),this.write="writeOffset"in t?t.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,e!=null&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)}m.DataBuffer=Sd;m.DataBuffer.prototype.length=function(){return this.write-this.read};m.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};m.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this};m.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this};m.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this};m.DataBuffer.prototype.putBytes=function(e,t){if(m.isArrayBufferView(e)){var r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(m.isArrayBuffer(e)){var r=new Uint8Array(e);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(e instanceof m.DataBuffer||typeof e=="object"&&typeof e.read=="number"&&typeof e.write=="number"&&m.isArrayBufferView(e.data)){var r=new Uint8Array(e.data.byteLength,e.read,e.length());this.accommodate(r.byteLength);var i=new Uint8Array(e.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(e instanceof m.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary",typeof e=="string"){var s;if(t==="hex")return this.accommodate(Math.ceil(e.length/2)),s=new Uint8Array(this.data.buffer,this.write),this.write+=m.binary.hex.decode(e,s,this.write),this;if(t==="base64")return this.accommodate(Math.ceil(e.length/4)*3),s=new Uint8Array(this.data.buffer,this.write),this.write+=m.binary.base64.decode(e,s,this.write),this;if(t==="utf8"&&(e=m.encodeUtf8(e),t="binary"),t==="binary"||t==="raw")return this.accommodate(e.length),s=new Uint8Array(this.data.buffer,this.write),this.write+=m.binary.raw.decode(s),this;if(t==="utf16")return this.accommodate(e.length*2),s=new Uint16Array(this.data.buffer,this.write),this.write+=m.text.utf16.encode(s),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)};m.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this};m.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")};m.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this};m.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this};m.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this};m.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this};m.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this};m.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this};m.DataBuffer.prototype.putInt=function(e,t){zn(t),this.accommodate(t/8);do t-=8,this.data.setInt8(this.write++,e>>t&255);while(t>0);return this};m.DataBuffer.prototype.putSignedInt=function(e,t){return zn(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)};m.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};m.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e};m.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e};m.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e};m.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e};m.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e};m.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e};m.DataBuffer.prototype.getInt=function(e){zn(e);var t=0;do t=(t<<8)+this.data.getInt8(this.read++),e-=8;while(e>0);return t};m.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};m.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};m.DataBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};m.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)};m.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this};m.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};m.DataBuffer.prototype.copy=function(){return new m.DataBuffer(this)};m.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this};m.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};m.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this};m.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e};m.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if(e=e||"utf8",e==="binary"||e==="raw")return m.binary.raw.encode(t);if(e==="hex")return m.binary.hex.encode(t);if(e==="base64")return m.binary.base64.encode(t);if(e==="utf8")return m.text.utf8.decode(t);if(e==="utf16")return m.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)};m.createBuffer=function(e,t){return t=t||"raw",e!==void 0&&t==="utf8"&&(e=m.encodeUtf8(e)),new m.ByteBuffer(e)};m.fillString=function(e,t){for(var r="";t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return r};m.xorBytes=function(e,t,r){for(var n="",i="",s="",o=0,a=0;r>0;--r,++o)i=e.charCodeAt(o)^t.charCodeAt(o),a>=10&&(n+=s,s="",a=0),s+=String.fromCharCode(i),++a;return n+=s,n};m.hexToBytes=function(e){var t="",r=0;for(e.length&!0&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t};m.bytesToHex=function(e){return m.createBuffer(e).toHex()};m.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255)};var cr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",fr=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],Lc="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";m.encode64=function(e,t){for(var r="",n="",i,s,o,a=0;a<e.length;)i=e.charCodeAt(a++),s=e.charCodeAt(a++),o=e.charCodeAt(a++),r+=cr.charAt(i>>2),r+=cr.charAt((i&3)<<4|s>>4),isNaN(s)?r+="==":(r+=cr.charAt((s&15)<<2|o>>6),r+=isNaN(o)?"=":cr.charAt(o&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};m.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t="",r,n,i,s,o=0;o<e.length;)r=fr[e.charCodeAt(o++)-43],n=fr[e.charCodeAt(o++)-43],i=fr[e.charCodeAt(o++)-43],s=fr[e.charCodeAt(o++)-43],t+=String.fromCharCode(r<<2|n>>4),i!==64&&(t+=String.fromCharCode((n&15)<<4|i>>2),s!==64&&(t+=String.fromCharCode((i&3)<<6|s)));return t};m.encodeUtf8=function(e){return unescape(encodeURIComponent(e))};m.decodeUtf8=function(e){return decodeURIComponent(escape(e))};m.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:Ic.encode,decode:Ic.decode}};m.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)};m.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,s=0;s<e.length;++s)n[i++]=e.charCodeAt(s);return t?i-r:n};m.binary.hex.encode=m.bytesToHex;m.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2))),r=r||0;var i=0,s=r;for(e.length&1&&(i=1,n[s++]=parseInt(e[0],16));i<e.length;i+=2)n[s++]=parseInt(e.substr(i,2),16);return t?s-r:n};m.binary.base64.encode=function(e,t){for(var r="",n="",i,s,o,a=0;a<e.byteLength;)i=e[a++],s=e[a++],o=e[a++],r+=cr.charAt(i>>2),r+=cr.charAt((i&3)<<4|s>>4),isNaN(s)?r+="==":(r+=cr.charAt((s&15)<<2|o>>6),r+=isNaN(o)?"=":cr.charAt(o&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};m.binary.base64.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/4)*3)),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,s,o,a,c=0,f=r;c<e.length;)i=fr[e.charCodeAt(c++)-43],s=fr[e.charCodeAt(c++)-43],o=fr[e.charCodeAt(c++)-43],a=fr[e.charCodeAt(c++)-43],n[f++]=i<<2|s>>4,o!==64&&(n[f++]=(s&15)<<4|o>>2,a!==64&&(n[f++]=(o&3)<<6|a));return t?f-r:n.subarray(0,f)};m.binary.base58.encode=function(e,t){return m.binary.baseN.encode(e,Lc,t)};m.binary.base58.decode=function(e,t){return m.binary.baseN.decode(e,Lc,t)};m.text={utf8:{},utf16:{}};m.text.utf8.encode=function(e,t,r){e=m.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var i=r,s=0;s<e.length;++s)n[i++]=e.charCodeAt(s);return t?i-r:n};m.text.utf8.decode=function(e){return m.decodeUtf8(String.fromCharCode.apply(null,e))};m.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length*2));var i=new Uint16Array(n.buffer);r=r||0;for(var s=r,o=r,a=0;a<e.length;++a)i[o++]=e.charCodeAt(a),s+=2;return t?s-r:n};m.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))};m.deflate=function(e,t,r){if(t=m.decode64(e.deflate(m.encode64(t)).rval),r){var n=2,i=t.charCodeAt(1);i&32&&(n=6),t=t.substring(n,t.length-4)}return t};m.inflate=function(e,t,r){var n=e.inflate(m.encode64(t)).rval;return n===null?null:m.decode64(n)};var bo=function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(r===null?n=e.removeItem(t):(r=m.encode64(JSON.stringify(r)),n=e.setItem(t,r)),typeof n<"u"&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},wo=function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(m.decode64(r))),r},Ad=function(e,t,r,n){var i=wo(e,t);i===null&&(i={}),i[r]=n,bo(e,t,i)},Bd=function(e,t,r){var n=wo(e,t);return n!==null&&(n=r in n?n[r]:null),n},Cd=function(e,t,r){var n=wo(e,t);if(n!==null&&r in n){delete n[r];var i=!0;for(var s in n){i=!1;break}i&&(n=null),bo(e,t,n)}},_d=function(e,t){bo(e,t,null)},Yi=function(e,t,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var i,s=!1,o=null;for(var a in r){i=r[a];try{if(i==="flash"||i==="both"){if(t[0]===null)throw new Error("Flash local storage not available.");n=e.apply(this,t),s=i==="flash"}(i==="web"||i==="both")&&(t[0]=localStorage,n=e.apply(this,t),s=!0)}catch(c){o=c}if(s)break}if(!s)throw o;return n};m.setItem=function(e,t,r,n,i){Yi(Ad,arguments,i)};m.getItem=function(e,t,r,n){return Yi(Bd,arguments,n)};m.removeItem=function(e,t,r,n){Yi(Cd,arguments,n)};m.clearItems=function(e,t,r){Yi(_d,arguments,r)};m.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};m.format=function(e){for(var t=/%./g,r,n,i=0,s=[],o=0;r=t.exec(e);){n=e.substring(o,t.lastIndex-2),n.length>0&&s.push(n),o=t.lastIndex;var a=r[0][1];switch(a){case"s":case"o":i<arguments.length?s.push(arguments[i+++1]):s.push("<?>");break;case"%":s.push("%");break;default:s.push("<%"+a+"?>")}}return s.push(e.substring(o)),s.join("")};m.formatNumber=function(e,t,r,n){var i=e,s=isNaN(t=Math.abs(t))?2:t,o=r===void 0?",":r,a=n===void 0?".":n,c=i<0?"-":"",f=parseInt(i=Math.abs(+i||0).toFixed(s),10)+"",u=f.length>3?f.length%3:0;return c+(u?f.substr(0,u)+a:"")+f.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+a)+(s?o+Math.abs(i-f).toFixed(s).slice(2):"")};m.formatSize=function(e){return e>=1073741824?e=m.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?e=m.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?e=m.formatNumber(e/1024,0)+" KiB":e=m.formatNumber(e,0)+" bytes",e};m.bytesFromIP=function(e){return e.indexOf(".")!==-1?m.bytesFromIPv4(e):e.indexOf(":")!==-1?m.bytesFromIPv6(e):null};m.bytesFromIPv4=function(e){if(e=e.split("."),e.length!==4)return null;for(var t=m.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()};m.bytesFromIPv6=function(e){var t=0;e=e.split(":").filter(function(o){return o.length===0&&++t,!0});for(var r=(8-e.length+t)*2,n=m.createBuffer(),i=0;i<8;++i){if(!e[i]||e[i].length===0){n.fillWithByte(0,r),r=0;continue}var s=m.hexToBytes(e[i]);s.length<2&&n.putByte(0),n.putBytes(s)}return n.getBytes()};m.bytesToIP=function(e){return e.length===4?m.bytesToIPv4(e):e.length===16?m.bytesToIPv6(e):null};m.bytesToIPv4=function(e){if(e.length!==4)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")};m.bytesToIPv6=function(e){if(e.length!==16)return null;for(var t=[],r=[],n=0,i=0;i<e.length;i+=2){for(var s=m.bytesToHex(e[i]+e[i+1]);s[0]==="0"&&s!=="0";)s=s.substr(1);if(s==="0"){var o=r[r.length-1],a=t.length;!o||a!==o.end+1?r.push({start:a,end:a}):(o.end=a,o.end-o.start>r[n].end-r[n].start&&(n=r.length-1))}t.push(s)}if(r.length>0){var c=r[n];c.end-c.start>0&&(t.splice(c.start,c.end-c.start+1,""),c.start===0&&t.unshift(""),c.end===7&&t.push(""))}return t.join(":")};m.estimateCores=function(e,t){if(typeof e=="function"&&(t=e,e={}),e=e||{},"cores"in m&&!e.update)return t(null,m.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return m.cores=navigator.hardwareConcurrency,t(null,m.cores);if(typeof Worker>"u")return m.cores=1,t(null,m.cores);if(typeof Blob>"u")return m.cores=2,t(null,m.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(o){for(var a=Date.now(),c=a+4;Date.now()<c;);self.postMessage({st:a,et:c})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(o,a,c){if(a===0){var f=Math.floor(o.reduce(function(u,h){return u+h},0)/o.length);return m.cores=Math.max(1,f),URL.revokeObjectURL(r),t(null,m.cores)}i(c,function(u,h){o.push(s(c,h)),n(o,a-1,c)})}function i(o,a){for(var c=[],f=[],u=0;u<o;++u){var h=new Worker(r);h.addEventListener("message",function(l){if(f.push(l.data),f.length===o){for(var d=0;d<o;++d)c[d].terminate();a(null,f)}}),c.push(h)}for(var u=0;u<o;++u)c[u].postMessage(u)}function s(o,a){for(var c=[],f=0;f<o;++f)for(var u=a[f],h=c[f]=[],l=0;l<o;++l)if(f!==l){var d=a[l];(u.st>d.st&&u.st<d.et||d.st>u.st&&d.st<u.et)&&h.push(l)}return c.reduce(function(p,y){return Math.max(p,y.length)},0)}}});var Xi=K((Ib,Uc)=>{var Gn=gt();Gn.pki=Gn.pki||{};var Eo=Uc.exports=Gn.pki.oids=Gn.oids=Gn.oids||{};function I(e,t){Eo[e]=t,Eo[t]=e}function lt(e,t){Eo[e]=t}I("1.2.840.113549.1.1.1","rsaEncryption");I("1.2.840.113549.1.1.4","md5WithRSAEncryption");I("1.2.840.113549.1.1.5","sha1WithRSAEncryption");I("1.2.840.113549.1.1.7","RSAES-OAEP");I("1.2.840.113549.1.1.8","mgf1");I("1.2.840.113549.1.1.9","pSpecified");I("1.2.840.113549.1.1.10","RSASSA-PSS");I("1.2.840.113549.1.1.11","sha256WithRSAEncryption");I("1.2.840.113549.1.1.12","sha384WithRSAEncryption");I("1.2.840.113549.1.1.13","sha512WithRSAEncryption");I("1.3.101.112","EdDSA25519");I("1.2.840.10040.4.3","dsa-with-sha1");I("1.3.14.3.2.7","desCBC");I("1.3.14.3.2.26","sha1");I("1.3.14.3.2.29","sha1WithRSASignature");I("2.16.840.1.101.3.4.2.1","sha256");I("2.16.840.1.101.3.4.2.2","sha384");I("2.16.840.1.101.3.4.2.3","sha512");I("2.16.840.1.101.3.4.2.4","sha224");I("2.16.840.1.101.3.4.2.5","sha512-224");I("2.16.840.1.101.3.4.2.6","sha512-256");I("1.2.840.113549.2.2","md2");I("1.2.840.113549.2.5","md5");I("1.2.840.113549.1.7.1","data");I("1.2.840.113549.1.7.2","signedData");I("1.2.840.113549.1.7.3","envelopedData");I("1.2.840.113549.1.7.4","signedAndEnvelopedData");I("1.2.840.113549.1.7.5","digestedData");I("1.2.840.113549.1.7.6","encryptedData");I("1.2.840.113549.1.9.1","emailAddress");I("1.2.840.113549.1.9.2","unstructuredName");I("1.2.840.113549.1.9.3","contentType");I("1.2.840.113549.1.9.4","messageDigest");I("1.2.840.113549.1.9.5","signingTime");I("1.2.840.113549.1.9.6","counterSignature");I("1.2.840.113549.1.9.7","challengePassword");I("1.2.840.113549.1.9.8","unstructuredAddress");I("1.2.840.113549.1.9.14","extensionRequest");I("1.2.840.113549.1.9.20","friendlyName");I("1.2.840.113549.1.9.21","localKeyId");I("1.2.840.113549.1.9.22.1","x509Certificate");I("1.2.840.113549.1.12.10.1.1","keyBag");I("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");I("1.2.840.113549.1.12.10.1.3","certBag");I("1.2.840.113549.1.12.10.1.4","crlBag");I("1.2.840.113549.1.12.10.1.5","secretBag");I("1.2.840.113549.1.12.10.1.6","safeContentsBag");I("1.2.840.113549.1.5.13","pkcs5PBES2");I("1.2.840.113549.1.5.12","pkcs5PBKDF2");I("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");I("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");I("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");I("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");I("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");I("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");I("1.2.840.113549.2.7","hmacWithSHA1");I("1.2.840.113549.2.8","hmacWithSHA224");I("1.2.840.113549.2.9","hmacWithSHA256");I("1.2.840.113549.2.10","hmacWithSHA384");I("1.2.840.113549.2.11","hmacWithSHA512");I("1.2.840.113549.3.7","des-EDE3-CBC");I("2.16.840.1.101.3.4.1.2","aes128-CBC");I("2.16.840.1.101.3.4.1.22","aes192-CBC");I("2.16.840.1.101.3.4.1.42","aes256-CBC");I("2.5.4.3","commonName");I("2.5.4.4","surname");I("2.5.4.5","serialNumber");I("2.5.4.6","countryName");I("2.5.4.7","localityName");I("2.5.4.8","stateOrProvinceName");I("2.5.4.9","streetAddress");I("2.5.4.10","organizationName");I("2.5.4.11","organizationalUnitName");I("2.5.4.12","title");I("2.5.4.13","description");I("2.5.4.15","businessCategory");I("2.5.4.17","postalCode");I("2.5.4.42","givenName");I("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");I("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");I("2.16.840.1.113730.1.1","nsCertType");I("2.16.840.1.113730.1.13","nsComment");lt("2.5.29.1","authorityKeyIdentifier");lt("2.5.29.2","keyAttributes");lt("2.5.29.3","certificatePolicies");lt("2.5.29.4","keyUsageRestriction");lt("2.5.29.5","policyMapping");lt("2.5.29.6","subtreesConstraint");lt("2.5.29.7","subjectAltName");lt("2.5.29.8","issuerAltName");lt("2.5.29.9","subjectDirectoryAttributes");lt("2.5.29.10","basicConstraints");lt("2.5.29.11","nameConstraints");lt("2.5.29.12","policyConstraints");lt("2.5.29.13","basicConstraints");I("2.5.29.14","subjectKeyIdentifier");I("2.5.29.15","keyUsage");lt("2.5.29.16","privateKeyUsagePeriod");I("2.5.29.17","subjectAltName");I("2.5.29.18","issuerAltName");I("2.5.29.19","basicConstraints");lt("2.5.29.20","cRLNumber");lt("2.5.29.21","cRLReason");lt("2.5.29.22","expirationDate");lt("2.5.29.23","instructionCode");lt("2.5.29.24","invalidityDate");lt("2.5.29.25","cRLDistributionPoints");lt("2.5.29.26","issuingDistributionPoint");lt("2.5.29.27","deltaCRLIndicator");lt("2.5.29.28","issuingDistributionPoint");lt("2.5.29.29","certificateIssuer");lt("2.5.29.30","nameConstraints");I("2.5.29.31","cRLDistributionPoints");I("2.5.29.32","certificatePolicies");lt("2.5.29.33","policyMappings");lt("2.5.29.34","policyConstraints");I("2.5.29.35","authorityKeyIdentifier");lt("2.5.29.36","policyConstraints");I("2.5.29.37","extKeyUsage");lt("2.5.29.46","freshestCRL");lt("2.5.29.54","inhibitAnyPolicy");I("1.3.6.1.4.1.11129.2.4.2","timestampList");I("1.3.6.1.5.5.7.1.1","authorityInfoAccess");I("1.3.6.1.5.5.7.3.1","serverAuth");I("1.3.6.1.5.5.7.3.2","clientAuth");I("1.3.6.1.5.5.7.3.3","codeSigning");I("1.3.6.1.5.5.7.3.4","emailProtection");I("1.3.6.1.5.5.7.3.8","timeStamping")});var $n=K((Lb,Dc)=>{var bt=gt();Dt();Xi();var U=Dc.exports=bt.asn1=bt.asn1||{};U.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};U.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};U.create=function(e,t,r,n,i){if(bt.util.isArray(n)){for(var s=[],o=0;o<n.length;++o)n[o]!==void 0&&s.push(n[o]);n=s}var a={tagClass:e,type:t,constructed:r,composed:r||bt.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(a.bitStringContents=i.bitStringContents,a.original=U.copy(a)),a};U.copy=function(e,t){var r;if(bt.util.isArray(e)){r=[];for(var n=0;n<e.length;++n)r.push(U.copy(e[n],t));return r}return typeof e=="string"?e:(r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:U.copy(e.value,t)},t&&!t.excludeBitStringContents&&(r.bitStringContents=e.bitStringContents),r)};U.equals=function(e,t,r){if(bt.util.isArray(e)){if(!bt.util.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!U.equals(e[n],t[n]))return!1;return!0}if(typeof e!=typeof t)return!1;if(typeof e=="string")return e===t;var i=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&U.equals(e.value,t.value);return r&&r.includeBitStringContents&&(i=i&&e.bitStringContents===t.bitStringContents),i};U.getBerValueLength=function(e){var t=e.getByte();if(t!==128){var r,n=t&128;return n?r=e.getInt((t&127)<<3):r=t,r}};function Wn(e,t,r){if(r>t){var n=new Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=r,n}}var Td=function(e,t){var r=e.getByte();if(t--,r!==128){var n,i=r&128;if(!i)n=r;else{var s=r&127;Wn(e,t,s),n=e.getInt(s<<3)}if(n<0)throw new Error("Negative length: "+n);return n}};U.fromDer=function(e,t){t===void 0&&(t={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof t=="boolean"&&(t={strict:t,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"parseAllBytes"in t||(t.parseAllBytes=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),typeof e=="string"&&(e=bt.util.createBuffer(e));var r=e.length(),n=Zi(e,e.length(),0,t);if(t.parseAllBytes&&e.length()!==0){var i=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw i.byteCount=r,i.remaining=e.length(),i}return n};function Zi(e,t,r,n){var i;Wn(e,t,2);var s=e.getByte();t--;var o=s&192,a=s&31;i=e.length();var c=Td(e,t);if(t-=i-e.length(),c!==void 0&&c>t){if(n.strict){var f=new Error("Too few bytes to read ASN.1 value.");throw f.available=e.length(),f.remaining=t,f.requested=c,f}c=t}var u,h,l=(s&32)===32;if(l)if(u=[],c===void 0)for(;;){if(Wn(e,t,2),e.bytes(2)===String.fromCharCode(0,0)){e.getBytes(2),t-=2;break}i=e.length(),u.push(Zi(e,t,r+1,n)),t-=i-e.length()}else for(;c>0;)i=e.length(),u.push(Zi(e,c,r+1,n)),t-=i-e.length(),c-=i-e.length();if(u===void 0&&o===U.Class.UNIVERSAL&&a===U.Type.BITSTRING&&(h=e.bytes(c)),u===void 0&&n.decodeBitStrings&&o===U.Class.UNIVERSAL&&a===U.Type.BITSTRING&&c>1){var d=e.read,p=t,y=0;if(a===U.Type.BITSTRING&&(Wn(e,t,1),y=e.getByte(),t--),y===0)try{i=e.length();var g={strict:!0,decodeBitStrings:!0},x=Zi(e,t,r+1,g),w=i-e.length();t-=w,a==U.Type.BITSTRING&&w++;var b=x.tagClass;w===c&&(b===U.Class.UNIVERSAL||b===U.Class.CONTEXT_SPECIFIC)&&(u=[x])}catch{}u===void 0&&(e.read=d,t=p)}if(u===void 0){if(c===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");c=t}if(a===U.Type.BMPSTRING)for(u="";c>0;c-=2)Wn(e,t,2),u+=String.fromCharCode(e.getInt16()),t-=2;else u=e.getBytes(c),t-=c}var B=h===void 0?null:{bitStringContents:h};return U.create(o,a,l,u,B)}U.toDer=function(e){var t=bt.util.createBuffer(),r=e.tagClass|e.type,n=bt.util.createBuffer(),i=!1;if("bitStringContents"in e&&(i=!0,e.original&&(i=U.equals(e,e.original))),i)n.putBytes(e.bitStringContents);else if(e.composed){e.constructed?r|=32:n.putByte(0);for(var s=0;s<e.value.length;++s)e.value[s]!==void 0&&n.putBuffer(U.toDer(e.value[s]))}else if(e.type===U.Type.BMPSTRING)for(var s=0;s<e.value.length;++s)n.putInt16(e.value.charCodeAt(s));else e.type===U.Type.INTEGER&&e.value.length>1&&(e.value.charCodeAt(0)===0&&!(e.value.charCodeAt(1)&128)||e.value.charCodeAt(0)===255&&(e.value.charCodeAt(1)&128)===128)?n.putBytes(e.value.substr(1)):n.putBytes(e.value);if(t.putByte(r),n.length()<=127)t.putByte(n.length()&127);else{var o=n.length(),a="";do a+=String.fromCharCode(o&255),o=o>>>8;while(o>0);t.putByte(a.length|128);for(var s=a.length-1;s>=0;--s)t.putByte(a.charCodeAt(s))}return t.putBuffer(n),t};U.oidToDer=function(e){var t=e.split("."),r=bt.util.createBuffer();r.putByte(40*parseInt(t[0],10)+parseInt(t[1],10));for(var n,i,s,o,a=2;a<t.length;++a){n=!0,i=[],s=parseInt(t[a],10);do o=s&127,s=s>>>7,n||(o|=128),i.push(o),n=!1;while(s>0);for(var c=i.length-1;c>=0;--c)r.putByte(i[c])}return r};U.derToOid=function(e){var t;typeof e=="string"&&(e=bt.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var n=0;e.length()>0;)r=e.getByte(),n=n<<7,r&128?n+=r&127:(t+="."+(n+r),n=0);return t};U.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,i=parseInt(e.substr(4,2),10),s=parseInt(e.substr(6,2),10),o=parseInt(e.substr(8,2),10),a=0;if(e.length>11){var c=e.charAt(10),f=10;c!=="+"&&c!=="-"&&(a=parseInt(e.substr(10,2),10),f+=2)}if(t.setUTCFullYear(r,n,i),t.setUTCHours(s,o,a,0),f&&(c=e.charAt(f),c==="+"||c==="-")){var u=parseInt(e.substr(f+1,2),10),h=parseInt(e.substr(f+4,2),10),l=u*60+h;l*=6e4,c==="+"?t.setTime(+t-l):t.setTime(+t+l)}return t};U.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,i=parseInt(e.substr(6,2),10),s=parseInt(e.substr(8,2),10),o=parseInt(e.substr(10,2),10),a=parseInt(e.substr(12,2),10),c=0,f=0,u=!1;e.charAt(e.length-1)==="Z"&&(u=!0);var h=e.length-5,l=e.charAt(h);if(l==="+"||l==="-"){var d=parseInt(e.substr(h+1,2),10),p=parseInt(e.substr(h+4,2),10);f=d*60+p,f*=6e4,l==="+"&&(f*=-1),u=!0}return e.charAt(14)==="."&&(c=parseFloat(e.substr(14),10)*1e3),u?(t.setUTCFullYear(r,n,i),t.setUTCHours(s,o,a,c),t.setTime(+t+f)):(t.setFullYear(r,n,i),t.setHours(s,o,a,c)),t};U.dateToUtcTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};U.dateToGeneralizedTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};U.integerToDer=function(e){var t=bt.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=e,r};U.derToInteger=function(e){typeof e=="string"&&(e=bt.util.createBuffer(e));var t=e.length()*8;if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)};U.validate=function(e,t,r,n){var i=!1;if((e.tagClass===t.tagClass||typeof t.tagClass>"u")&&(e.type===t.type||typeof t.type>"u"))if(e.constructed===t.constructed||typeof t.constructed>"u"){if(i=!0,t.value&&bt.util.isArray(t.value))for(var s=0,o=0;i&&o<t.value.length;++o)i=t.value[o].optional||!1,e.value[s]&&(i=U.validate(e.value[s],t.value[o],r,n),i?++s:t.value[o].optional&&(i=!0)),!i&&n&&n.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(i&&r&&(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(r[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e)){var a;if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{var c=e.bitStringContents.charCodeAt(0);if(c!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}}else n&&n.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');else n&&(e.tagClass!==t.tagClass&&n.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&n.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));return i};var Nc=/[^\\u0000-\\u00ff]/;U.prettyPrint=function(e,t,r){var n="";t=t||0,r=r||2,t>0&&(n+=`
`);for(var i="",s=0;s<t*r;++s)i+=" ";switch(n+=i+"Tag: ",e.tagClass){case U.Class.UNIVERSAL:n+="Universal:";break;case U.Class.APPLICATION:n+="Application:";break;case U.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case U.Class.PRIVATE:n+="Private:";break}if(e.tagClass===U.Class.UNIVERSAL)switch(n+=e.type,e.type){case U.Type.NONE:n+=" (None)";break;case U.Type.BOOLEAN:n+=" (Boolean)";break;case U.Type.INTEGER:n+=" (Integer)";break;case U.Type.BITSTRING:n+=" (Bit string)";break;case U.Type.OCTETSTRING:n+=" (Octet string)";break;case U.Type.NULL:n+=" (Null)";break;case U.Type.OID:n+=" (Object Identifier)";break;case U.Type.ODESC:n+=" (Object Descriptor)";break;case U.Type.EXTERNAL:n+=" (External or Instance of)";break;case U.Type.REAL:n+=" (Real)";break;case U.Type.ENUMERATED:n+=" (Enumerated)";break;case U.Type.EMBEDDED:n+=" (Embedded PDV)";break;case U.Type.UTF8:n+=" (UTF8)";break;case U.Type.ROID:n+=" (Relative Object Identifier)";break;case U.Type.SEQUENCE:n+=" (Sequence)";break;case U.Type.SET:n+=" (Set)";break;case U.Type.PRINTABLESTRING:n+=" (Printable String)";break;case U.Type.IA5String:n+=" (IA5String (ASCII))";break;case U.Type.UTCTIME:n+=" (UTC time)";break;case U.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case U.Type.BMPSTRING:n+=" (BMP String)";break}else n+=e.type;if(n+=`
`,n+=i+"Constructed: "+e.constructed+`
`,e.composed){for(var o=0,a="",s=0;s<e.value.length;++s)e.value[s]!==void 0&&(o+=1,a+=U.prettyPrint(e.value[s],t+1,r),s+1<e.value.length&&(a+=","));n+=i+"Sub values: "+o+a}else{if(n+=i+"Value: ",e.type===U.Type.OID){var c=U.derToOid(e.value);n+=c,bt.pki&&bt.pki.oids&&c in bt.pki.oids&&(n+=" ("+bt.pki.oids[c]+") ")}if(e.type===U.Type.INTEGER)try{n+=U.derToInteger(e.value)}catch{n+="0x"+bt.util.bytesToHex(e.value)}else if(e.type===U.Type.BITSTRING){if(e.value.length>1?n+="0x"+bt.util.bytesToHex(e.value.slice(1)):n+="(none)",e.value.length>0){var f=e.value.charCodeAt(0);f==1?n+=" (1 unused bit shown)":f>1&&(n+=" ("+f+" unused bits shown)")}}else if(e.type===U.Type.OCTETSTRING)Nc.test(e.value)||(n+="("+e.value+") "),n+="0x"+bt.util.bytesToHex(e.value);else if(e.type===U.Type.UTF8)try{n+=bt.util.decodeUtf8(e.value)}catch(u){if(u.message==="URI malformed")n+="0x"+bt.util.bytesToHex(e.value)+" (malformed UTF8)";else throw u}else e.type===U.Type.PRINTABLESTRING||e.type===U.Type.IA5String?n+=e.value:Nc.test(e.value)?n+="0x"+bt.util.bytesToHex(e.value):e.value.length===0?n+="[null]":n+=e.value}return n}});var Ao=K((Rb,kc)=>{var Mt=gt();Dt();kc.exports=Mt.cipher=Mt.cipher||{};Mt.cipher.algorithms=Mt.cipher.algorithms||{};Mt.cipher.createCipher=function(e,t){var r=e;if(typeof r=="string"&&(r=Mt.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new Mt.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})};Mt.cipher.createDecipher=function(e,t){var r=e;if(typeof r=="string"&&(r=Mt.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new Mt.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})};Mt.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),Mt.cipher.algorithms[e]=t};Mt.cipher.getAlgorithm=function(e){return e=e.toUpperCase(),e in Mt.cipher.algorithms?Mt.cipher.algorithms[e]:null};var So=Mt.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};So.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=Mt.util.createBuffer(),this.output=e.output||Mt.util.createBuffer(),this.mode.start(t)};So.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};So.prototype.finish=function(e){e&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return e(this.blockSize,r,!1)},this.mode.unpad=function(r){return e(this.blockSize,r,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,t))}});var Co=K((Ub,Pc)=>{var Ft=gt();Dt();Ft.cipher=Ft.cipher||{};var Y=Pc.exports=Ft.cipher.modes=Ft.cipher.modes||{};Y.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Y.ecb.prototype.start=function(e){};Y.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};Y.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};Y.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};Y.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};Y.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Y.cbc.prototype.start=function(e){if(e.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in e)this._iv=Qi(e.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};Y.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock};Y.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};Y.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};Y.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};Y.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=Ft.util.createBuffer(),this._partialBytes=0};Y.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Qi(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Y.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32()^this._outBlock[i],t.putInt32(this._inBlock[i]);return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(s>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Y.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32(),t.putInt32(this._inBlock[i]^this._outBlock[i]);return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(s>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Y.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Ft.util.createBuffer(),this._partialBytes=0};Y.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Qi(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Y.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(e.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];return}var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s>0)e.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};Y.ofb.prototype.decrypt=Y.ofb.prototype.encrypt;Y.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Ft.util.createBuffer(),this._partialBytes=0};Y.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=Qi(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Y.ctr.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]);else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}ji(this._inBlock)};Y.ctr.prototype.decrypt=Y.ctr.prototype.encrypt;Y.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=Ft.util.createBuffer(),this._partialBytes=0,this._R=3774873600};Y.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t=Ft.util.createBuffer(e.iv);this._cipherLength=0;var r;if("additionalData"in e?r=Ft.util.createBuffer(e.additionalData):r=Ft.util.createBuffer(),"tagLength"in e?this._tagLength=e.tagLength:this._tagLength=128,this._tag=null,e.decrypt&&(this._tag=Ft.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=t.length();if(n===12)this._j0=[t.getInt32(),t.getInt32(),t.getInt32(),1];else{for(this._j0=[0,0,0,0];t.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(Bo(n*8)))}this._inBlock=this._j0.slice(0),ji(this._inBlock),this._partialBytes=0,r=Ft.util.createBuffer(r),this._aDataLength=Bo(r.length()*8);var i=r.length()%this.blockSize;for(i&&r.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};Y.gcm.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^=e.getInt32());this._cipherLength+=this.blockSize}else{var s=(this.blockSize-n)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(s<=0||r){if(r){var o=n%this.blockSize;this._cipherLength+=o,this._partialOutput.truncate(this.blockSize-o)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),ji(this._inBlock)};Y.gcm.prototype.decrypt=function(e,t,r){var n=e.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),ji(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};Y.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=Ft.util.createBuffer();var n=this._aDataLength.concat(Bo(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var s=0;s<this._ints;++s)this.tag.putInt32(this._s[s]^i[s]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};Y.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),i=0;i<128;++i){var s=e[i/32|0]&1<<31-i%32;s&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};Y.gcm.prototype.pow=function(e,t){for(var r=e[3]&1,n=3;n>0;--n)t[n]=e[n]>>>1|(e[n-1]&1)<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)};Y.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=e[n]>>>(7-r%8)*4&15,s=this._m[r][i];t[0]^=s[0],t[1]^=s[1],t[2]^=s[2],t[3]^=s[3]}return t};Y.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)};Y.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,i=16*r,s=new Array(i),o=0;o<i;++o){var a=[0,0,0,0],c=o/n|0,f=(n-1-o%n)*t;a[c]=1<<t-1<<f,s[o]=this.generateSubHashTable(this.multiply(a,e),t)}return s};Y.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,i=new Array(r);i[n]=e.slice(0);for(var s=n>>>1;s>0;)this.pow(i[2*s],i[s]=[]),s>>=1;for(s=2;s<n;){for(var o=1;o<s;++o){var a=i[s],c=i[o];i[s+o]=[a[0]^c[0],a[1]^c[1],a[2]^c[2],a[3]^c[3]]}s*=2}for(i[0]=[0,0,0,0],s=n+1;s<r;++s){var f=i[s^n];i[s]=[e[0]^f[0],e[1]^f[1],e[2]^f[2],e[3]^f[3]]}return i};function Qi(e,t){if(typeof e=="string"&&(e=Ft.util.createBuffer(e)),Ft.util.isArray(e)&&e.length>4){var r=e;e=Ft.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(e.length()<t)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!Ft.util.isArray(e)){for(var i=[],s=t/4,n=0;n<s;++n)i.push(e.getInt32());e=i}return e}function ji(e){e[e.length-1]=e[e.length-1]+1&4294967295}function Bo(e){return[e/4294967296|0,e&4294967295]}});var Lo=K((Nb,Oc)=>{var mt=gt();Ao();Co();Dt();Oc.exports=mt.aes=mt.aes||{};mt.aes.startEncrypting=function(e,t,r,n){var i=Ji({key:e,output:r,decrypt:!1,mode:n});return i.start(t),i};mt.aes.createEncryptionCipher=function(e,t){return Ji({key:e,output:null,decrypt:!1,mode:t})};mt.aes.startDecrypting=function(e,t,r,n){var i=Ji({key:e,output:r,decrypt:!0,mode:n});return i.start(t),i};mt.aes.createDecryptionCipher=function(e,t){return Ji({key:e,output:null,decrypt:!0,mode:t})};mt.aes.Algorithm=function(e,t){Io||Mc();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:function(n,i){return To(r._w,n,i,!1)},decrypt:function(n,i){return To(r._w,n,i,!0)}}}),r._init=!1};mt.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t=e.key,r;if(typeof t=="string"&&(t.length===16||t.length===24||t.length===32))t=mt.util.createBuffer(t);else if(mt.util.isArray(t)&&(t.length===16||t.length===24||t.length===32)){r=t,t=mt.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(!mt.util.isArray(t)){r=t,t=[];var i=r.length();if(i===16||i===24||i===32){i=i>>>2;for(var n=0;n<i;++n)t.push(r.getInt32())}}if(!mt.util.isArray(t)||!(t.length===4||t.length===6||t.length===8))throw new Error("Invalid key parameter.");var s=this.mode.name,o=["CFB","OFB","CTR","GCM"].indexOf(s)!==-1;this._w=Fc(t,e.decrypt&&!o),this._init=!0}};mt.aes._expandKey=function(e,t){return Io||Mc(),Fc(e,t)};mt.aes._updateBlock=To;sn("AES-ECB",mt.cipher.modes.ecb);sn("AES-CBC",mt.cipher.modes.cbc);sn("AES-CFB",mt.cipher.modes.cfb);sn("AES-OFB",mt.cipher.modes.ofb);sn("AES-CTR",mt.cipher.modes.ctr);sn("AES-GCM",mt.cipher.modes.gcm);function sn(e,t){var r=function(){return new mt.aes.Algorithm(e,t)};mt.cipher.registerAlgorithm(e,r)}var Io=!1,nn=4,ie,_o,Kc,Ir,Se;function Mc(){Io=!0,Kc=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;ie=new Array(256),_o=new Array(256),Ir=new Array(4),Se=new Array(4);for(var t=0;t<4;++t)Ir[t]=new Array(256),Se[t]=new Array(256);for(var r=0,n=0,i,s,o,a,c,f,u,t=0;t<256;++t){a=n^n<<1^n<<2^n<<3^n<<4,a=a>>8^a&255^99,ie[r]=a,_o[a]=r,c=e[a],i=e[r],s=e[i],o=e[s],f=c<<24^a<<16^a<<8^(a^c),u=(i^s^o)<<24^(r^o)<<16^(r^s^o)<<8^(r^i^o);for(var h=0;h<4;++h)Ir[h][r]=f,Se[h][a]=u,f=f<<24|f>>>8,u=u<<24|u>>>8;r===0?r=n=1:(r=i^e[e[e[i^o]]],n^=e[e[n]])}}function Fc(e,t){for(var r=e.slice(0),n,i=1,s=r.length,o=s+6+1,a=nn*o,c=s;c<a;++c)n=r[c-1],c%s===0?(n=ie[n>>>16&255]<<24^ie[n>>>8&255]<<16^ie[n&255]<<8^ie[n>>>24]^Kc[i]<<24,i++):s>6&&c%s===4&&(n=ie[n>>>24]<<24^ie[n>>>16&255]<<16^ie[n>>>8&255]<<8^ie[n&255]),r[c]=r[c-s]^n;if(t){var f,u=Se[0],h=Se[1],l=Se[2],d=Se[3],p=r.slice(0);a=r.length;for(var c=0,y=a-nn;c<a;c+=nn,y-=nn)if(c===0||c===a-nn)p[c]=r[y],p[c+1]=r[y+3],p[c+2]=r[y+2],p[c+3]=r[y+1];else for(var g=0;g<nn;++g)f=r[y+g],p[c+(3&-g)]=u[ie[f>>>24]]^h[ie[f>>>16&255]]^l[ie[f>>>8&255]]^d[ie[f&255]];r=p}return r}function To(e,t,r,n){var i=e.length/4-1,s,o,a,c,f;n?(s=Se[0],o=Se[1],a=Se[2],c=Se[3],f=_o):(s=Ir[0],o=Ir[1],a=Ir[2],c=Ir[3],f=ie);var u,h,l,d,p,y,g;u=t[0]^e[0],h=t[n?3:1]^e[1],l=t[2]^e[2],d=t[n?1:3]^e[3];for(var x=3,w=1;w<i;++w)p=s[u>>>24]^o[h>>>16&255]^a[l>>>8&255]^c[d&255]^e[++x],y=s[h>>>24]^o[l>>>16&255]^a[d>>>8&255]^c[u&255]^e[++x],g=s[l>>>24]^o[d>>>16&255]^a[u>>>8&255]^c[h&255]^e[++x],d=s[d>>>24]^o[u>>>16&255]^a[h>>>8&255]^c[l&255]^e[++x],u=p,h=y,l=g;r[0]=f[u>>>24]<<24^f[h>>>16&255]<<16^f[l>>>8&255]<<8^f[d&255]^e[++x],r[n?3:1]=f[h>>>24]<<24^f[l>>>16&255]<<16^f[d>>>8&255]<<8^f[u&255]^e[++x],r[2]=f[l>>>24]<<24^f[d>>>16&255]<<16^f[u>>>8&255]<<8^f[h&255]^e[++x],r[n?1:3]=f[d>>>24]<<24^f[u>>>16&255]<<16^f[h>>>8&255]<<8^f[l&255]^e[++x]}function Ji(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="AES-"+t,n;e.decrypt?n=mt.cipher.createDecipher(r,e.key):n=mt.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(s,o){var a=null;o instanceof mt.util.ByteBuffer&&(a=o,o={}),o=o||{},o.output=a,o.iv=s,i.call(n,o)},n}});var qc=K((Db,Hc)=>{var At=gt();Ao();Co();Dt();Hc.exports=At.des=At.des||{};At.des.startEncrypting=function(e,t,r,n){var i=ts({key:e,output:r,decrypt:!1,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};At.des.createEncryptionCipher=function(e,t){return ts({key:e,output:null,decrypt:!1,mode:t})};At.des.startDecrypting=function(e,t,r,n){var i=ts({key:e,output:r,decrypt:!0,mode:n||(t===null?"ECB":"CBC")});return i.start(t),i};At.des.createDecryptionCipher=function(e,t){return ts({key:e,output:null,decrypt:!0,mode:t})};At.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:function(n,i){return Vc(r._keys,n,i,!1)},decrypt:function(n,i){return Vc(r._keys,n,i,!0)}}}),r._init=!1};At.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=At.util.createBuffer(e.key);if(this.name.indexOf("3DES")===0&&t.length()!==24)throw new Error("Invalid Triple-DES key size: "+t.length()*8);this._keys=Kd(t),this._init=!0}};Re("DES-ECB",At.cipher.modes.ecb);Re("DES-CBC",At.cipher.modes.cbc);Re("DES-CFB",At.cipher.modes.cfb);Re("DES-OFB",At.cipher.modes.ofb);Re("DES-CTR",At.cipher.modes.ctr);Re("3DES-ECB",At.cipher.modes.ecb);Re("3DES-CBC",At.cipher.modes.cbc);Re("3DES-CFB",At.cipher.modes.cfb);Re("3DES-OFB",At.cipher.modes.ofb);Re("3DES-CTR",At.cipher.modes.ctr);function Re(e,t){var r=function(){return new At.des.Algorithm(e,t)};At.cipher.registerAlgorithm(e,r)}var Id=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],Ld=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],Rd=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],Ud=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],Nd=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],Dd=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],kd=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],Pd=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function Kd(e){for(var t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],s=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],o=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],a=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],f=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],u=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],h=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],l=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],d=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],p=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],y=e.length()>8?3:1,g=[],x=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],w=0,b,B=0;B<y;B++){var E=e.getInt32(),A=e.getInt32();b=(E>>>4^A)&252645135,A^=b,E^=b<<4,b=(A>>>-16^E)&65535,E^=b,A^=b<<-16,b=(E>>>2^A)&858993459,A^=b,E^=b<<2,b=(A>>>-16^E)&65535,E^=b,A^=b<<-16,b=(E>>>1^A)&1431655765,A^=b,E^=b<<1,b=(A>>>8^E)&16711935,E^=b,A^=b<<8,b=(E>>>1^A)&1431655765,A^=b,E^=b<<1,b=E<<8|A>>>20&240,E=A<<24|A<<8&16711680|A>>>8&65280|A>>>24&240,A=b;for(var L=0;L<x.length;++L){x[L]?(E=E<<2|E>>>26,A=A<<2|A>>>26):(E=E<<1|E>>>27,A=A<<1|A>>>27),E&=-15,A&=-15;var R=t[E>>>28]|r[E>>>24&15]|n[E>>>20&15]|i[E>>>16&15]|s[E>>>12&15]|o[E>>>8&15]|a[E>>>4&15],k=c[A>>>28]|f[A>>>24&15]|u[A>>>20&15]|h[A>>>16&15]|l[A>>>12&15]|d[A>>>8&15]|p[A>>>4&15];b=(k>>>16^R)&65535,g[w++]=R^b,g[w++]=k^b<<16}}return g}function Vc(e,t,r,n){var i=e.length===32?3:9,s;i===3?s=n?[30,-2,-2]:[0,32,2]:s=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var o,a=t[0],c=t[1];o=(a>>>4^c)&252645135,c^=o,a^=o<<4,o=(a>>>16^c)&65535,c^=o,a^=o<<16,o=(c>>>2^a)&858993459,a^=o,c^=o<<2,o=(c>>>8^a)&16711935,a^=o,c^=o<<8,o=(a>>>1^c)&1431655765,c^=o,a^=o<<1,a=a<<1|a>>>31,c=c<<1|c>>>31;for(var f=0;f<i;f+=3){for(var u=s[f+1],h=s[f+2],l=s[f];l!=u;l+=h){var d=c^e[l],p=(c>>>4|c<<28)^e[l+1];o=a,a=c,c=o^(Ld[d>>>24&63]|Ud[d>>>16&63]|Dd[d>>>8&63]|Pd[d&63]|Id[p>>>24&63]|Rd[p>>>16&63]|Nd[p>>>8&63]|kd[p&63])}o=a,a=c,c=o}a=a>>>1|a<<31,c=c>>>1|c<<31,o=(a>>>1^c)&1431655765,c^=o,a^=o<<1,o=(c>>>8^a)&16711935,a^=o,c^=o<<8,o=(c>>>2^a)&858993459,a^=o,c^=o<<2,o=(a>>>16^c)&65535,c^=o,a^=o<<16,o=(a>>>4^c)&252645135,c^=o,a^=o<<4,r[0]=a,r[1]=c}function ts(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="DES-"+t,n;e.decrypt?n=At.cipher.createDecipher(r,e.key):n=At.cipher.createCipher(r,e.key);var i=n.start;return n.start=function(s,o){var a=null;o instanceof At.util.ByteBuffer&&(a=o,o={}),o=o||{},o.output=a,o.iv=s,i.call(n,o)},n}});var Lr=K((kb,zc)=>{var es=gt();zc.exports=es.md=es.md||{};es.md.algorithms=es.md.algorithms||{}});var Wc=K((Pb,Gc)=>{var Ze=gt();Lr();Dt();var Md=Gc.exports=Ze.hmac=Ze.hmac||{};Md.create=function(){var e=null,t=null,r=null,n=null,i={};return i.start=function(s,o){if(s!==null)if(typeof s=="string")if(s=s.toLowerCase(),s in Ze.md.algorithms)t=Ze.md.algorithms[s].create();else throw new Error('Unknown hash algorithm "'+s+'"');else t=s;if(o===null)o=e;else{if(typeof o=="string")o=Ze.util.createBuffer(o);else if(Ze.util.isArray(o)){var a=o;o=Ze.util.createBuffer();for(var c=0;c<a.length;++c)o.putByte(a[c])}var f=o.length();f>t.blockLength&&(t.start(),t.update(o.bytes()),o=t.digest()),r=Ze.util.createBuffer(),n=Ze.util.createBuffer(),f=o.length();for(var c=0;c<f;++c){var a=o.at(c);r.putByte(54^a),n.putByte(92^a)}if(f<t.blockLength)for(var a=t.blockLength-f,c=0;c<a;++c)r.putByte(54),n.putByte(92);e=o,r=r.bytes(),n=n.bytes()}t.start(),t.update(r)},i.update=function(s){t.update(s)},i.getMac=function(){var s=t.digest().bytes();return t.start(),t.update(n),t.update(s),t.digest()},i.digest=i.getMac,i}});var Yc=K((Kb,$c)=>{var se=gt();Wc();Lr();Dt();var Fd=se.pkcs5=se.pkcs5||{},Qe;se.util.isNodejs&&!se.options.usePureJavaScript&&(Qe=Tr());$c.exports=se.pbkdf2=Fd.pbkdf2=function(e,t,r,n,i,s){if(typeof i=="function"&&(s=i,i=null),se.util.isNodejs&&!se.options.usePureJavaScript&&Qe.pbkdf2&&(i===null||typeof i!="object")&&(Qe.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),e=Buffer.from(e,"binary"),t=Buffer.from(t,"binary"),s?Qe.pbkdf2Sync.length===4?Qe.pbkdf2(e,t,r,n,function(b,B){if(b)return s(b);s(null,B.toString("binary"))}):Qe.pbkdf2(e,t,r,n,i,function(b,B){if(b)return s(b);s(null,B.toString("binary"))}):Qe.pbkdf2Sync.length===4?Qe.pbkdf2Sync(e,t,r,n).toString("binary"):Qe.pbkdf2Sync(e,t,r,n,i).toString("binary");if((typeof i>"u"||i===null)&&(i="sha1"),typeof i=="string"){if(!(i in se.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=se.md[i].create()}var o=i.digestLength;if(n>4294967295*o){var a=new Error("Derived key is too long.");if(s)return s(a);throw a}var c=Math.ceil(n/o),f=n-(c-1)*o,u=se.hmac.create();u.start(i,e);var h="",l,d,p;if(!s){for(var y=1;y<=c;++y){u.start(null,null),u.update(t),u.update(se.util.int32ToBytes(y)),l=p=u.digest().getBytes();for(var g=2;g<=r;++g)u.start(null,null),u.update(p),d=u.digest().getBytes(),l=se.util.xorBytes(l,d,o),p=d;h+=y<c?l:l.substr(0,f)}return h}var y=1,g;function x(){if(y>c)return s(null,h);u.start(null,null),u.update(t),u.update(se.util.int32ToBytes(y)),l=p=u.digest().getBytes(),g=2,w()}function w(){if(g<=r)return u.start(null,null),u.update(p),d=u.digest().getBytes(),l=se.util.xorBytes(l,d,o),p=d,++g,se.util.setImmediate(w);h+=y<c?l:l.substr(0,f),++y,x()}x()}});var Qc=K((Mb,Zc)=>{var ns=gt();Dt();var Xc=Zc.exports=ns.pem=ns.pem||{};Xc.encode=function(e,t){t=t||{};var r="-----BEGIN "+e.type+`-----\r
`,n;if(e.procType&&(n={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]},r+=rs(n)),e.contentDomain&&(n={name:"Content-Domain",values:[e.contentDomain]},r+=rs(n)),e.dekInfo&&(n={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&n.values.push(e.dekInfo.parameters),r+=rs(n)),e.headers)for(var i=0;i<e.headers.length;++i)r+=rs(e.headers[i]);return e.procType&&(r+=`\r
`),r+=ns.util.encode64(e.body,t.maxline||64)+`\r
`,r+="-----END "+e.type+`-----\r
`,r};Xc.decode=function(e){for(var t=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/,s;s=r.exec(e),!!s;){var o=s[1];o==="NEW CERTIFICATE REQUEST"&&(o="CERTIFICATE REQUEST");var a={type:o,procType:null,contentDomain:null,dekInfo:null,headers:[],body:ns.util.decode64(s[3])};if(t.push(a),!!s[2]){for(var c=s[2].split(i),f=0;s&&f<c.length;){for(var u=c[f].replace(/\s+$/,""),h=f+1;h<c.length;++h){var l=c[h];if(!/\s/.test(l[0]))break;u+=l,f=h}if(s=u.match(n),s){for(var d={name:s[1],values:[]},p=s[2].split(","),y=0;y<p.length;++y)d.values.push(Od(p[y]));if(a.procType)if(!a.contentDomain&&d.name==="Content-Domain")a.contentDomain=p[0]||"";else if(!a.dekInfo&&d.name==="DEK-Info"){if(d.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');a.dekInfo={algorithm:p[0],parameters:p[1]||null}}else a.headers.push(d);else{if(d.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(d.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');a.procType={version:p[0],type:p[1]}}}++f}if(a.procType==="ENCRYPTED"&&!a.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(t.length===0)throw new Error("Invalid PEM formatted message.");return t};function rs(e){for(var t=e.name+": ",r=[],n=function(c,f){return" "+f},i=0;i<e.values.length;++i)r.push(e.values[i].replace(/^(\S+\r\n)/,n));t+=r.join(",")+`\r
`;for(var s=0,o=-1,i=0;i<t.length;++i,++s)if(s>65&&o!==-1){var a=t[o];a===","?(++o,t=t.substr(0,o)+`\r
 `+t.substr(o)):t=t.substr(0,o)+`\r
`+a+t.substr(o+1),s=i-o-1,o=-1,++i}else(t[i]===" "||t[i]==="	"||t[i]===",")&&(o=i);return t}function Od(e){return e.replace(/^\s+/,"")}});var nf=K((Fb,rf)=>{var Ue=gt();Lr();Dt();var Jc=rf.exports=Ue.sha256=Ue.sha256||{};Ue.md.sha256=Ue.md.algorithms.sha256=Jc;Jc.create=function(){tf||Vd();var e=null,t=Ue.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return t=Ue.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=Ue.util.encodeUtf8(i));var o=i.length;n.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var a=n.fullMessageLength.length-1;a>=0;--a)n.fullMessageLength[a]+=o[1],o[1]=o[0]+(n.fullMessageLength[a]/4294967296>>>0),n.fullMessageLength[a]=n.fullMessageLength[a]>>>0,o[0]=o[1]/4294967296>>>0;return t.putBytes(i),jc(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=Ue.util.createBuffer();i.putBytes(t.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,o=s&n.blockLength-1;i.putBytes(Ro.substr(0,n.blockLength-o));for(var a,c,f=n.fullMessageLength[0]*8,u=0;u<n.fullMessageLength.length-1;++u)a=n.fullMessageLength[u+1]*8,c=a/4294967296>>>0,f+=c,i.putInt32(f>>>0),f=a>>>0;i.putInt32(f);var h={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};jc(h,r,i);var l=Ue.util.createBuffer();return l.putInt32(h.h0),l.putInt32(h.h1),l.putInt32(h.h2),l.putInt32(h.h3),l.putInt32(h.h4),l.putInt32(h.h5),l.putInt32(h.h6),l.putInt32(h.h7),l},n};var Ro=null,tf=!1,ef=null;function Vd(){Ro=String.fromCharCode(128),Ro+=Ue.util.fillString(String.fromCharCode(0),64),ef=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],tf=!0}function jc(e,t,r){for(var n,i,s,o,a,c,f,u,h,l,d,p,y,g,x,w=r.length();w>=64;){for(f=0;f<16;++f)t[f]=r.getInt32();for(;f<64;++f)n=t[f-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=t[f-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[f]=n+t[f-7]+i+t[f-16]|0;for(u=e.h0,h=e.h1,l=e.h2,d=e.h3,p=e.h4,y=e.h5,g=e.h6,x=e.h7,f=0;f<64;++f)o=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7),a=g^p&(y^g),s=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),c=u&h|l&(u^h),n=x+o+a+ef[f]+t[f],i=s+c,x=g,g=y,y=p,p=d+n>>>0,d=l,l=h,h=u,u=n+i>>>0;e.h0=e.h0+u|0,e.h1=e.h1+h|0,e.h2=e.h2+l|0,e.h3=e.h3+d|0,e.h4=e.h4+p|0,e.h5=e.h5+y|0,e.h6=e.h6+g|0,e.h7=e.h7+x|0,w-=64}}});var of=K((Ob,sf)=>{var Ne=gt();Dt();var is=null;Ne.util.isNodejs&&!Ne.options.usePureJavaScript&&!process.versions["node-webkit"]&&(is=Tr());var Hd=sf.exports=Ne.prng=Ne.prng||{};Hd.create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=e.md,n=new Array(32),i=0;i<32;++i)n[i]=r.create();t.pools=n,t.pool=0,t.generate=function(f,u){if(!u)return t.generateSync(f);var h=t.plugin.cipher,l=t.plugin.increment,d=t.plugin.formatKey,p=t.plugin.formatSeed,y=Ne.util.createBuffer();t.key=null,g();function g(x){if(x)return u(x);if(y.length()>=f)return u(null,y.getBytes(f));if(t.generated>1048575&&(t.key=null),t.key===null)return Ne.util.nextTick(function(){s(g)});var w=h(t.key,t.seed);t.generated+=w.length,y.putBytes(w),t.key=d(h(t.key,l(t.seed))),t.seed=p(h(t.key,t.seed)),Ne.util.setImmediate(g)}},t.generateSync=function(f){var u=t.plugin.cipher,h=t.plugin.increment,l=t.plugin.formatKey,d=t.plugin.formatSeed;t.key=null;for(var p=Ne.util.createBuffer();p.length()<f;){t.generated>1048575&&(t.key=null),t.key===null&&o();var y=u(t.key,t.seed);t.generated+=y.length,p.putBytes(y),t.key=l(u(t.key,h(t.seed))),t.seed=d(u(t.key,t.seed))}return p.getBytes(f)};function s(f){if(t.pools[0].messageLength>=32)return a(),f();var u=32-t.pools[0].messageLength<<5;t.seedFile(u,function(h,l){if(h)return f(h);t.collect(l),a(),f()})}function o(){if(t.pools[0].messageLength>=32)return a();var f=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(f)),a()}function a(){t.reseeds=t.reseeds===4294967295?0:t.reseeds+1;var f=t.plugin.md.create();f.update(t.keyBytes);for(var u=1,h=0;h<32;++h)t.reseeds%u===0&&(f.update(t.pools[h].digest().getBytes()),t.pools[h].start()),u=u<<1;t.keyBytes=f.digest().getBytes(),f.start(),f.update(t.keyBytes);var l=f.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(l),t.generated=0}function c(f){var u=null,h=Ne.util.globalScope,l=h.crypto||h.msCrypto;l&&l.getRandomValues&&(u=function(E){return l.getRandomValues(E)});var d=Ne.util.createBuffer();if(u)for(;d.length()<f;){var p=Math.max(1,Math.min(f-d.length(),65536)/4),y=new Uint32Array(Math.floor(p));try{u(y);for(var g=0;g<y.length;++g)d.putInt32(y[g])}catch(E){if(!(typeof QuotaExceededError<"u"&&E instanceof QuotaExceededError))throw E}}if(d.length()<f)for(var x,w,b,B=Math.floor(Math.random()*65536);d.length()<f;){w=16807*(B&65535),x=16807*(B>>16),w+=(x&32767)<<16,w+=x>>15,w=(w&2147483647)+(w>>31),B=w&4294967295;for(var g=0;g<3;++g)b=B>>>(g<<3),b^=Math.floor(Math.random()*256),d.putByte(b&255)}return d.getBytes(f)}return is?(t.seedFile=function(f,u){is.randomBytes(f,function(h,l){if(h)return u(h);u(null,l.toString())})},t.seedFileSync=function(f){return is.randomBytes(f).toString()}):(t.seedFile=function(f,u){try{u(null,c(f))}catch(h){u(h)}},t.seedFileSync=c),t.collect=function(f){for(var u=f.length,h=0;h<u;++h)t.pools[t.pool].update(f.substr(h,1)),t.pool=t.pool===31?0:t.pool+1},t.collectInt=function(f,u){for(var h="",l=0;l<u;l+=8)h+=String.fromCharCode(f>>l&255);t.collect(h)},t.registerWorker=function(f){if(f===self)t.seedFile=function(h,l){function d(p){var y=p.data;y.forge&&y.forge.prng&&(self.removeEventListener("message",d),l(y.forge.prng.err,y.forge.prng.bytes))}self.addEventListener("message",d),self.postMessage({forge:{prng:{needed:h}}})};else{var u=function(h){var l=h.data;l.forge&&l.forge.prng&&t.seedFile(l.forge.prng.needed,function(d,p){f.postMessage({forge:{prng:{err:d,bytes:p}}})})};f.addEventListener("message",u)}},t}});var Yn=K((Vb,Uo)=>{var Ot=gt();Lo();nf();of();Dt();(function(){if(Ot.random&&Ot.random.getBytes){Uo.exports=Ot.random;return}(function(e){var t={},r=new Array(4),n=Ot.util.createBuffer();t.formatKey=function(h){var l=Ot.util.createBuffer(h);return h=new Array(4),h[0]=l.getInt32(),h[1]=l.getInt32(),h[2]=l.getInt32(),h[3]=l.getInt32(),Ot.aes._expandKey(h,!1)},t.formatSeed=function(h){var l=Ot.util.createBuffer(h);return h=new Array(4),h[0]=l.getInt32(),h[1]=l.getInt32(),h[2]=l.getInt32(),h[3]=l.getInt32(),h},t.cipher=function(h,l){return Ot.aes._updateBlock(h,l,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},t.increment=function(h){return++h[3],h},t.md=Ot.md.sha256;function i(){var h=Ot.prng.create(t);return h.getBytes=function(l,d){return h.generate(l,d)},h.getBytesSync=function(l){return h.generate(l)},h}var s=i(),o=null,a=Ot.util.globalScope,c=a.crypto||a.msCrypto;if(c&&c.getRandomValues&&(o=function(h){return c.getRandomValues(h)}),Ot.options.usePureJavaScript||!Ot.util.isNodejs&&!o){if(typeof window>"u"||window.document,s.collectInt(+new Date,32),typeof navigator<"u"){var f="";for(var u in navigator)try{typeof navigator[u]=="string"&&(f+=navigator[u])}catch{}s.collect(f),f=null}e&&(e().mousemove(function(h){s.collectInt(h.clientX,16),s.collectInt(h.clientY,16)}),e().keypress(function(h){s.collectInt(h.charCode,8)}))}if(!Ot.random)Ot.random=s;else for(var u in s)Ot.random[u]=s[u];Ot.random.createInstance=i,Uo.exports=Ot.random})(typeof jQuery<"u"?jQuery:null)})()});var uf=K((Hb,ff)=>{var oe=gt();Dt();var No=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],af=[1,2,3,5],qd=function(e,t){return e<<t&65535|(e&65535)>>16-t},zd=function(e,t){return(e&65535)>>t|e<<16-t&65535};ff.exports=oe.rc2=oe.rc2||{};oe.rc2.expandKey=function(e,t){typeof e=="string"&&(e=oe.util.createBuffer(e)),t=t||128;var r=e,n=e.length(),i=t,s=Math.ceil(i/8),o=255>>(i&7),a;for(a=n;a<128;a++)r.putByte(No[r.at(a-1)+r.at(a-n)&255]);for(r.setAt(128-s,No[r.at(128-s)&o]),a=127-s;a>=0;a--)r.setAt(a,No[r.at(a+1)^r.at(a+s)]);return r};var cf=function(e,t,r){var n=!1,i=null,s=null,o=null,a,c,f,u,h=[];for(e=oe.rc2.expandKey(e,t),f=0;f<64;f++)h.push(e.getInt16Le());r?(a=function(p){for(f=0;f<4;f++)p[f]+=h[u]+(p[(f+3)%4]&p[(f+2)%4])+(~p[(f+3)%4]&p[(f+1)%4]),p[f]=qd(p[f],af[f]),u++},c=function(p){for(f=0;f<4;f++)p[f]+=h[p[(f+3)%4]&63]}):(a=function(p){for(f=3;f>=0;f--)p[f]=zd(p[f],af[f]),p[f]-=h[u]+(p[(f+3)%4]&p[(f+2)%4])+(~p[(f+3)%4]&p[(f+1)%4]),u--},c=function(p){for(f=3;f>=0;f--)p[f]-=h[p[(f+3)%4]&63]});var l=function(p){var y=[];for(f=0;f<4;f++){var g=i.getInt16Le();o!==null&&(r?g^=o.getInt16Le():o.putInt16Le(g)),y.push(g&65535)}u=r?0:63;for(var x=0;x<p.length;x++)for(var w=0;w<p[x][0];w++)p[x][1](y);for(f=0;f<4;f++)o!==null&&(r?o.putInt16Le(y[f]):y[f]^=o.getInt16Le()),s.putInt16Le(y[f])},d=null;return d={start:function(p,y){p&&typeof p=="string"&&(p=oe.util.createBuffer(p)),n=!1,i=oe.util.createBuffer(),s=y||new oe.util.createBuffer,o=p,d.output=s},update:function(p){for(n||i.putBuffer(p);i.length()>=8;)l([[5,a],[1,c],[6,a],[1,c],[5,a]])},finish:function(p){var y=!0;if(r)if(p)y=p(8,i,!r);else{var g=i.length()===8?8:8-i.length();i.fillWithByte(g,g)}if(y&&(n=!0,d.update()),!r&&(y=i.length()===0,y))if(p)y=p(8,s,!r);else{var x=s.length(),w=s.at(x-1);w>x?y=!1:s.truncate(w)}return y}},d};oe.rc2.startEncrypting=function(e,t,r){var n=oe.rc2.createEncryptionCipher(e,128);return n.start(t,r),n};oe.rc2.createEncryptionCipher=function(e,t){return cf(e,t,!0)};oe.rc2.startDecrypting=function(e,t,r){var n=oe.rc2.createDecryptionCipher(e,128);return n.start(t,r),n};oe.rc2.createDecryptionCipher=function(e,t){return cf(e,t,!1)}});var as=K((qb,mf)=>{var Do=gt();mf.exports=Do.jsbn=Do.jsbn||{};var je,Gd=0xdeadbeefcafe,hf=(Gd&16777215)==15715070;function _(e,t,r){this.data=[],e!=null&&(typeof e=="number"?this.fromNumber(e,t,r):t==null&&typeof e!="string"?this.fromString(e,256):this.fromString(e,t))}Do.jsbn.BigInteger=_;function nt(){return new _(null)}function Wd(e,t,r,n,i,s){for(;--s>=0;){var o=t*this.data[e++]+r.data[n]+i;i=Math.floor(o/67108864),r.data[n++]=o&67108863}return i}function $d(e,t,r,n,i,s){for(var o=t&32767,a=t>>15;--s>=0;){var c=this.data[e]&32767,f=this.data[e++]>>15,u=a*c+f*o;c=o*c+((u&32767)<<15)+r.data[n]+(i&1073741823),i=(c>>>30)+(u>>>15)+a*f+(i>>>30),r.data[n++]=c&1073741823}return i}function lf(e,t,r,n,i,s){for(var o=t&16383,a=t>>14;--s>=0;){var c=this.data[e]&16383,f=this.data[e++]>>14,u=a*c+f*o;c=o*c+((u&16383)<<14)+r.data[n]+i,i=(c>>28)+(u>>14)+a*f,r.data[n++]=c&268435455}return i}typeof navigator>"u"?(_.prototype.am=lf,je=28):hf&&navigator.appName=="Microsoft Internet Explorer"?(_.prototype.am=$d,je=30):hf&&navigator.appName!="Netscape"?(_.prototype.am=Wd,je=26):(_.prototype.am=lf,je=28);_.prototype.DB=je;_.prototype.DM=(1<<je)-1;_.prototype.DV=1<<je;var ko=52;_.prototype.FV=Math.pow(2,ko);_.prototype.F1=ko-je;_.prototype.F2=2*je-ko;var Yd="0123456789abcdefghijklmnopqrstuvwxyz",ss=new Array,on,xe;on="0".charCodeAt(0);for(xe=0;xe<=9;++xe)ss[on++]=xe;on="a".charCodeAt(0);for(xe=10;xe<36;++xe)ss[on++]=xe;on="A".charCodeAt(0);for(xe=10;xe<36;++xe)ss[on++]=xe;function pf(e){return Yd.charAt(e)}function df(e,t){var r=ss[e.charCodeAt(t)];return r??-1}function Xd(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s}function Zd(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0}function ur(e){var t=nt();return t.fromInt(e),t}function Qd(e,t){var r;if(t==16)r=4;else if(t==8)r=3;else if(t==256)r=8;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else{this.fromRadix(e,t);return}this.t=0,this.s=0;for(var n=e.length,i=!1,s=0;--n>=0;){var o=r==8?e[n]&255:df(e,n);if(o<0){e.charAt(n)=="-"&&(i=!0);continue}i=!1,s==0?this.data[this.t++]=o:s+r>this.DB?(this.data[this.t-1]|=(o&(1<<this.DB-s)-1)<<s,this.data[this.t++]=o>>this.DB-s):this.data[this.t-1]|=o<<s,s+=r,s>=this.DB&&(s-=this.DB)}r==8&&e[0]&128&&(this.s=-1,s>0&&(this.data[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),i&&_.ZERO.subTo(this,this)}function jd(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t}function Jd(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else return this.toRadix(e);var r=(1<<t)-1,n,i=!1,s="",o=this.t,a=this.DB-o*this.DB%t;if(o-- >0)for(a<this.DB&&(n=this.data[o]>>a)>0&&(i=!0,s=pf(n));o>=0;)a<t?(n=(this.data[o]&(1<<a)-1)<<t-a,n|=this.data[--o]>>(a+=this.DB-t)):(n=this.data[o]>>(a-=t)&r,a<=0&&(a+=this.DB,--o)),n>0&&(i=!0),i&&(s+=pf(n));return i?s:"0"}function ty(){var e=nt();return _.ZERO.subTo(this,e),e}function ey(){return this.s<0?this.negate():this}function ry(e){var t=this.s-e.s;if(t!=0)return t;var r=this.t;if(t=r-e.t,t!=0)return this.s<0?-t:t;for(;--r>=0;)if((t=this.data[r]-e.data[r])!=0)return t;return 0}function os(e){var t=1,r;return(r=e>>>16)!=0&&(e=r,t+=16),(r=e>>8)!=0&&(e=r,t+=8),(r=e>>4)!=0&&(e=r,t+=4),(r=e>>2)!=0&&(e=r,t+=2),(r=e>>1)!=0&&(e=r,t+=1),t}function ny(){return this.t<=0?0:this.DB*(this.t-1)+os(this.data[this.t-1]^this.s&this.DM)}function iy(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s}function sy(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s}function oy(e,t){var r=e%this.DB,n=this.DB-r,i=(1<<n)-1,s=Math.floor(e/this.DB),o=this.s<<r&this.DM,a;for(a=this.t-1;a>=0;--a)t.data[a+s+1]=this.data[a]>>n|o,o=(this.data[a]&i)<<r;for(a=s-1;a>=0;--a)t.data[a]=0;t.data[s]=o,t.t=this.t+s+1,t.s=this.s,t.clamp()}function ay(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var n=e%this.DB,i=this.DB-n,s=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var o=r+1;o<this.t;++o)t.data[o-r-1]|=(this.data[o]&s)<<i,t.data[o-r]=this.data[o]>>n;n>0&&(t.data[this.t-r-1]|=(this.s&s)<<i),t.t=this.t-r,t.clamp()}function cy(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()}function fy(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t.data[i]=0;for(i=0;i<n.t;++i)t.data[i+r.t]=r.am(0,n.data[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&_.ZERO.subTo(t,t)}function uy(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()}function hy(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){t?.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=nt());var s=nt(),o=this.s,a=e.s,c=this.DB-os(n.data[n.t-1]);c>0?(n.lShiftTo(c,s),i.lShiftTo(c,r)):(n.copyTo(s),i.copyTo(r));var f=s.t,u=s.data[f-1];if(u!=0){var h=u*(1<<this.F1)+(f>1?s.data[f-2]>>this.F2:0),l=this.FV/h,d=(1<<this.F1)/h,p=1<<this.F2,y=r.t,g=y-f,x=t??nt();for(s.dlShiftTo(g,x),r.compareTo(x)>=0&&(r.data[r.t++]=1,r.subTo(x,r)),_.ONE.dlShiftTo(f,x),x.subTo(s,s);s.t<f;)s.data[s.t++]=0;for(;--g>=0;){var w=r.data[--y]==u?this.DM:Math.floor(r.data[y]*l+(r.data[y-1]+p)*d);if((r.data[y]+=s.am(0,w,r,g,0,f))<w)for(s.dlShiftTo(g,x),r.subTo(x,r);r.data[y]<--w;)r.subTo(x,r)}t!=null&&(r.drShiftTo(f,t),o!=a&&_.ZERO.subTo(t,t)),r.t=f,r.clamp(),c>0&&r.rShiftTo(c,r),o<0&&_.ZERO.subTo(r,r)}}}function ly(e){var t=nt();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(_.ZERO)>0&&e.subTo(t,t),t}function Rr(e){this.m=e}function py(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function dy(e){return e}function yy(e){e.divRemTo(this.m,null,e)}function gy(e,t,r){e.multiplyTo(t,r),this.reduce(r)}function xy(e,t){e.squareTo(t),this.reduce(t)}Rr.prototype.convert=py;Rr.prototype.revert=dy;Rr.prototype.reduce=yy;Rr.prototype.mulTo=gy;Rr.prototype.sqrTo=xy;function my(){if(this.t<1)return 0;var e=this.data[0];if(!(e&1))return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function Ur(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function vy(e){var t=nt();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(_.ZERO)>0&&this.m.subTo(t,t),t}function by(e){var t=nt();return e.copyTo(t),this.reduce(t),t}function wy(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=e.data[t]&32767,n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function Ey(e,t){e.squareTo(t),this.reduce(t)}function Sy(e,t,r){e.multiplyTo(t,r),this.reduce(r)}Ur.prototype.convert=vy;Ur.prototype.revert=by;Ur.prototype.reduce=wy;Ur.prototype.mulTo=Sy;Ur.prototype.sqrTo=Ey;function Ay(){return(this.t>0?this.data[0]&1:this.s)==0}function By(e,t){if(e>4294967295||e<1)return _.ONE;var r=nt(),n=nt(),i=t.convert(this),s=os(e)-1;for(i.copyTo(r);--s>=0;)if(t.sqrTo(r,n),(e&1<<s)>0)t.mulTo(n,i,r);else{var o=r;r=n,n=o}return t.revert(r)}function Cy(e,t){var r;return e<256||t.isEven()?r=new Rr(t):r=new Ur(t),this.exp(e,r)}_.prototype.copyTo=Xd;_.prototype.fromInt=Zd;_.prototype.fromString=Qd;_.prototype.clamp=jd;_.prototype.dlShiftTo=iy;_.prototype.drShiftTo=sy;_.prototype.lShiftTo=oy;_.prototype.rShiftTo=ay;_.prototype.subTo=cy;_.prototype.multiplyTo=fy;_.prototype.squareTo=uy;_.prototype.divRemTo=hy;_.prototype.invDigit=my;_.prototype.isEven=Ay;_.prototype.exp=By;_.prototype.toString=Jd;_.prototype.negate=ty;_.prototype.abs=ey;_.prototype.compareTo=ry;_.prototype.bitLength=ny;_.prototype.mod=ly;_.prototype.modPowInt=Cy;_.ZERO=ur(0);_.ONE=ur(1);function _y(){var e=nt();return this.copyTo(e),e}function Ty(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function Iy(){return this.t==0?this.s:this.data[0]<<24>>24}function Ly(){return this.t==0?this.s:this.data[0]<<16>>16}function Ry(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function Uy(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function Ny(e){if(e==null&&(e=10),this.signum()==0||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=ur(r),i=nt(),s=nt(),o="";for(this.divRemTo(n,i,s);i.signum()>0;)o=(r+s.intValue()).toString(e).substr(1)+o,i.divRemTo(n,i,s);return s.intValue().toString(e)+o}function Dy(e,t){this.fromInt(0),t==null&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),i=!1,s=0,o=0,a=0;a<e.length;++a){var c=df(e,a);if(c<0){e.charAt(a)=="-"&&this.signum()==0&&(i=!0);continue}o=t*o+c,++s>=r&&(this.dMultiply(n),this.dAddOffset(o,0),s=0,o=0)}s>0&&(this.dMultiply(Math.pow(t,s)),this.dAddOffset(o,0)),i&&_.ZERO.subTo(this,this)}function ky(e,t,r){if(typeof t=="number")if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(_.ONE.shiftLeft(e-1),Po,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(_.ONE.shiftLeft(e-1),this);else{var n=new Array,i=e&7;n.length=(e>>3)+1,t.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}function Py(){var e=this.t,t=new Array;t[0]=this.s;var r=this.DB-e*this.DB%8,n,i=0;if(e-- >0)for(r<this.DB&&(n=this.data[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this.data[e]&(1<<r)-1)<<8-r,n|=this.data[--e]>>(r+=this.DB-8)):(n=this.data[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),n&128&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t}function Ky(e){return this.compareTo(e)==0}function My(e){return this.compareTo(e)<0?this:e}function Fy(e){return this.compareTo(e)>0?this:e}function Oy(e,t,r){var n,i,s=Math.min(e.t,this.t);for(n=0;n<s;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(i=e.s&this.DM,n=s;n<this.t;++n)r.data[n]=t(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=s;n<e.t;++n)r.data[n]=t(i,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()}function Vy(e,t){return e&t}function Hy(e){var t=nt();return this.bitwiseTo(e,Vy,t),t}function Po(e,t){return e|t}function qy(e){var t=nt();return this.bitwiseTo(e,Po,t),t}function yf(e,t){return e^t}function zy(e){var t=nt();return this.bitwiseTo(e,yf,t),t}function gf(e,t){return e&~t}function Gy(e){var t=nt();return this.bitwiseTo(e,gf,t),t}function Wy(){for(var e=nt(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e}function $y(e){var t=nt();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}function Yy(e){var t=nt();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}function Xy(e){if(e==0)return-1;var t=0;return e&65535||(e>>=16,t+=16),e&255||(e>>=8,t+=8),e&15||(e>>=4,t+=4),e&3||(e>>=2,t+=2),e&1||++t,t}function Zy(){for(var e=0;e<this.t;++e)if(this.data[e]!=0)return e*this.DB+Xy(this.data[e]);return this.s<0?this.t*this.DB:-1}function Qy(e){for(var t=0;e!=0;)e&=e-1,++t;return t}function jy(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=Qy(this.data[r]^t);return e}function Jy(e){var t=Math.floor(e/this.DB);return t>=this.t?this.s!=0:(this.data[t]&1<<e%this.DB)!=0}function t1(e,t){var r=_.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r}function e1(e){return this.changeBit(e,Po)}function r1(e){return this.changeBit(e,gf)}function n1(e){return this.changeBit(e,yf)}function i1(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()}function s1(e){var t=nt();return this.addTo(e,t),t}function o1(e){var t=nt();return this.subTo(e,t),t}function a1(e){var t=nt();return this.multiplyTo(e,t),t}function c1(e){var t=nt();return this.divRemTo(e,t,null),t}function f1(e){var t=nt();return this.divRemTo(e,null,t),t}function u1(e){var t=nt(),r=nt();return this.divRemTo(e,t,r),new Array(t,r)}function h1(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function l1(e,t){if(e!=0){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}}function Xn(){}function xf(e){return e}function p1(e,t,r){e.multiplyTo(t,r)}function d1(e,t){e.squareTo(t)}Xn.prototype.convert=xf;Xn.prototype.revert=xf;Xn.prototype.mulTo=p1;Xn.prototype.sqrTo=d1;function y1(e){return this.exp(e,new Xn)}function g1(e,t,r){var n=Math.min(this.t+e.t,t);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,e.data[n],r,n,0,this.t);for(i=Math.min(e.t,t);n<i;++n)this.am(0,e.data[n],r,n,0,t-n);r.clamp()}function x1(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)}function an(e){this.r2=nt(),this.q3=nt(),_.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function m1(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=nt();return e.copyTo(t),this.reduce(t),t}function v1(e){return e}function b1(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function w1(e,t){e.squareTo(t),this.reduce(t)}function E1(e,t,r){e.multiplyTo(t,r),this.reduce(r)}an.prototype.convert=m1;an.prototype.revert=v1;an.prototype.reduce=b1;an.prototype.mulTo=E1;an.prototype.sqrTo=w1;function S1(e,t){var r=e.bitLength(),n,i=ur(1),s;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?s=new Rr(t):t.isEven()?s=new an(t):s=new Ur(t);var o=new Array,a=3,c=n-1,f=(1<<n)-1;if(o[1]=s.convert(this),n>1){var u=nt();for(s.sqrTo(o[1],u);a<=f;)o[a]=nt(),s.mulTo(u,o[a-2],o[a]),a+=2}var h=e.t-1,l,d=!0,p=nt(),y;for(r=os(e.data[h])-1;h>=0;){for(r>=c?l=e.data[h]>>r-c&f:(l=(e.data[h]&(1<<r+1)-1)<<c-r,h>0&&(l|=e.data[h-1]>>this.DB+r-c)),a=n;!(l&1);)l>>=1,--a;if((r-=a)<0&&(r+=this.DB,--h),d)o[l].copyTo(i),d=!1;else{for(;a>1;)s.sqrTo(i,p),s.sqrTo(p,i),a-=2;a>0?s.sqrTo(i,p):(y=i,i=p,p=y),s.mulTo(p,o[l],i)}for(;h>=0&&!(e.data[h]&1<<r);)s.sqrTo(i,p),y=i,i=p,p=y,--r<0&&(r=this.DB-1,--h)}return s.revert(i)}function A1(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),s=r.getLowestSetBit();if(s<0)return t;for(i<s&&(s=i),s>0&&(t.rShiftTo(s,t),r.rShiftTo(s,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return s>0&&r.lShiftTo(s,r),r}function B1(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(t==0)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e;return r}function C1(e){var t=e.isEven();if(this.isEven()&&t||e.signum()==0)return _.ZERO;for(var r=e.clone(),n=this.clone(),i=ur(1),s=ur(0),o=ur(0),a=ur(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),t?((!i.isEven()||!s.isEven())&&(i.addTo(this,i),s.subTo(e,s)),i.rShiftTo(1,i)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);for(;n.isEven();)n.rShiftTo(1,n),t?((!o.isEven()||!a.isEven())&&(o.addTo(this,o),a.subTo(e,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);r.compareTo(n)>=0?(r.subTo(n,r),t&&i.subTo(o,i),s.subTo(a,s)):(n.subTo(r,n),t&&o.subTo(i,o),a.subTo(s,a))}if(n.compareTo(_.ONE)!=0)return _.ZERO;if(a.compareTo(e)>=0)return a.subtract(e);if(a.signum()<0)a.addTo(e,a);else return a;return a.signum()<0?a.add(e):a}var Ae=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],_1=(1<<26)/Ae[Ae.length-1];function T1(e){var t,r=this.abs();if(r.t==1&&r.data[0]<=Ae[Ae.length-1]){for(t=0;t<Ae.length;++t)if(r.data[0]==Ae[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<Ae.length;){for(var n=Ae[t],i=t+1;i<Ae.length&&n<_1;)n*=Ae[i++];for(n=r.modInt(n);t<i;)if(n%Ae[t++]==0)return!1}return r.millerRabin(e)}function I1(e){var t=this.subtract(_.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var n=t.shiftRight(r),i=L1(),s,o=0;o<e;++o){do s=new _(this.bitLength(),i);while(s.compareTo(_.ONE)<=0||s.compareTo(t)>=0);var a=s.modPow(n,this);if(a.compareTo(_.ONE)!=0&&a.compareTo(t)!=0){for(var c=1;c++<r&&a.compareTo(t)!=0;)if(a=a.modPowInt(2,this),a.compareTo(_.ONE)==0)return!1;if(a.compareTo(t)!=0)return!1}}return!0}function L1(){return{nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(Math.random()*256)}}}_.prototype.chunkSize=Ry;_.prototype.toRadix=Ny;_.prototype.fromRadix=Dy;_.prototype.fromNumber=ky;_.prototype.bitwiseTo=Oy;_.prototype.changeBit=t1;_.prototype.addTo=i1;_.prototype.dMultiply=h1;_.prototype.dAddOffset=l1;_.prototype.multiplyLowerTo=g1;_.prototype.multiplyUpperTo=x1;_.prototype.modInt=B1;_.prototype.millerRabin=I1;_.prototype.clone=_y;_.prototype.intValue=Ty;_.prototype.byteValue=Iy;_.prototype.shortValue=Ly;_.prototype.signum=Uy;_.prototype.toByteArray=Py;_.prototype.equals=Ky;_.prototype.min=My;_.prototype.max=Fy;_.prototype.and=Hy;_.prototype.or=qy;_.prototype.xor=zy;_.prototype.andNot=Gy;_.prototype.not=Wy;_.prototype.shiftLeft=$y;_.prototype.shiftRight=Yy;_.prototype.getLowestSetBit=Zy;_.prototype.bitCount=jy;_.prototype.testBit=Jy;_.prototype.setBit=e1;_.prototype.clearBit=r1;_.prototype.flipBit=n1;_.prototype.add=s1;_.prototype.subtract=o1;_.prototype.multiply=a1;_.prototype.divide=c1;_.prototype.remainder=f1;_.prototype.divideAndRemainder=u1;_.prototype.modPow=S1;_.prototype.modInverse=C1;_.prototype.pow=y1;_.prototype.gcd=A1;_.prototype.isProbablePrime=T1});var Sf=K((zb,Ef)=>{var De=gt();Lr();Dt();var bf=Ef.exports=De.sha1=De.sha1||{};De.md.sha1=De.md.algorithms.sha1=bf;bf.create=function(){wf||R1();var e=null,t=De.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,s=0;s<i;++s)n.fullMessageLength.push(0);return t=De.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(i,s){s==="utf8"&&(i=De.util.encodeUtf8(i));var o=i.length;n.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var a=n.fullMessageLength.length-1;a>=0;--a)n.fullMessageLength[a]+=o[1],o[1]=o[0]+(n.fullMessageLength[a]/4294967296>>>0),n.fullMessageLength[a]=n.fullMessageLength[a]>>>0,o[0]=o[1]/4294967296>>>0;return t.putBytes(i),vf(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var i=De.util.createBuffer();i.putBytes(t.bytes());var s=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,o=s&n.blockLength-1;i.putBytes(Ko.substr(0,n.blockLength-o));for(var a,c,f=n.fullMessageLength[0]*8,u=0;u<n.fullMessageLength.length-1;++u)a=n.fullMessageLength[u+1]*8,c=a/4294967296>>>0,f+=c,i.putInt32(f>>>0),f=a>>>0;i.putInt32(f);var h={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};vf(h,r,i);var l=De.util.createBuffer();return l.putInt32(h.h0),l.putInt32(h.h1),l.putInt32(h.h2),l.putInt32(h.h3),l.putInt32(h.h4),l},n};var Ko=null,wf=!1;function R1(){Ko=String.fromCharCode(128),Ko+=De.util.fillString(String.fromCharCode(0),64),wf=!0}function vf(e,t,r){for(var n,i,s,o,a,c,f,u,h=r.length();h>=64;){for(i=e.h0,s=e.h1,o=e.h2,a=e.h3,c=e.h4,u=0;u<16;++u)n=r.getInt32(),t[u]=n,f=a^s&(o^a),n=(i<<5|i>>>27)+f+c+1518500249+n,c=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;u<20;++u)n=t[u-3]^t[u-8]^t[u-14]^t[u-16],n=n<<1|n>>>31,t[u]=n,f=a^s&(o^a),n=(i<<5|i>>>27)+f+c+1518500249+n,c=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;u<32;++u)n=t[u-3]^t[u-8]^t[u-14]^t[u-16],n=n<<1|n>>>31,t[u]=n,f=s^o^a,n=(i<<5|i>>>27)+f+c+1859775393+n,c=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;u<40;++u)n=t[u-6]^t[u-16]^t[u-28]^t[u-32],n=n<<2|n>>>30,t[u]=n,f=s^o^a,n=(i<<5|i>>>27)+f+c+1859775393+n,c=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;u<60;++u)n=t[u-6]^t[u-16]^t[u-28]^t[u-32],n=n<<2|n>>>30,t[u]=n,f=s&o|a&(s^o),n=(i<<5|i>>>27)+f+c+2400959708+n,c=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;for(;u<80;++u)n=t[u-6]^t[u-16]^t[u-28]^t[u-32],n=n<<2|n>>>30,t[u]=n,f=s^o^a,n=(i<<5|i>>>27)+f+c+3395469782+n,c=a,a=o,o=(s<<30|s>>>2)>>>0,s=i,i=n;e.h0=e.h0+i|0,e.h1=e.h1+s|0,e.h2=e.h2+o|0,e.h3=e.h3+a|0,e.h4=e.h4+c|0,h-=64}}});var Cf=K((Gb,Bf)=>{var ke=gt();Dt();Yn();Sf();var Af=Bf.exports=ke.pkcs1=ke.pkcs1||{};Af.encode_rsa_oaep=function(e,t,r){var n,i,s,o;typeof r=="string"?(n=r,i=arguments[3]||void 0,s=arguments[4]||void 0):r&&(n=r.label||void 0,i=r.seed||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(o=r.mgf1.md)),s?s.start():s=ke.md.sha1.create(),o||(o=s);var a=Math.ceil(e.n.bitLength()/8),c=a-2*s.digestLength-2;if(t.length>c){var f=new Error("RSAES-OAEP input message length is too long.");throw f.length=t.length,f.maxLength=c,f}n||(n=""),s.update(n,"raw");for(var u=s.digest(),h="",l=c-t.length,d=0;d<l;d++)h+="\0";var p=u.getBytes()+h+""+t;if(!i)i=ke.random.getBytes(s.digestLength);else if(i.length!==s.digestLength){var f=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw f.seedLength=i.length,f.digestLength=s.digestLength,f}var y=cs(i,a-s.digestLength-1,o),g=ke.util.xorBytes(p,y,p.length),x=cs(g,s.digestLength,o),w=ke.util.xorBytes(i,x,i.length);return"\0"+w+g};Af.decode_rsa_oaep=function(e,t,r){var n,i,s;typeof r=="string"?(n=r,i=arguments[3]||void 0):r&&(n=r.label||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md));var o=Math.ceil(e.n.bitLength()/8);if(t.length!==o){var g=new Error("RSAES-OAEP encoded message length is invalid.");throw g.length=t.length,g.expectedLength=o,g}if(i===void 0?i=ke.md.sha1.create():i.start(),s||(s=i),o<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),i.update(n,"raw");for(var a=i.digest().getBytes(),c=t.charAt(0),f=t.substring(1,i.digestLength+1),u=t.substring(1+i.digestLength),h=cs(u,i.digestLength,s),l=ke.util.xorBytes(f,h,f.length),d=cs(l,o-i.digestLength-1,s),p=ke.util.xorBytes(u,d,u.length),y=p.substring(0,i.digestLength),g=c!=="\0",x=0;x<i.digestLength;++x)g|=a.charAt(x)!==y.charAt(x);for(var w=1,b=i.digestLength,B=i.digestLength;B<p.length;B++){var E=p.charCodeAt(B),A=E&1^1,L=w?65534:0;g|=E&L,w=w&A,b+=w}if(g||p.charCodeAt(b)!==1)throw new Error("Invalid RSAES-OAEP padding.");return p.substring(b+1)};function cs(e,t,r){r||(r=ke.md.sha1.create());for(var n="",i=Math.ceil(t/r.digestLength),s=0;s<i;++s){var o=String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,s&255);r.start(),r.update(e+o),n+=r.digest().getBytes()}return n.substring(0,t)}});var _f=K((Wb,Mo)=>{var hr=gt();Dt();as();Yn();(function(){if(hr.prime){Mo.exports=hr.prime;return}var e=Mo.exports=hr.prime=hr.prime||{},t=hr.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new t(null);n.fromInt(30);var i=function(h,l){return h|l};e.generateProbablePrime=function(h,l,d){typeof l=="function"&&(d=l,l={}),l=l||{};var p=l.algorithm||"PRIMEINC";typeof p=="string"&&(p={name:p}),p.options=p.options||{};var y=l.prng||hr.random,g={nextBytes:function(x){for(var w=y.getBytesSync(x.length),b=0;b<x.length;++b)x[b]=w.charCodeAt(b)}};if(p.name==="PRIMEINC")return s(h,g,p.options,d);throw new Error("Invalid prime generation algorithm: "+p.name)};function s(h,l,d,p){return"workers"in d?c(h,l,d,p):o(h,l,d,p)}function o(h,l,d,p){var y=f(h,l),g=0,x=u(y.bitLength());"millerRabinTests"in d&&(x=d.millerRabinTests);var w=10;"maxBlockTime"in d&&(w=d.maxBlockTime),a(y,h,l,g,x,w,p)}function a(h,l,d,p,y,g,x){var w=+new Date;do{if(h.bitLength()>l&&(h=f(l,d)),h.isProbablePrime(y))return x(null,h);h.dAddOffset(r[p++%8],0)}while(g<0||+new Date-w<g);hr.util.setImmediate(function(){a(h,l,d,p,y,g,x)})}function c(h,l,d,p){if(typeof Worker>"u")return o(h,l,d,p);var y=f(h,l),g=d.workers,x=d.workLoad||100,w=x*30/8,b=d.workerScript||"forge/prime.worker.js";if(g===-1)return hr.util.estimateCores(function(E,A){E&&(A=2),g=A-1,B()});B();function B(){g=Math.max(1,g);for(var E=[],A=0;A<g;++A)E[A]=new Worker(b);for(var L=g,A=0;A<g;++A)E[A].addEventListener("message",k);var R=!1;function k(O){if(!R){--L;var G=O.data;if(G.found){for(var z=0;z<E.length;++z)E[z].terminate();return R=!0,p(null,new t(G.prime,16))}y.bitLength()>h&&(y=f(h,l));var rt=y.toString(16);O.target.postMessage({hex:rt,workLoad:x}),y.dAddOffset(w,0)}}}}function f(h,l){var d=new t(h,l),p=h-1;return d.testBit(p)||d.bitwiseTo(t.ONE.shiftLeft(p),i,d),d.dAddOffset(31-d.mod(n).byteValue(),0),d}function u(h){return h<=100?27:h<=150?18:h<=200?15:h<=250?12:h<=300?9:h<=350?8:h<=400?7:h<=500?6:h<=600?5:h<=800?4:h<=1250?3:2}})()});var us=K(($b,Df)=>{var M=gt();$n();as();Xi();Cf();_f();Yn();Dt();typeof J>"u"&&(J=M.jsbn.BigInteger);var J,Fo=M.util.isNodejs?Tr():null,v=M.asn1,me=M.util;M.pki=M.pki||{};Df.exports=M.pki.rsa=M.rsa=M.rsa||{};var q=M.pki,U1=[6,4,2,4,2,4,6,2],N1={name:"PrivateKeyInfo",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:v.Class.UNIVERSAL,type:v.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:v.Class.UNIVERSAL,type:v.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},D1={name:"RSAPrivateKey",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},k1={name:"RSAPublicKey",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},P1=M.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:v.Class.UNIVERSAL,type:v.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:v.Class.UNIVERSAL,type:v.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},K1={name:"DigestInfo",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:v.Class.UNIVERSAL,type:v.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:v.Class.UNIVERSAL,type:v.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:v.Class.UNIVERSAL,type:v.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},M1=function(e){var t;if(e.algorithm in q.oids)t=q.oids[e.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}var n=v.oidToDer(t).getBytes(),i=v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[]),s=v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[]);s.value.push(v.create(v.Class.UNIVERSAL,v.Type.OID,!1,n)),s.value.push(v.create(v.Class.UNIVERSAL,v.Type.NULL,!1,""));var o=v.create(v.Class.UNIVERSAL,v.Type.OCTETSTRING,!1,e.digest().getBytes());return i.value.push(s),i.value.push(o),v.toDer(i).getBytes()},Uf=function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);t.dP||(t.dP=t.d.mod(t.p.subtract(J.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(J.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));var n;do n=new J(M.util.bytesToHex(M.random.getBytes(t.n.bitLength()/8)),16);while(n.compareTo(t.n)>=0||!n.gcd(t.n).equals(J.ONE));e=e.multiply(n.modPow(t.e,t.n)).mod(t.n);for(var i=e.mod(t.p).modPow(t.dP,t.p),s=e.mod(t.q).modPow(t.dQ,t.q);i.compareTo(s)<0;)i=i.add(t.p);var o=i.subtract(s).multiply(t.qInv).mod(t.p).multiply(t.q).add(s);return o=o.multiply(n.modInverse(t.n)).mod(t.n),o};q.rsa.encrypt=function(e,t,r){var n=r,i,s=Math.ceil(t.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,i=Nf(e,t,r)):(i=M.util.createBuffer(),i.putBytes(e));for(var o=new J(i.toHex(),16),a=Uf(o,t,n),c=a.toString(16),f=M.util.createBuffer(),u=s-Math.ceil(c.length/2);u>0;)f.putByte(0),--u;return f.putBytes(M.util.hexToBytes(c)),f.getBytes()};q.rsa.decrypt=function(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8);if(e.length!==i){var s=new Error("Encrypted message length is invalid.");throw s.length=e.length,s.expected=i,s}var o=new J(M.util.createBuffer(e).toHex(),16);if(o.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var a=Uf(o,t,r),c=a.toString(16),f=M.util.createBuffer(),u=i-Math.ceil(c.length/2);u>0;)f.putByte(0),--u;return f.putBytes(M.util.hexToBytes(c)),n!==!1?fs(f.getBytes(),t,r):f.getBytes()};q.rsa.createKeyPairGenerationState=function(e,t,r){typeof e=="string"&&(e=parseInt(e,10)),e=e||2048,r=r||{};var n=r.prng||M.random,i={nextBytes:function(a){for(var c=n.getBytesSync(a.length),f=0;f<a.length;++f)a[f]=c.charCodeAt(f)}},s=r.algorithm||"PRIMEINC",o;if(s==="PRIMEINC")o={algorithm:s,state:0,bits:e,rng:i,eInt:t||65537,e:new J(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null},o.e.fromInt(o.eInt);else throw new Error("Invalid key generation algorithm: "+s);return o};q.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r=new J(null);r.fromInt(30);for(var n=0,i=function(h,l){return h|l},s=+new Date,o,a=0;e.keys===null&&(t<=0||a<t);){if(e.state===0){var c=e.p===null?e.pBits:e.qBits,f=c-1;e.pqState===0?(e.num=new J(c,e.rng),e.num.testBit(f)||e.num.bitwiseTo(J.ONE.shiftLeft(f),i,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),n=0,++e.pqState):e.pqState===1?e.num.bitLength()>c?e.pqState=0:e.num.isProbablePrime(O1(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(U1[n++%8],0):e.pqState===2?e.pqState=e.num.subtract(J.ONE).gcd(e.e).compareTo(J.ONE)===0?3:0:e.pqState===3&&(e.pqState=0,e.p===null?e.p=e.num:e.q=e.num,e.p!==null&&e.q!==null&&++e.state,e.num=null)}else if(e.state===1)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(e.state===2)e.p1=e.p.subtract(J.ONE),e.q1=e.q.subtract(J.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(e.state===3)e.phi.gcd(e.e).compareTo(J.ONE)===0?++e.state:(e.p=null,e.q=null,e.state=0);else if(e.state===4)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(e.state===5){var u=e.e.modInverse(e.phi);e.keys={privateKey:q.rsa.setPrivateKey(e.n,e.e,u,e.p,e.q,u.mod(e.p1),u.mod(e.q1),e.q.modInverse(e.p)),publicKey:q.rsa.setPublicKey(e.n,e.e)}}o=+new Date,a+=o-s,s=o}return e.keys!==null};q.rsa.generateKeyPair=function(e,t,r,n){if(arguments.length===1?typeof e=="object"?(r=e,e=void 0):typeof e=="function"&&(n=e,e=void 0):arguments.length===2?typeof e=="number"?typeof t=="function"?(n=t,t=void 0):typeof t!="number"&&(r=t,t=void 0):(r=e,n=t,e=void 0,t=void 0):arguments.length===3&&(typeof t=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=t,t=void 0)),r=r||{},e===void 0&&(e=r.bits||2048),t===void 0&&(t=r.e||65537),!M.options.usePureJavaScript&&!r.prng&&e>=256&&e<=16384&&(t===65537||t===3)){if(n){if(Tf("generateKeyPair"))return Fo.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(a,c,f){if(a)return n(a);n(null,{privateKey:q.privateKeyFromPem(f),publicKey:q.publicKeyFromPem(c)})});if(If("generateKey")&&If("exportKey"))return me.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:Rf(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(a){return me.globalScope.crypto.subtle.exportKey("pkcs8",a.privateKey)}).then(void 0,function(a){n(a)}).then(function(a){if(a){var c=q.privateKeyFromAsn1(v.fromDer(M.util.createBuffer(a)));n(null,{privateKey:c,publicKey:q.setRsaPublicKey(c.n,c.e)})}});if(Lf("generateKey")&&Lf("exportKey")){var i=me.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:Rf(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(a){var c=a.target.result,f=me.globalScope.msCrypto.subtle.exportKey("pkcs8",c.privateKey);f.oncomplete=function(u){var h=u.target.result,l=q.privateKeyFromAsn1(v.fromDer(M.util.createBuffer(h)));n(null,{privateKey:l,publicKey:q.setRsaPublicKey(l.n,l.e)})},f.onerror=function(u){n(u)}},i.onerror=function(a){n(a)};return}}else if(Tf("generateKeyPairSync")){var s=Fo.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:q.privateKeyFromPem(s.privateKey),publicKey:q.publicKeyFromPem(s.publicKey)}}}var o=q.rsa.createKeyPairGenerationState(e,t,r);if(!n)return q.rsa.stepKeyPairGenerationState(o,0),o.keys;F1(o,r,n)};q.setRsaPublicKey=q.rsa.setPublicKey=function(e,t){var r={n:e,e:t};return r.encrypt=function(n,i,s){if(typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSAES-PKCS1-V1_5"),i==="RSAES-PKCS1-V1_5")i={encode:function(a,c,f){return Nf(a,c,2).getBytes()}};else if(i==="RSA-OAEP"||i==="RSAES-OAEP")i={encode:function(a,c){return M.pkcs1.encode_rsa_oaep(c,a,s)}};else if(["RAW","NONE","NULL",null].indexOf(i)!==-1)i={encode:function(a){return a}};else if(typeof i=="string")throw new Error('Unsupported encryption scheme: "'+i+'".');var o=i.encode(n,r,!0);return q.rsa.encrypt(o,r,!0)},r.verify=function(n,i,s,o){typeof s=="string"?s=s.toUpperCase():s===void 0&&(s="RSASSA-PKCS1-V1_5"),o===void 0&&(o={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in o||(o._parseAllDigestBytes=!0),s==="RSASSA-PKCS1-V1_5"?s={verify:function(c,f){f=fs(f,r,!0);var u=v.fromDer(f,{parseAllBytes:o._parseAllDigestBytes}),h={},l=[];if(!v.validate(u,K1,h,l)){var d=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw d.errors=l,d}var p=v.derToOid(h.algorithmIdentifier);if(!(p===M.oids.md2||p===M.oids.md5||p===M.oids.sha1||p===M.oids.sha224||p===M.oids.sha256||p===M.oids.sha384||p===M.oids.sha512||p===M.oids["sha512-224"]||p===M.oids["sha512-256"])){var d=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw d.oid=p,d}if((p===M.oids.md2||p===M.oids.md5)&&!("parameters"in h))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return c===h.digest}}:(s==="NONE"||s==="NULL"||s===null)&&(s={verify:function(c,f){return f=fs(f,r,!0),c===f}});var a=q.rsa.decrypt(i,r,!0,!1);return s.verify(n,a,r.n.bitLength())},r};q.setRsaPrivateKey=q.rsa.setPrivateKey=function(e,t,r,n,i,s,o,a){var c={n:e,e:t,d:r,p:n,q:i,dP:s,dQ:o,qInv:a};return c.decrypt=function(f,u,h){typeof u=="string"?u=u.toUpperCase():u===void 0&&(u="RSAES-PKCS1-V1_5");var l=q.rsa.decrypt(f,c,!1,!1);if(u==="RSAES-PKCS1-V1_5")u={decode:fs};else if(u==="RSA-OAEP"||u==="RSAES-OAEP")u={decode:function(d,p){return M.pkcs1.decode_rsa_oaep(p,d,h)}};else if(["RAW","NONE","NULL",null].indexOf(u)!==-1)u={decode:function(d){return d}};else throw new Error('Unsupported encryption scheme: "'+u+'".');return u.decode(l,c,!1)},c.sign=function(f,u){var h=!1;typeof u=="string"&&(u=u.toUpperCase()),u===void 0||u==="RSASSA-PKCS1-V1_5"?(u={encode:M1},h=1):(u==="NONE"||u==="NULL"||u===null)&&(u={encode:function(){return f}},h=1);var l=u.encode(f,c.n.bitLength());return q.rsa.encrypt(l,c,h)},c};q.wrapRsaPrivateKey=function(e){return v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,v.integerToDer(0).getBytes()),v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.OID,!1,v.oidToDer(q.oids.rsaEncryption).getBytes()),v.create(v.Class.UNIVERSAL,v.Type.NULL,!1,"")]),v.create(v.Class.UNIVERSAL,v.Type.OCTETSTRING,!1,v.toDer(e).getBytes())])};q.privateKeyFromAsn1=function(e){var t={},r=[];if(v.validate(e,N1,t,r)&&(e=v.fromDer(M.util.createBuffer(t.privateKey))),t={},r=[],!v.validate(e,D1,t,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,s,o,a,c,f,u,h;return i=M.util.createBuffer(t.privateKeyModulus).toHex(),s=M.util.createBuffer(t.privateKeyPublicExponent).toHex(),o=M.util.createBuffer(t.privateKeyPrivateExponent).toHex(),a=M.util.createBuffer(t.privateKeyPrime1).toHex(),c=M.util.createBuffer(t.privateKeyPrime2).toHex(),f=M.util.createBuffer(t.privateKeyExponent1).toHex(),u=M.util.createBuffer(t.privateKeyExponent2).toHex(),h=M.util.createBuffer(t.privateKeyCoefficient).toHex(),q.setRsaPrivateKey(new J(i,16),new J(s,16),new J(o,16),new J(a,16),new J(c,16),new J(f,16),new J(u,16),new J(h,16))};q.privateKeyToAsn1=q.privateKeyToRSAPrivateKey=function(e){return v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,v.integerToDer(0).getBytes()),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Pe(e.n)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Pe(e.e)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Pe(e.d)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Pe(e.p)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Pe(e.q)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Pe(e.dP)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Pe(e.dQ)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Pe(e.qInv))])};q.publicKeyFromAsn1=function(e){var t={},r=[];if(v.validate(e,P1,t,r)){var n=v.derToOid(t.publicKeyOid);if(n!==q.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=n,i}e=t.rsaPublicKey}if(r=[],!v.validate(e,k1,t,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var s=M.util.createBuffer(t.publicKeyModulus).toHex(),o=M.util.createBuffer(t.publicKeyExponent).toHex();return q.setRsaPublicKey(new J(s,16),new J(o,16))};q.publicKeyToAsn1=q.publicKeyToSubjectPublicKeyInfo=function(e){return v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.OID,!1,v.oidToDer(q.oids.rsaEncryption).getBytes()),v.create(v.Class.UNIVERSAL,v.Type.NULL,!1,"")]),v.create(v.Class.UNIVERSAL,v.Type.BITSTRING,!1,[q.publicKeyToRSAPublicKey(e)])])};q.publicKeyToRSAPublicKey=function(e){return v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Pe(e.n)),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,Pe(e.e))])};function Nf(e,t,r){var n=M.util.createBuffer(),i=Math.ceil(t.n.bitLength()/8);if(e.length>i-11){var s=new Error("Message is too long for PKCS#1 v1.5 padding.");throw s.length=e.length,s.max=i-11,s}n.putByte(0),n.putByte(r);var o=i-3-e.length,a;if(r===0||r===1){a=r===0?0:255;for(var c=0;c<o;++c)n.putByte(a)}else for(;o>0;){for(var f=0,u=M.random.getBytes(o),c=0;c<o;++c)a=u.charCodeAt(c),a===0?++f:n.putByte(a);o=f}return n.putByte(0),n.putBytes(e),n}function fs(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8),s=M.util.createBuffer(e),o=s.getByte(),a=s.getByte();if(o!==0||r&&a!==0&&a!==1||!r&&a!=2||r&&a===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var c=0;if(a===0){c=i-3-n;for(var f=0;f<c;++f)if(s.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(a===1)for(c=0;s.length()>1;){if(s.getByte()!==255){--s.read;break}++c}else if(a===2)for(c=0;s.length()>1;){if(s.getByte()===0){--s.read;break}++c}var u=s.getByte();if(u!==0||c!==i-3-s.length())throw new Error("Encryption block is invalid.");return s.getBytes()}function F1(e,t,r){typeof t=="function"&&(r=t,t={}),t=t||{};var n={algorithm:{name:t.algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};"prng"in t&&(n.prng=t.prng),i();function i(){s(e.pBits,function(a,c){if(a)return r(a);if(e.p=c,e.q!==null)return o(a,e.q);s(e.qBits,o)})}function s(a,c){M.prime.generateProbablePrime(a,n,c)}function o(a,c){if(a)return r(a);if(e.q=c,e.p.compareTo(e.q)<0){var f=e.p;e.p=e.q,e.q=f}if(e.p.subtract(J.ONE).gcd(e.e).compareTo(J.ONE)!==0){e.p=null,i();return}if(e.q.subtract(J.ONE).gcd(e.e).compareTo(J.ONE)!==0){e.q=null,s(e.qBits,o);return}if(e.p1=e.p.subtract(J.ONE),e.q1=e.q.subtract(J.ONE),e.phi=e.p1.multiply(e.q1),e.phi.gcd(e.e).compareTo(J.ONE)!==0){e.p=e.q=null,i();return}if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits){e.q=null,s(e.qBits,o);return}var u=e.e.modInverse(e.phi);e.keys={privateKey:q.rsa.setPrivateKey(e.n,e.e,u,e.p,e.q,u.mod(e.p1),u.mod(e.q1),e.q.modInverse(e.p)),publicKey:q.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}}function Pe(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var r=M.util.hexToBytes(t);return r.length>1&&(r.charCodeAt(0)===0&&!(r.charCodeAt(1)&128)||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}function O1(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}function Tf(e){return M.util.isNodejs&&typeof Fo[e]=="function"}function If(e){return typeof me.globalScope<"u"&&typeof me.globalScope.crypto=="object"&&typeof me.globalScope.crypto.subtle=="object"&&typeof me.globalScope.crypto.subtle[e]=="function"}function Lf(e){return typeof me.globalScope<"u"&&typeof me.globalScope.msCrypto=="object"&&typeof me.globalScope.msCrypto.subtle=="object"&&typeof me.globalScope.msCrypto.subtle[e]=="function"}function Rf(e){for(var t=M.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),n=0;n<t.length;++n)r[n]=t.charCodeAt(n);return r}});var Of=K((Yb,Ff)=>{var N=gt();Lo();$n();qc();Lr();Xi();Yc();Qc();Yn();uf();us();Dt();typeof kf>"u"&&(kf=N.jsbn.BigInteger);var kf,S=N.asn1,W=N.pki=N.pki||{};Ff.exports=W.pbe=N.pbe=N.pbe||{};var Nr=W.oids,V1={name:"EncryptedPrivateKeyInfo",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:S.Class.UNIVERSAL,type:S.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:S.Class.UNIVERSAL,type:S.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},H1={name:"PBES2Algorithms",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:S.Class.UNIVERSAL,type:S.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:S.Class.UNIVERSAL,type:S.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:S.Class.UNIVERSAL,type:S.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:S.Class.UNIVERSAL,type:S.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:S.Class.UNIVERSAL,type:S.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:S.Class.UNIVERSAL,type:S.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:S.Class.UNIVERSAL,type:S.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},q1={name:"pkcs-12PbeParams",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:S.Class.UNIVERSAL,type:S.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:S.Class.UNIVERSAL,type:S.Type.INTEGER,constructed:!1,capture:"iterations"}]};W.encryptPrivateKeyInfo=function(e,t,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=N.random.getBytesSync(r.saltSize),i=r.count,s=S.integerToDer(i),o,a,c;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var f,u,h;switch(r.algorithm){case"aes128":o=16,f=16,u=Nr["aes128-CBC"],h=N.aes.createEncryptionCipher;break;case"aes192":o=24,f=16,u=Nr["aes192-CBC"],h=N.aes.createEncryptionCipher;break;case"aes256":o=32,f=16,u=Nr["aes256-CBC"],h=N.aes.createEncryptionCipher;break;case"des":o=8,f=8,u=Nr.desCBC,h=N.des.createEncryptionCipher;break;default:var l=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw l.algorithm=r.algorithm,l}var d="hmacWith"+r.prfAlgorithm.toUpperCase(),p=Mf(d),y=N.pkcs5.pbkdf2(t,n,i,o,p),g=N.random.getBytesSync(f),x=h(y);x.start(g),x.update(S.toDer(e)),x.finish(),c=x.output.getBytes();var w=z1(n,s,o,d);a=S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[S.create(S.Class.UNIVERSAL,S.Type.OID,!1,S.oidToDer(Nr.pkcs5PBES2).getBytes()),S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[S.create(S.Class.UNIVERSAL,S.Type.OID,!1,S.oidToDer(Nr.pkcs5PBKDF2).getBytes()),w]),S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[S.create(S.Class.UNIVERSAL,S.Type.OID,!1,S.oidToDer(u).getBytes()),S.create(S.Class.UNIVERSAL,S.Type.OCTETSTRING,!1,g)])])])}else if(r.algorithm==="3des"){o=24;var b=new N.util.ByteBuffer(n),y=W.pbe.generatePkcs12Key(t,b,1,i,o),g=W.pbe.generatePkcs12Key(t,b,2,i,o),x=N.des.createEncryptionCipher(y);x.start(g),x.update(S.toDer(e)),x.finish(),c=x.output.getBytes(),a=S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[S.create(S.Class.UNIVERSAL,S.Type.OID,!1,S.oidToDer(Nr["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[S.create(S.Class.UNIVERSAL,S.Type.OCTETSTRING,!1,n),S.create(S.Class.UNIVERSAL,S.Type.INTEGER,!1,s.getBytes())])])}else{var l=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw l.algorithm=r.algorithm,l}var B=S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[a,S.create(S.Class.UNIVERSAL,S.Type.OCTETSTRING,!1,c)]);return B};W.decryptPrivateKeyInfo=function(e,t){var r=null,n={},i=[];if(!S.validate(e,V1,n,i)){var s=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}var o=S.derToOid(n.encryptionOid),a=W.pbe.getCipher(o,n.encryptionParams,t),c=N.util.createBuffer(n.encryptedData);return a.update(c),a.finish()&&(r=S.fromDer(a.output)),r};W.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:S.toDer(e).getBytes()};return N.pem.encode(r,{maxline:t})};W.encryptedPrivateKeyFromPem=function(e){var t=N.pem.decode(e)[0];if(t.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return S.fromDer(t.body)};W.encryptRsaPrivateKey=function(e,t,r){if(r=r||{},!r.legacy){var n=W.wrapRsaPrivateKey(W.privateKeyToAsn1(e));return n=W.encryptPrivateKeyInfo(n,t,r),W.encryptedPrivateKeyToPem(n)}var i,s,o,a;switch(r.algorithm){case"aes128":i="AES-128-CBC",o=16,s=N.random.getBytesSync(16),a=N.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",o=24,s=N.random.getBytesSync(16),a=N.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",o=32,s=N.random.getBytesSync(16),a=N.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",o=24,s=N.random.getBytesSync(8),a=N.des.createEncryptionCipher;break;case"des":i="DES-CBC",o=8,s=N.random.getBytesSync(8),a=N.des.createEncryptionCipher;break;default:var c=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw c.algorithm=r.algorithm,c}var f=N.pbe.opensslDeriveBytes(t,s.substr(0,8),o),u=a(f);u.start(s),u.update(S.toDer(W.privateKeyToAsn1(e))),u.finish();var h={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:N.util.bytesToHex(s).toUpperCase()},body:u.output.getBytes()};return N.pem.encode(h)};W.decryptRsaPrivateKey=function(e,t){var r=null,n=N.pem.decode(e)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw i.headerType=i,i}if(n.procType&&n.procType.type==="ENCRYPTED"){var s,o;switch(n.dekInfo.algorithm){case"DES-CBC":s=8,o=N.des.createDecryptionCipher;break;case"DES-EDE3-CBC":s=24,o=N.des.createDecryptionCipher;break;case"AES-128-CBC":s=16,o=N.aes.createDecryptionCipher;break;case"AES-192-CBC":s=24,o=N.aes.createDecryptionCipher;break;case"AES-256-CBC":s=32,o=N.aes.createDecryptionCipher;break;case"RC2-40-CBC":s=5,o=function(h){return N.rc2.createDecryptionCipher(h,40)};break;case"RC2-64-CBC":s=8,o=function(h){return N.rc2.createDecryptionCipher(h,64)};break;case"RC2-128-CBC":s=16,o=function(h){return N.rc2.createDecryptionCipher(h,128)};break;default:var i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw i.algorithm=n.dekInfo.algorithm,i}var a=N.util.hexToBytes(n.dekInfo.parameters),c=N.pbe.opensslDeriveBytes(t,a.substr(0,8),s),f=o(c);if(f.start(a),f.update(N.util.createBuffer(n.body)),f.finish())r=f.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=W.decryptPrivateKeyInfo(S.fromDer(r),t):r=S.fromDer(r),r!==null&&(r=W.privateKeyFromAsn1(r)),r};W.pbe.generatePkcs12Key=function(e,t,r,n,i,s){var o,a;if(typeof s>"u"||s===null){if(!("sha1"in N.md))throw new Error('"sha1" hash algorithm unavailable.');s=N.md.sha1.create()}var c=s.digestLength,f=s.blockLength,u=new N.util.ByteBuffer,h=new N.util.ByteBuffer;if(e!=null){for(a=0;a<e.length;a++)h.putInt16(e.charCodeAt(a));h.putInt16(0)}var l=h.length(),d=t.length(),p=new N.util.ByteBuffer;p.fillWithByte(r,f);var y=f*Math.ceil(d/f),g=new N.util.ByteBuffer;for(a=0;a<y;a++)g.putByte(t.at(a%d));var x=f*Math.ceil(l/f),w=new N.util.ByteBuffer;for(a=0;a<x;a++)w.putByte(h.at(a%l));var b=g;b.putBuffer(w);for(var B=Math.ceil(i/c),E=1;E<=B;E++){var A=new N.util.ByteBuffer;A.putBytes(p.bytes()),A.putBytes(b.bytes());for(var L=0;L<n;L++)s.start(),s.update(A.getBytes()),A=s.digest();var R=new N.util.ByteBuffer;for(a=0;a<f;a++)R.putByte(A.at(a%c));var k=Math.ceil(d/f)+Math.ceil(l/f),O=new N.util.ByteBuffer;for(o=0;o<k;o++){var G=new N.util.ByteBuffer(b.getBytes(f)),z=511;for(a=R.length()-1;a>=0;a--)z=z>>8,z+=R.at(a)+G.at(a),G.setAt(a,z&255);O.putBuffer(G)}b=O,u.putBuffer(A)}return u.truncate(u.length()-i),u};W.pbe.getCipher=function(e,t,r){switch(e){case W.oids.pkcs5PBES2:return W.pbe.getCipherForPBES2(e,t,r);case W.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case W.oids["pbewithSHAAnd40BitRC2-CBC"]:return W.pbe.getCipherForPKCS12PBE(e,t,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=e,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};W.pbe.getCipherForPBES2=function(e,t,r){var n={},i=[];if(!S.validate(t,H1,n,i)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}if(e=S.derToOid(n.kdfOid),e!==W.oids.pkcs5PBKDF2){var s=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw s.oid=e,s.supportedOids=["pkcs5PBKDF2"],s}if(e=S.derToOid(n.encOid),e!==W.oids["aes128-CBC"]&&e!==W.oids["aes192-CBC"]&&e!==W.oids["aes256-CBC"]&&e!==W.oids["des-EDE3-CBC"]&&e!==W.oids.desCBC){var s=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw s.oid=e,s.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],s}var o=n.kdfSalt,a=N.util.createBuffer(n.kdfIterationCount);a=a.getInt(a.length()<<3);var c,f;switch(W.oids[e]){case"aes128-CBC":c=16,f=N.aes.createDecryptionCipher;break;case"aes192-CBC":c=24,f=N.aes.createDecryptionCipher;break;case"aes256-CBC":c=32,f=N.aes.createDecryptionCipher;break;case"des-EDE3-CBC":c=24,f=N.des.createDecryptionCipher;break;case"desCBC":c=8,f=N.des.createDecryptionCipher;break}var u=Kf(n.prfOid),h=N.pkcs5.pbkdf2(r,o,a,c,u),l=n.encIv,d=f(h);return d.start(l),d};W.pbe.getCipherForPKCS12PBE=function(e,t,r){var n={},i=[];if(!S.validate(t,q1,n,i)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=i,s}var o=N.util.createBuffer(n.salt),a=N.util.createBuffer(n.iterations);a=a.getInt(a.length()<<3);var c,f,u;switch(e){case W.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:c=24,f=8,u=N.des.startDecrypting;break;case W.oids["pbewithSHAAnd40BitRC2-CBC"]:c=5,f=8,u=function(y,g){var x=N.rc2.createDecryptionCipher(y,40);return x.start(g,null),x};break;default:var s=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw s.oid=e,s}var h=Kf(n.prfOid),l=W.pbe.generatePkcs12Key(r,o,1,a,c,h);h.start();var d=W.pbe.generatePkcs12Key(r,o,2,a,f,h);return u(l,d)};W.pbe.opensslDeriveBytes=function(e,t,r,n){if(typeof n>"u"||n===null){if(!("md5"in N.md))throw new Error('"md5" hash algorithm unavailable.');n=N.md.md5.create()}t===null&&(t="");for(var i=[Pf(n,e+t)],s=16,o=1;s<r;++o,s+=16)i.push(Pf(n,i[o-1]+e+t));return i.join("").substr(0,r)};function Pf(e,t){return e.start().update(t).digest().getBytes()}function Kf(e){var t;if(!e)t="hmacWithSHA1";else if(t=W.oids[S.derToOid(e)],!t){var r=new Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return Mf(t)}function Mf(e){var t=N.md;switch(e){case"hmacWithSHA224":t=N.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}function z1(e,t,r,n){var i=S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[S.create(S.Class.UNIVERSAL,S.Type.OCTETSTRING,!1,e),S.create(S.Class.UNIVERSAL,S.Type.INTEGER,!1,t.getBytes())]);return n!=="hmacWithSHA1"&&i.value.push(S.create(S.Class.UNIVERSAL,S.Type.INTEGER,!1,N.util.hexToBytes(r.toString(16))),S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[S.create(S.Class.UNIVERSAL,S.Type.OID,!1,S.oidToDer(W.oids[n]).getBytes()),S.create(S.Class.UNIVERSAL,S.Type.NULL,!1,"")])),i}});var Mu=K((e8,Ku)=>{"use strict";Ku.exports=$2;function $2(e,t){for(var r=new Array(arguments.length-1),n=0,i=2,s=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise(function(a,c){r[n]=function(u){if(s)if(s=!1,u)c(u);else{for(var h=new Array(arguments.length-1),l=0;l<h.length;)h[l++]=arguments[l];a.apply(null,h)}};try{e.apply(t||null,r)}catch(f){s&&(s=!1,c(f))}})}});var Hu=K(Vu=>{"use strict";var vs=Vu;vs.length=function(t){var r=t.length;if(!r)return 0;for(var n=0;--r%4>1&&t.charAt(r)==="=";)++n;return Math.ceil(t.length*3)/4-n};var wn=new Array(64),Ou=new Array(123);for(Be=0;Be<64;)Ou[wn[Be]=Be<26?Be+65:Be<52?Be+71:Be<62?Be-4:Be-59|43]=Be++;var Be;vs.encode=function(t,r,n){for(var i=null,s=[],o=0,a=0,c;r<n;){var f=t[r++];switch(a){case 0:s[o++]=wn[f>>2],c=(f&3)<<4,a=1;break;case 1:s[o++]=wn[c|f>>4],c=(f&15)<<2,a=2;break;case 2:s[o++]=wn[c|f>>6],s[o++]=wn[f&63],a=0;break}o>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),o=0)}return a&&(s[o++]=wn[c],s[o++]=61,a===1&&(s[o++]=61)),i?(o&&i.push(String.fromCharCode.apply(String,s.slice(0,o))),i.join("")):String.fromCharCode.apply(String,s.slice(0,o))};var Fu="invalid encoding";vs.decode=function(t,r,n){for(var i=n,s=0,o,a=0;a<t.length;){var c=t.charCodeAt(a++);if(c===61&&s>1)break;if((c=Ou[c])===void 0)throw Error(Fu);switch(s){case 0:o=c,s=1;break;case 1:r[n++]=o<<2|(c&48)>>4,o=c,s=2;break;case 2:r[n++]=(o&15)<<4|(c&60)>>2,o=c,s=3;break;case 3:r[n++]=(o&3)<<6|c,s=0;break}}if(s===1)throw Error(Fu);return n-i};vs.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}});var zu=K((n8,qu)=>{"use strict";qu.exports=bs;function bs(){this._listeners={}}bs.prototype.on=function(t,r,n){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:r,ctx:n||this}),this};bs.prototype.off=function(t,r){if(t===void 0)this._listeners={};else if(r===void 0)this._listeners[t]=[];else for(var n=this._listeners[t],i=0;i<n.length;)n[i].fn===r?n.splice(i,1):++i;return this};bs.prototype.emit=function(t){var r=this._listeners[t];if(r){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<r.length;)r[i].fn.apply(r[i++].ctx,n)}return this}});var Qu=K((i8,Zu)=>{"use strict";Zu.exports=Gu(Gu);function Gu(e){return typeof Float32Array<"u"?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=r[3]===128;function i(c,f,u){t[0]=c,f[u]=r[0],f[u+1]=r[1],f[u+2]=r[2],f[u+3]=r[3]}function s(c,f,u){t[0]=c,f[u]=r[3],f[u+1]=r[2],f[u+2]=r[1],f[u+3]=r[0]}e.writeFloatLE=n?i:s,e.writeFloatBE=n?s:i;function o(c,f){return r[0]=c[f],r[1]=c[f+1],r[2]=c[f+2],r[3]=c[f+3],t[0]}function a(c,f){return r[3]=c[f],r[2]=c[f+1],r[1]=c[f+2],r[0]=c[f+3],t[0]}e.readFloatLE=n?o:a,e.readFloatBE=n?a:o}():function(){function t(n,i,s,o){var a=i<0?1:0;if(a&&(i=-i),i===0)n(1/i>0?0:2147483648,s,o);else if(isNaN(i))n(2143289344,s,o);else if(i>34028234663852886e22)n((a<<31|2139095040)>>>0,s,o);else if(i<11754943508222875e-54)n((a<<31|Math.round(i/1401298464324817e-60))>>>0,s,o);else{var c=Math.floor(Math.log(i)/Math.LN2),f=Math.round(i*Math.pow(2,-c)*8388608)&8388607;n((a<<31|c+127<<23|f)>>>0,s,o)}}e.writeFloatLE=t.bind(null,Wu),e.writeFloatBE=t.bind(null,$u);function r(n,i,s){var o=n(i,s),a=(o>>31)*2+1,c=o>>>23&255,f=o&8388607;return c===255?f?NaN:a*(1/0):c===0?a*1401298464324817e-60*f:a*Math.pow(2,c-150)*(f+8388608)}e.readFloatLE=r.bind(null,Yu),e.readFloatBE=r.bind(null,Xu)}(),typeof Float64Array<"u"?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=r[7]===128;function i(c,f,u){t[0]=c,f[u]=r[0],f[u+1]=r[1],f[u+2]=r[2],f[u+3]=r[3],f[u+4]=r[4],f[u+5]=r[5],f[u+6]=r[6],f[u+7]=r[7]}function s(c,f,u){t[0]=c,f[u]=r[7],f[u+1]=r[6],f[u+2]=r[5],f[u+3]=r[4],f[u+4]=r[3],f[u+5]=r[2],f[u+6]=r[1],f[u+7]=r[0]}e.writeDoubleLE=n?i:s,e.writeDoubleBE=n?s:i;function o(c,f){return r[0]=c[f],r[1]=c[f+1],r[2]=c[f+2],r[3]=c[f+3],r[4]=c[f+4],r[5]=c[f+5],r[6]=c[f+6],r[7]=c[f+7],t[0]}function a(c,f){return r[7]=c[f],r[6]=c[f+1],r[5]=c[f+2],r[4]=c[f+3],r[3]=c[f+4],r[2]=c[f+5],r[1]=c[f+6],r[0]=c[f+7],t[0]}e.readDoubleLE=n?o:a,e.readDoubleBE=n?a:o}():function(){function t(n,i,s,o,a,c){var f=o<0?1:0;if(f&&(o=-o),o===0)n(0,a,c+i),n(1/o>0?0:2147483648,a,c+s);else if(isNaN(o))n(0,a,c+i),n(2146959360,a,c+s);else if(o>17976931348623157e292)n(0,a,c+i),n((f<<31|2146435072)>>>0,a,c+s);else{var u;if(o<22250738585072014e-324)u=o/5e-324,n(u>>>0,a,c+i),n((f<<31|u/4294967296)>>>0,a,c+s);else{var h=Math.floor(Math.log(o)/Math.LN2);h===1024&&(h=1023),u=o*Math.pow(2,-h),n(u*4503599627370496>>>0,a,c+i),n((f<<31|h+1023<<20|u*1048576&1048575)>>>0,a,c+s)}}}e.writeDoubleLE=t.bind(null,Wu,0,4),e.writeDoubleBE=t.bind(null,$u,4,0);function r(n,i,s,o,a){var c=n(o,a+i),f=n(o,a+s),u=(f>>31)*2+1,h=f>>>20&2047,l=4294967296*(f&1048575)+c;return h===2047?l?NaN:u*(1/0):h===0?u*5e-324*l:u*Math.pow(2,h-1075)*(l+4503599627370496)}e.readDoubleLE=r.bind(null,Yu,0,4),e.readDoubleBE=r.bind(null,Xu,4,0)}(),e}function Wu(e,t,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function $u(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=e&255}function Yu(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function Xu(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}});var ju=K((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}});var th=K(Ju=>{"use strict";var Ia=Ju;Ia.length=function(t){for(var r=0,n=0,i=0;i<t.length;++i)n=t.charCodeAt(i),n<128?r+=1:n<2048?r+=2:(n&64512)===55296&&(t.charCodeAt(i+1)&64512)===56320?(++i,r+=4):r+=3;return r};Ia.read=function(t,r,n){var i=n-r;if(i<1)return"";for(var s=null,o=[],a=0,c;r<n;)c=t[r++],c<128?o[a++]=c:c>191&&c<224?o[a++]=(c&31)<<6|t[r++]&63:c>239&&c<365?(c=((c&7)<<18|(t[r++]&63)<<12|(t[r++]&63)<<6|t[r++]&63)-65536,o[a++]=55296+(c>>10),o[a++]=56320+(c&1023)):o[a++]=(c&15)<<12|(t[r++]&63)<<6|t[r++]&63,a>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),a=0);return s?(a&&s.push(String.fromCharCode.apply(String,o.slice(0,a))),s.join("")):String.fromCharCode.apply(String,o.slice(0,a))};Ia.write=function(t,r,n){for(var i=n,s,o,a=0;a<t.length;++a)s=t.charCodeAt(a),s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):(s&64512)===55296&&((o=t.charCodeAt(a+1))&64512)===56320?(s=65536+((s&1023)<<10)+(o&1023),++a,r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128);return n-i}});var rh=K((o8,eh)=>{"use strict";eh.exports=Y2;function Y2(e,t,r){var n=r||8192,i=n>>>1,s=null,o=n;return function(c){if(c<1||c>i)return e(c);o+c>n&&(s=e(n),o=0);var f=t.call(s,o,o+=c);return o&7&&(o=(o|7)+1),f}}});var ih=K((a8,nh)=>{"use strict";nh.exports=Ht;var ai=Kr();function Ht(e,t){this.lo=e>>>0,this.hi=t>>>0}var Pr=Ht.zero=new Ht(0,0);Pr.toNumber=function(){return 0};Pr.zzEncode=Pr.zzDecode=function(){return this};Pr.length=function(){return 1};var X2=Ht.zeroHash="\0\0\0\0\0\0\0\0";Ht.fromNumber=function(t){if(t===0)return Pr;var r=t<0;r&&(t=-t);var n=t>>>0,i=(t-n)/4294967296>>>0;return r&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new Ht(n,i)};Ht.from=function(t){if(typeof t=="number")return Ht.fromNumber(t);if(ai.isString(t))if(ai.Long)t=ai.Long.fromString(t);else return Ht.fromNumber(parseInt(t,10));return t.low||t.high?new Ht(t.low>>>0,t.high>>>0):Pr};Ht.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var r=~this.lo+1>>>0,n=~this.hi>>>0;return r||(n=n+1>>>0),-(r+n*4294967296)}return this.lo+this.hi*4294967296};Ht.prototype.toLong=function(t){return ai.Long?new ai.Long(this.lo|0,this.hi|0,!!t):{low:this.lo|0,high:this.hi|0,unsigned:!!t}};var br=String.prototype.charCodeAt;Ht.fromHash=function(t){return t===X2?Pr:new Ht((br.call(t,0)|br.call(t,1)<<8|br.call(t,2)<<16|br.call(t,3)<<24)>>>0,(br.call(t,4)|br.call(t,5)<<8|br.call(t,6)<<16|br.call(t,7)<<24)>>>0)};Ht.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};Ht.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this};Ht.prototype.zzDecode=function(){var t=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this};Ht.prototype.length=function(){var t=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?r===0?t<16384?t<128?1:2:t<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:n<128?9:10}});var Kr=K(La=>{"use strict";var P=La;P.asPromise=Mu();P.base64=Hu();P.EventEmitter=zu();P.float=Qu();P.inquire=ju();P.utf8=th();P.pool=rh();P.LongBits=ih();P.isNode=!!(typeof globalThis<"u"&&globalThis&&globalThis.process&&globalThis.process.versions&&globalThis.process.versions.node);P.global=P.isNode&&globalThis||typeof window<"u"&&window||typeof self<"u"&&self||La;P.emptyArray=Object.freeze?Object.freeze([]):[];P.emptyObject=Object.freeze?Object.freeze({}):{};P.isInteger=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t};P.isString=function(t){return typeof t=="string"||t instanceof String};P.isObject=function(t){return t&&typeof t=="object"};P.isset=P.isSet=function(t,r){var n=t[r];return n!=null&&t.hasOwnProperty(r)?typeof n!="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0:!1};P.Buffer=function(){try{var e=P.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch{return null}}();P._Buffer_from=null;P._Buffer_allocUnsafe=null;P.newBuffer=function(t){return typeof t=="number"?P.Buffer?P._Buffer_allocUnsafe(t):new P.Array(t):P.Buffer?P._Buffer_from(t):typeof Uint8Array>"u"?t:new Uint8Array(t)};P.Array=typeof Uint8Array<"u"?Uint8Array:Array;P.Long=P.global.dcodeIO&&P.global.dcodeIO.Long||P.global.Long||P.inquire("long");P.key2Re=/^true|false|0|1$/;P.key32Re=/^-?(?:0|[1-9][0-9]*)$/;P.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;P.longToHash=function(t){return t?P.LongBits.from(t).toHash():P.LongBits.zeroHash};P.longFromHash=function(t,r){var n=P.LongBits.fromHash(t);return P.Long?P.Long.fromBits(n.lo,n.hi,r):n.toNumber(!!r)};function sh(e,t,r){for(var n=Object.keys(t),i=0;i<n.length;++i)(e[n[i]]===void 0||!r)&&(e[n[i]]=t[n[i]]);return e}P.merge=sh;P.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)};function oh(e){function t(r,n){if(!(this instanceof t))return new t(r,n);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&sh(this,n)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}P.newError=oh;P.ProtocolError=oh("ProtocolError");P.oneOfGetter=function(t){for(var r={},n=0;n<t.length;++n)r[t[n]]=1;return function(){for(var i=Object.keys(this),s=i.length-1;s>-1;--s)if(r[i[s]]===1&&this[i[s]]!==void 0&&this[i[s]]!==null)return i[s]}};P.oneOfSetter=function(t){return function(r){for(var n=0;n<t.length;++n)t[n]!==r&&delete this[t[n]]}};P.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};P._configure=function(){var e=P.Buffer;if(!e){P._Buffer_from=P._Buffer_allocUnsafe=null;return}P._Buffer_from=e.from!==Uint8Array.from&&e.from||function(r,n){return new e(r,n)},P._Buffer_allocUnsafe=e.allocUnsafe||function(r){return new e(r)}}});var Na=K((f8,hh)=>{"use strict";hh.exports=Nt;var Oe=Kr(),Ua,fh=Oe.LongBits,Z2=Oe.utf8;function Ce(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function Nt(e){this.buf=e,this.pos=0,this.len=e.length}var ah=typeof Uint8Array<"u"?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new Nt(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new Nt(t);throw Error("illegal buffer")},uh=function(){return Oe.Buffer?function(r){return(Nt.create=function(i){return Oe.Buffer.isBuffer(i)?new Ua(i):ah(i)})(r)}:ah};Nt.create=uh();Nt.prototype._slice=Oe.Array.prototype.subarray||Oe.Array.prototype.slice;Nt.prototype.uint32=function(){var t=4294967295;return function(){if(t=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(t=(t|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return t;if((this.pos+=5)>this.len)throw this.pos=this.len,Ce(this,10);return t}}();Nt.prototype.int32=function(){return this.uint32()|0};Nt.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(t&1)|0};function Ra(){var e=new fh(0,0),t=0;if(this.len-this.pos>4){for(;t<4;++t)if(e.lo=(e.lo|(this.buf[this.pos]&127)<<t*7)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(this.buf[this.pos]&127)<<28)>>>0,e.hi=(e.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return e;t=0}else{for(;t<3;++t){if(this.pos>=this.len)throw Ce(this);if(e.lo=(e.lo|(this.buf[this.pos]&127)<<t*7)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(this.buf[this.pos++]&127)<<t*7)>>>0,e}if(this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw Ce(this);if(e.hi=(e.hi|(this.buf[this.pos]&127)<<t*7+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}Nt.prototype.bool=function(){return this.uint32()!==0};function ws(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}Nt.prototype.fixed32=function(){if(this.pos+4>this.len)throw Ce(this,4);return ws(this.buf,this.pos+=4)};Nt.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Ce(this,4);return ws(this.buf,this.pos+=4)|0};function ch(){if(this.pos+8>this.len)throw Ce(this,8);return new fh(ws(this.buf,this.pos+=4),ws(this.buf,this.pos+=4))}Nt.prototype.float=function(){if(this.pos+4>this.len)throw Ce(this,4);var t=Oe.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t};Nt.prototype.double=function(){if(this.pos+8>this.len)throw Ce(this,4);var t=Oe.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t};Nt.prototype.bytes=function(){var t=this.uint32(),r=this.pos,n=this.pos+t;if(n>this.len)throw Ce(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(r,n):r===n?new this.buf.constructor(0):this._slice.call(this.buf,r,n)};Nt.prototype.string=function(){var t=this.bytes();return Z2.read(t,0,t.length)};Nt.prototype.skip=function(t){if(typeof t=="number"){if(this.pos+t>this.len)throw Ce(this,t);this.pos+=t}else do if(this.pos>=this.len)throw Ce(this);while(this.buf[this.pos++]&128);return this};Nt.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(e=this.uint32()&7)!==4;)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this};Nt._configure=function(e){Ua=e,Nt.create=uh(),Ua._configure();var t=Oe.Long?"toLong":"toNumber";Oe.merge(Nt.prototype,{int64:function(){return Ra.call(this)[t](!1)},uint64:function(){return Ra.call(this)[t](!0)},sint64:function(){return Ra.call(this).zzDecode()[t](!1)},fixed64:function(){return ch.call(this)[t](!0)},sfixed64:function(){return ch.call(this)[t](!1)}})}});var yh=K((u8,dh)=>{"use strict";dh.exports=Mr;var ph=Na();(Mr.prototype=Object.create(ph.prototype)).constructor=Mr;var lh=Kr();function Mr(e){ph.call(this,e)}Mr._configure=function(){lh.Buffer&&(Mr.prototype._slice=lh.Buffer.prototype.slice)};Mr.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+t,this.len))};Mr._configure()});var Oa=K((h8,vh)=>{"use strict";vh.exports=it;var ve=Kr(),Da,Es=ve.LongBits,gh=ve.base64,xh=ve.utf8;function ci(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function Pa(){}function Q2(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function it(){this.len=0,this.head=new ci(Pa,0,0),this.tail=this.head,this.states=null}var mh=function(){return ve.Buffer?function(){return(it.create=function(){return new Da})()}:function(){return new it}};it.create=mh();it.alloc=function(t){return new ve.Array(t)};ve.Array!==Array&&(it.alloc=ve.pool(it.alloc,ve.Array.prototype.subarray));it.prototype._push=function(t,r,n){return this.tail=this.tail.next=new ci(t,r,n),this.len+=r,this};function Ka(e,t,r){t[r]=e&255}function j2(e,t,r){for(;e>127;)t[r++]=e&127|128,e>>>=7;t[r]=e}function Ma(e,t){this.len=e,this.next=void 0,this.val=t}Ma.prototype=Object.create(ci.prototype);Ma.prototype.fn=j2;it.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new Ma((t=t>>>0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this};it.prototype.int32=function(t){return t<0?this._push(Fa,10,Es.fromNumber(t)):this.uint32(t)};it.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)};function Fa(e,t,r){for(;e.hi;)t[r++]=e.lo&127|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=e.lo&127|128,e.lo=e.lo>>>7;t[r++]=e.lo}it.prototype.uint64=function(t){var r=Es.from(t);return this._push(Fa,r.length(),r)};it.prototype.int64=it.prototype.uint64;it.prototype.sint64=function(t){var r=Es.from(t).zzEncode();return this._push(Fa,r.length(),r)};it.prototype.bool=function(t){return this._push(Ka,1,t?1:0)};function ka(e,t,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}it.prototype.fixed32=function(t){return this._push(ka,4,t>>>0)};it.prototype.sfixed32=it.prototype.fixed32;it.prototype.fixed64=function(t){var r=Es.from(t);return this._push(ka,4,r.lo)._push(ka,4,r.hi)};it.prototype.sfixed64=it.prototype.fixed64;it.prototype.float=function(t){return this._push(ve.float.writeFloatLE,4,t)};it.prototype.double=function(t){return this._push(ve.float.writeDoubleLE,8,t)};var J2=ve.Array.prototype.set?function(t,r,n){r.set(t,n)}:function(t,r,n){for(var i=0;i<t.length;++i)r[n+i]=t[i]};it.prototype.bytes=function(t){var r=t.length>>>0;if(!r)return this._push(Ka,1,0);if(ve.isString(t)){var n=it.alloc(r=gh.length(t));gh.decode(t,n,0),t=n}return this.uint32(r)._push(J2,r,t)};it.prototype.string=function(t){var r=xh.length(t);return r?this.uint32(r)._push(xh.write,r,t):this._push(Ka,1,0)};it.prototype.fork=function(){return this.states=new Q2(this),this.head=this.tail=new ci(Pa,0,0),this.len=0,this};it.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new ci(Pa,0,0),this.len=0),this};it.prototype.ldelim=function(){var t=this.head,r=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=t.next,this.tail=r,this.len+=n),this};it.prototype.finish=function(){for(var t=this.head.next,r=this.constructor.alloc(this.len),n=0;t;)t.fn(t.val,r,n),n+=t.len,t=t.next;return r};it._configure=function(e){Da=e,it.create=mh(),Da._configure()}});var Eh=K((l8,wh)=>{"use strict";wh.exports=Ve;var bh=Oa();(Ve.prototype=Object.create(bh.prototype)).constructor=Ve;var wr=Kr();function Ve(){bh.call(this)}Ve._configure=function(){Ve.alloc=wr._Buffer_allocUnsafe,Ve.writeBytesBuffer=wr.Buffer&&wr.Buffer.prototype instanceof Uint8Array&&wr.Buffer.prototype.set.name==="set"?function(t,r,n){r.set(t,n)}:function(t,r,n){if(t.copy)t.copy(r,n,0,t.length);else for(var i=0;i<t.length;)r[n++]=t[i++]}};Ve.prototype.bytes=function(t){wr.isString(t)&&(t=wr._Buffer_from(t,"base64"));var r=t.length>>>0;return this.uint32(r),r&&this._push(Ve.writeBytesBuffer,r,t),this};function tx(e,t,r){e.length<40?wr.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}Ve.prototype.string=function(t){var r=wr.Buffer.byteLength(t);return this.uint32(r),r&&this._push(tx,r,t),this};Ve._configure()});var Dh=K((l3,Nh)=>{var Et=gt();Lr();Dt();var ui=Nh.exports=Et.sha512=Et.sha512||{};Et.md.sha512=Et.md.algorithms.sha512=ui;var Rh=Et.sha384=Et.sha512.sha384=Et.sha512.sha384||{};Rh.create=function(){return ui.create("SHA-384")};Et.md.sha384=Et.md.algorithms.sha384=Rh;Et.sha512.sha256=Et.sha512.sha256||{create:function(){return ui.create("SHA-512/256")}};Et.md["sha512/256"]=Et.md.algorithms["sha512/256"]=Et.sha512.sha256;Et.sha512.sha224=Et.sha512.sha224||{create:function(){return ui.create("SHA-512/224")}};Et.md["sha512/224"]=Et.md.algorithms["sha512/224"]=Et.sha512.sha224;ui.create=function(e){if(Uh||ux(),typeof e>"u"&&(e="SHA-512"),!(e in qr))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=qr[e],r=null,n=Et.util.createBuffer(),i=new Array(80),s=0;s<80;++s)i[s]=new Array(2);var o=64;switch(e){case"SHA-384":o=48;break;case"SHA-512/256":o=32;break;case"SHA-512/224":o=28;break}var a={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:o,messageLength:0,fullMessageLength:null,messageLengthSize:16};return a.start=function(){a.messageLength=0,a.fullMessageLength=a.messageLength128=[];for(var c=a.messageLengthSize/4,f=0;f<c;++f)a.fullMessageLength.push(0);n=Et.util.createBuffer(),r=new Array(t.length);for(var f=0;f<t.length;++f)r[f]=t[f].slice(0);return a},a.start(),a.update=function(c,f){f==="utf8"&&(c=Et.util.encodeUtf8(c));var u=c.length;a.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var h=a.fullMessageLength.length-1;h>=0;--h)a.fullMessageLength[h]+=u[1],u[1]=u[0]+(a.fullMessageLength[h]/4294967296>>>0),a.fullMessageLength[h]=a.fullMessageLength[h]>>>0,u[0]=u[1]/4294967296>>>0;return n.putBytes(c),Lh(r,i,n),(n.read>2048||n.length()===0)&&n.compact(),a},a.digest=function(){var c=Et.util.createBuffer();c.putBytes(n.bytes());var f=a.fullMessageLength[a.fullMessageLength.length-1]+a.messageLengthSize,u=f&a.blockLength-1;c.putBytes(Ya.substr(0,a.blockLength-u));for(var h,l,d=a.fullMessageLength[0]*8,p=0;p<a.fullMessageLength.length-1;++p)h=a.fullMessageLength[p+1]*8,l=h/4294967296>>>0,d+=l,c.putInt32(d>>>0),d=h>>>0;c.putInt32(d);for(var y=new Array(r.length),p=0;p<r.length;++p)y[p]=r[p].slice(0);Lh(y,i,c);var g=Et.util.createBuffer(),x;e==="SHA-512"?x=y.length:e==="SHA-384"?x=y.length-2:x=y.length-4;for(var p=0;p<x;++p)g.putInt32(y[p][0]),(p!==x-1||e!=="SHA-512/224")&&g.putInt32(y[p][1]);return g},a};var Ya=null,Uh=!1,Xa=null,qr=null;function ux(){Ya=String.fromCharCode(128),Ya+=Et.util.fillString(String.fromCharCode(0),128),Xa=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],qr={},qr["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],qr["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],qr["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],qr["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],Uh=!0}function Lh(e,t,r){for(var n,i,s,o,a,c,f,u,h,l,d,p,y,g,x,w,b,B,E,A,L,R,k,O,G,z,rt,pt,F,H,C,V,xt,X,Z,Q=r.length();Q>=128;){for(F=0;F<16;++F)t[F][0]=r.getInt32()>>>0,t[F][1]=r.getInt32()>>>0;for(;F<80;++F)V=t[F-2],H=V[0],C=V[1],n=((H>>>19|C<<13)^(C>>>29|H<<3)^H>>>6)>>>0,i=((H<<13|C>>>19)^(C<<3|H>>>29)^(H<<26|C>>>6))>>>0,X=t[F-15],H=X[0],C=X[1],s=((H>>>1|C<<31)^(H>>>8|C<<24)^H>>>7)>>>0,o=((H<<31|C>>>1)^(H<<24|C>>>8)^(H<<25|C>>>7))>>>0,xt=t[F-7],Z=t[F-16],C=i+xt[1]+o+Z[1],t[F][0]=n+xt[0]+s+Z[0]+(C/4294967296>>>0)>>>0,t[F][1]=C>>>0;for(y=e[0][0],g=e[0][1],x=e[1][0],w=e[1][1],b=e[2][0],B=e[2][1],E=e[3][0],A=e[3][1],L=e[4][0],R=e[4][1],k=e[5][0],O=e[5][1],G=e[6][0],z=e[6][1],rt=e[7][0],pt=e[7][1],F=0;F<80;++F)f=((L>>>14|R<<18)^(L>>>18|R<<14)^(R>>>9|L<<23))>>>0,u=((L<<18|R>>>14)^(L<<14|R>>>18)^(R<<23|L>>>9))>>>0,h=(G^L&(k^G))>>>0,l=(z^R&(O^z))>>>0,a=((y>>>28|g<<4)^(g>>>2|y<<30)^(g>>>7|y<<25))>>>0,c=((y<<4|g>>>28)^(g<<30|y>>>2)^(g<<25|y>>>7))>>>0,d=(y&x|b&(y^x))>>>0,p=(g&w|B&(g^w))>>>0,C=pt+u+l+Xa[F][1]+t[F][1],n=rt+f+h+Xa[F][0]+t[F][0]+(C/4294967296>>>0)>>>0,i=C>>>0,C=c+p,s=a+d+(C/4294967296>>>0)>>>0,o=C>>>0,rt=G,pt=z,G=k,z=O,k=L,O=R,C=A+i,L=E+n+(C/4294967296>>>0)>>>0,R=C>>>0,E=b,A=B,b=x,B=w,x=y,w=g,C=i+o,y=n+s+(C/4294967296>>>0)>>>0,g=C>>>0;C=e[0][1]+g,e[0][0]=e[0][0]+y+(C/4294967296>>>0)>>>0,e[0][1]=C>>>0,C=e[1][1]+w,e[1][0]=e[1][0]+x+(C/4294967296>>>0)>>>0,e[1][1]=C>>>0,C=e[2][1]+B,e[2][0]=e[2][0]+b+(C/4294967296>>>0)>>>0,e[2][1]=C>>>0,C=e[3][1]+A,e[3][0]=e[3][0]+E+(C/4294967296>>>0)>>>0,e[3][1]=C>>>0,C=e[4][1]+R,e[4][0]=e[4][0]+L+(C/4294967296>>>0)>>>0,e[4][1]=C>>>0,C=e[5][1]+O,e[5][0]=e[5][0]+k+(C/4294967296>>>0)>>>0,e[5][1]=C>>>0,C=e[6][1]+z,e[6][0]=e[6][0]+G+(C/4294967296>>>0)>>>0,e[6][1]=C>>>0,C=e[7][1]+pt,e[7][0]=e[7][0]+rt+(C/4294967296>>>0)>>>0,e[7][1]=C>>>0,Q-=128}}});var Al=K((e4,Sl)=>{var Dn=1e3,kn=Dn*60,Pn=kn*60,$r=Pn*24,wm=$r*7,Em=$r*365.25;Sl.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return Sm(e);if(r==="number"&&isFinite(e))return t.long?Bm(e):Am(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Sm(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*Em;case"weeks":case"week":case"w":return r*wm;case"days":case"day":case"d":return r*$r;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Pn;case"minutes":case"minute":case"mins":case"min":case"m":return r*kn;case"seconds":case"second":case"secs":case"sec":case"s":return r*Dn;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function Am(e){var t=Math.abs(e);return t>=$r?Math.round(e/$r)+"d":t>=Pn?Math.round(e/Pn)+"h":t>=kn?Math.round(e/kn)+"m":t>=Dn?Math.round(e/Dn)+"s":e+"ms"}function Bm(e){var t=Math.abs(e);return t>=$r?Ds(e,t,$r,"day"):t>=Pn?Ds(e,t,Pn,"hour"):t>=kn?Ds(e,t,kn,"minute"):t>=Dn?Ds(e,t,Dn,"second"):e+" ms"}function Ds(e,t,r,n){var i=t>=r*1.5;return Math.round(e/r)+" "+n+(i?"s":"")}});var Cl=K((r4,Bl)=>{function Cm(e){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=i,r.enabled=o,r.humanize=Al(),r.destroy=f,Object.keys(e).forEach(u=>{r[u]=e[u]}),r.names=[],r.skips=[],r.formatters={};function t(u){let h=0;for(let l=0;l<u.length;l++)h=(h<<5)-h+u.charCodeAt(l),h|=0;return r.colors[Math.abs(h)%r.colors.length]}r.selectColor=t;function r(u){let h,l=null,d,p;function y(...g){if(!y.enabled)return;let x=y,w=Number(new Date),b=w-(h||w);x.diff=b,x.prev=h,x.curr=w,h=w,g[0]=r.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let B=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(A,L)=>{if(A==="%%")return"%";B++;let R=r.formatters[L];if(typeof R=="function"){let k=g[B];A=R.call(x,k),g.splice(B,1),B--}return A}),r.formatArgs.call(x,g),(x.log||r.log).apply(x,g)}return y.namespace=u,y.useColors=r.useColors(),y.color=r.selectColor(u),y.extend=n,y.destroy=r.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>l!==null?l:(d!==r.namespaces&&(d=r.namespaces,p=r.enabled(u)),p),set:g=>{l=g}}),typeof r.init=="function"&&r.init(y),y}function n(u,h){let l=r(this.namespace+(typeof h>"u"?":":h)+u);return l.log=this.log,l}function i(u){r.save(u),r.namespaces=u,r.names=[],r.skips=[];let h,l=(typeof u=="string"?u:"").split(/[\s,]+/),d=l.length;for(h=0;h<d;h++)l[h]&&(u=l[h].replace(/\*/g,".*?"),u[0]==="-"?r.skips.push(new RegExp("^"+u.slice(1)+"$")):r.names.push(new RegExp("^"+u+"$")))}function s(){let u=[...r.names.map(a),...r.skips.map(a).map(h=>"-"+h)].join(",");return r.enable(""),u}function o(u){if(u[u.length-1]==="*")return!0;let h,l;for(h=0,l=r.skips.length;h<l;h++)if(r.skips[h].test(u))return!1;for(h=0,l=r.names.length;h<l;h++)if(r.names[h].test(u))return!0;return!1}function a(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function c(u){return u instanceof Error?u.stack||u.message:u}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}Bl.exports=Cm});var _l=K((de,ks)=>{de.formatArgs=Tm;de.save=Im;de.load=Lm;de.useColors=_m;de.storage=Rm();de.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();de.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function _m(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Tm(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+ks.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),e.splice(n,0,t)}de.log=console.debug||console.log||(()=>{});function Im(e){try{e?de.storage.setItem("debug",e):de.storage.removeItem("debug")}catch{}}function Lm(){let e;try{e=de.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}function Rm(){try{return localStorage}catch{}}ks.exports=Cl()(de);var{formatters:Um}=ks.exports;Um.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var Pm={};dt(Pm,{noise:()=>km,pureJsCrypto:()=>$i});function nr(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function Ge(e=0){return globalThis.Buffer?.alloc!=null?nr(globalThis.Buffer.alloc(e)):new Uint8Array(e)}function ge(e=0){return globalThis.Buffer?.allocUnsafe!=null?nr(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function Pt(e,t){t==null&&(t=e.reduce((i,s)=>i+s.length,0));let r=ge(t),n=0;for(let i of e)r.set(i,n),n+=i.length;return nr(r)}function Kt(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}var T0=Symbol.for("@achingbrain/uint8arraylist");function _0(e,t){if(t==null||t<0)throw new RangeError("index is out of bounds");let r=0;for(let n of e){let i=r+n.byteLength;if(t<i)return{buf:n,index:t-r};r=i}throw new RangeError("index is out of bounds")}function Si(e){return!!e?.[T0]}var ne=class{constructor(...t){Object.defineProperty(this,T0,{value:!0}),this.bufs=[],this.length=0,t.length>0&&this.appendAll(t)}*[Symbol.iterator](){yield*this.bufs}get byteLength(){return this.length}append(...t){this.appendAll(t)}appendAll(t){let r=0;for(let n of t)if(n instanceof Uint8Array)r+=n.byteLength,this.bufs.push(n);else if(Si(n))r+=n.byteLength,this.bufs.push(...n.bufs);else throw new Error("Could not append value, must be an Uint8Array or a Uint8ArrayList");this.length+=r}prepend(...t){this.prependAll(t)}prependAll(t){let r=0;for(let n of t.reverse())if(n instanceof Uint8Array)r+=n.byteLength,this.bufs.unshift(n);else if(Si(n))r+=n.byteLength,this.bufs.unshift(...n.bufs);else throw new Error("Could not prepend value, must be an Uint8Array or a Uint8ArrayList");this.length+=r}get(t){let r=_0(this.bufs,t);return r.buf[r.index]}set(t,r){let n=_0(this.bufs,t);n.buf[n.index]=r}write(t,r=0){if(t instanceof Uint8Array)for(let n=0;n<t.length;n++)this.set(r+n,t[n]);else if(Si(t))for(let n=0;n<t.length;n++)this.set(r+n,t.get(n));else throw new Error("Could not write value, must be an Uint8Array or a Uint8ArrayList")}consume(t){if(t=Math.trunc(t),!(Number.isNaN(t)||t<=0)){if(t===this.byteLength){this.bufs=[],this.length=0;return}for(;this.bufs.length>0;)if(t>=this.bufs[0].byteLength)t-=this.bufs[0].byteLength,this.length-=this.bufs[0].byteLength,this.bufs.shift();else{this.bufs[0]=this.bufs[0].subarray(t),this.length-=t;break}}}slice(t,r){let{bufs:n,length:i}=this._subList(t,r);return Pt(n,i)}subarray(t,r){let{bufs:n,length:i}=this._subList(t,r);return n.length===1?n[0]:Pt(n,i)}sublist(t,r){let{bufs:n,length:i}=this._subList(t,r),s=new ne;return s.length=i,s.bufs=n,s}_subList(t,r){if(t=t??0,r=r??this.length,t<0&&(t=this.length+t),r<0&&(r=this.length+r),t<0||r>this.length)throw new RangeError("index is out of bounds");if(t===r)return{bufs:[],length:0};if(t===0&&r===this.length)return{bufs:[...this.bufs],length:this.length};let n=[],i=0;for(let s=0;s<this.bufs.length;s++){let o=this.bufs[s],a=i,c=a+o.byteLength;if(i=c,t>=c)continue;let f=t>=a&&t<c,u=r>a&&r<=c;if(f&&u){if(t===a&&r===c){n.push(o);break}let h=t-a;n.push(o.subarray(h,h+(r-t)));break}if(f){if(t===0){n.push(o);continue}n.push(o.subarray(t-a));continue}if(u){if(r===c){n.push(o);break}n.push(o.subarray(0,r-a));break}n.push(o)}return{bufs:n,length:r-t}}indexOf(t,r=0){if(!Si(t)&&!(t instanceof Uint8Array))throw new TypeError('The "value" argument must be a Uint8ArrayList or Uint8Array');let n=t instanceof Uint8Array?t:t.subarray();if(r=Number(r??0),isNaN(r)&&(r=0),r<0&&(r=this.length+r),r<0&&(r=0),t.length===0)return r>this.length?this.length:r;let i=n.byteLength;if(i===0)throw new TypeError("search must be at least 1 byte long");let s=256,o=new Int32Array(s);for(let h=0;h<s;h++)o[h]=-1;for(let h=0;h<i;h++)o[n[h]]=h;let a=o,c=this.byteLength-n.byteLength,f=n.byteLength-1,u;for(let h=r;h<=c;h+=u){u=0;for(let l=f;l>=0;l--){let d=this.get(h+l);if(n[l]!==d){u=Math.max(1,l-a[d]);break}}if(u===0)return h}return-1}getInt8(t){let r=this.subarray(t,t+1);return new DataView(r.buffer,r.byteOffset,r.byteLength).getInt8(0)}setInt8(t,r){let n=ge(1);new DataView(n.buffer,n.byteOffset,n.byteLength).setInt8(0,r),this.write(n,t)}getInt16(t,r){let n=this.subarray(t,t+2);return new DataView(n.buffer,n.byteOffset,n.byteLength).getInt16(0,r)}setInt16(t,r,n){let i=Ge(2);new DataView(i.buffer,i.byteOffset,i.byteLength).setInt16(0,r,n),this.write(i,t)}getInt32(t,r){let n=this.subarray(t,t+4);return new DataView(n.buffer,n.byteOffset,n.byteLength).getInt32(0,r)}setInt32(t,r,n){let i=Ge(4);new DataView(i.buffer,i.byteOffset,i.byteLength).setInt32(0,r,n),this.write(i,t)}getBigInt64(t,r){let n=this.subarray(t,t+8);return new DataView(n.buffer,n.byteOffset,n.byteLength).getBigInt64(0,r)}setBigInt64(t,r,n){let i=Ge(8);new DataView(i.buffer,i.byteOffset,i.byteLength).setBigInt64(0,r,n),this.write(i,t)}getUint8(t){let r=this.subarray(t,t+1);return new DataView(r.buffer,r.byteOffset,r.byteLength).getUint8(0)}setUint8(t,r){let n=ge(1);new DataView(n.buffer,n.byteOffset,n.byteLength).setUint8(0,r),this.write(n,t)}getUint16(t,r){let n=this.subarray(t,t+2);return new DataView(n.buffer,n.byteOffset,n.byteLength).getUint16(0,r)}setUint16(t,r,n){let i=Ge(2);new DataView(i.buffer,i.byteOffset,i.byteLength).setUint16(0,r,n),this.write(i,t)}getUint32(t,r){let n=this.subarray(t,t+4);return new DataView(n.buffer,n.byteOffset,n.byteLength).getUint32(0,r)}setUint32(t,r,n){let i=Ge(4);new DataView(i.buffer,i.byteOffset,i.byteLength).setUint32(0,r,n),this.write(i,t)}getBigUint64(t,r){let n=this.subarray(t,t+8);return new DataView(n.buffer,n.byteOffset,n.byteLength).getBigUint64(0,r)}setBigUint64(t,r,n){let i=Ge(8);new DataView(i.buffer,i.byteOffset,i.byteLength).setBigUint64(0,r,n),this.write(i,t)}getFloat32(t,r){let n=this.subarray(t,t+4);return new DataView(n.buffer,n.byteOffset,n.byteLength).getFloat32(0,r)}setFloat32(t,r,n){let i=Ge(4);new DataView(i.buffer,i.byteOffset,i.byteLength).setFloat32(0,r,n),this.write(i,t)}getFloat64(t,r){let n=this.subarray(t,t+8);return new DataView(n.buffer,n.byteOffset,n.byteLength).getFloat64(0,r)}setFloat64(t,r,n){let i=Ge(8);new DataView(i.buffer,i.byteOffset,i.byteLength).setFloat64(0,r,n),this.write(i,t)}equals(t){if(t==null||!(t instanceof ne)||t.bufs.length!==this.bufs.length)return!1;for(let r=0;r<this.bufs.length;r++)if(!Kt(this.bufs[r],t.bufs[r]))return!1;return!0}static fromUint8Arrays(t,r){let n=new ne;return n.bufs=t,r==null&&(r=t.reduce((i,s)=>i+s.byteLength,0)),n.length=r,n}};function Ai(e){return e instanceof Uint8Array?{get(t){return e[t]},set(t,r){e[t]=r}}:{get(t){return e.get(t)},set(t,r){e.set(t,r)}}}var I0=4294967296,fe=class{constructor(t=0,r=0){this.hi=t,this.lo=r}toBigInt(t){if(t===!0)return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n);if(this.hi>>>31){let r=~this.lo+1>>>0,n=~this.hi>>>0;return r===0&&(n=n+1>>>0),-(BigInt(r)+(BigInt(n)<<32n))}return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n)}toNumber(t){return Number(this.toBigInt(t))}zzDecode(){let t=-(this.lo&1),r=((this.lo>>>1|this.hi<<31)^t)>>>0,n=(this.hi>>>1^t)>>>0;return new fe(n,r)}zzEncode(){let t=this.hi>>31,r=((this.hi<<1|this.lo>>>31)^t)>>>0,n=(this.lo<<1^t)>>>0;return new fe(r,n)}toBytes(t,r=0){let n=Ai(t);for(;this.hi>0;)n.set(r++,this.lo&127|128),this.lo=(this.lo>>>7|this.hi<<25)>>>0,this.hi>>>=7;for(;this.lo>127;)n.set(r++,this.lo&127|128),this.lo=this.lo>>>7;n.set(r++,this.lo)}static fromBigInt(t){if(t===0n)return new fe;let r=t<0;r&&(t=-t);let n=Number(t>>32n)|0,i=Number(t-(BigInt(n)<<32n))|0;return r&&(n=~n>>>0,i=~i>>>0,++i>I0&&(i=0,++n>I0&&(n=0))),new fe(n,i)}static fromNumber(t){if(t===0)return new fe;let r=t<0;r&&(t=-t);let n=t>>>0,i=(t-n)/4294967296>>>0;return r&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new fe(i,n)}static fromBytes(t,r=0){let n=Ai(t),i=new fe,s=0;if(t.length-r>4){for(;s<4;++s)if(i.lo=(i.lo|(n.get(r)&127)<<s*7)>>>0,n.get(r++)<128)return i;if(i.lo=(i.lo|(n.get(r)&127)<<28)>>>0,i.hi=(i.hi|(n.get(r)&127)>>4)>>>0,n.get(r++)<128)return i;s=0}else for(;s<4;++s){if(r>=t.length)throw RangeError(`index out of range: ${r} > ${t.length}`);if(i.lo=(i.lo|(n.get(r)&127)<<s*7)>>>0,n.get(r++)<128)return i}if(t.length-r>4){for(;s<5;++s)if(i.hi=(i.hi|(n.get(r)&127)<<s*7+3)>>>0,n.get(r++)<128)return i}else if(r<t.byteLength)for(;s<5;++s){if(r>=t.length)throw RangeError(`index out of range: ${r} > ${t.length}`);if(i.hi=(i.hi|(n.get(r)&127)<<s*7+3)>>>0,n.get(r++)<128)return i}throw RangeError("invalid varint encoding")}};var Ol=Math.pow(2,7),Vl=Math.pow(2,14),Hl=Math.pow(2,21),ql=Math.pow(2,28),zl=Math.pow(2,35),Gl=Math.pow(2,42),Wl=Math.pow(2,49),$l=Math.pow(2,56),Yl=Math.pow(2,63),We={encodingLength(e){return e<Ol?1:e<Vl?2:e<Hl?3:e<ql?4:e<zl?5:e<Gl?6:e<Wl?7:e<$l?8:e<Yl?9:10},encode(e,t,r=0){if(Number.MAX_SAFE_INTEGER!=null&&e>Number.MAX_SAFE_INTEGER)throw new RangeError("Could not encode varint");return t==null&&(t=ge(We.encodingLength(e))),fe.fromNumber(e).toBytes(t,r),t},decode(e,t=0){return fe.fromBytes(e,t).toNumber(!0)}};function Bi(e){return e[Symbol.asyncIterator]!=null}var Ci=e=>{let t=We.encodingLength(e),r=ge(t);return We.encode(e,r),Ci.bytes=t,r};Ci.bytes=0;function _i(e,t){t=t??{};let r=t.lengthEncoder??Ci;function*n(i){let s=r(i.byteLength);s instanceof Uint8Array?yield s:yield*s,i instanceof Uint8Array?yield i:yield*i}return Bi(e)?async function*(){for await(let i of e)yield*n(i)}():function*(){for(let i of e)yield*n(i)}()}_i.single=(e,t)=>{t=t??{};let r=t.lengthEncoder??Ci;return new ne(r(e.byteLength),e)};var Yr=vt(U0(),1);var Zl=8,Ql=1024*1024*4,Cr;(function(e){e[e.LENGTH=0]="LENGTH",e[e.DATA=1]="DATA"})(Cr||(Cr={}));var Hs=e=>{let t=We.decode(e);return Hs.bytes=We.encodingLength(t),t};Hs.bytes=0;function Mn(e,t){let r=new ne,n=Cr.LENGTH,i=-1,s=t?.lengthDecoder??Hs,o=t?.maxLengthLength??Zl,a=t?.maxDataLength??Ql;function*c(){for(;r.byteLength>0;){if(n===Cr.LENGTH)try{if(i=s(r),i<0)throw(0,Yr.default)(new Error("invalid message length"),"ERR_INVALID_MSG_LENGTH");if(i>a)throw(0,Yr.default)(new Error("message length too long"),"ERR_MSG_DATA_TOO_LONG");let f=s.bytes;r.consume(f),t?.onLength!=null&&t.onLength(i),n=Cr.DATA}catch(f){if(f instanceof RangeError){if(r.byteLength>o)throw(0,Yr.default)(new Error("message length length too long"),"ERR_MSG_LENGTH_TOO_LONG");break}throw f}if(n===Cr.DATA){if(r.byteLength<i)break;let f=r.sublist(0,i);r.consume(i),t?.onData!=null&&t.onData(f),yield f,n=Cr.LENGTH}}}return Bi(e)?async function*(){for await(let f of e)r.append(f),yield*c();if(r.byteLength>0)throw(0,Yr.default)(new Error("unexpected end of input"),"ERR_UNEXPECTED_EOF")}():function*(){for(let f of e)r.append(f),yield*c();if(r.byteLength>0)throw(0,Yr.default)(new Error("unexpected end of input"),"ERR_UNEXPECTED_EOF")}()}Mn.fromReader=(e,t)=>{let r=1,n=async function*(){for(;;)try{let{done:s,value:o}=await e.next(r);if(s===!0)return;o!=null&&(yield o)}catch(s){if(s.code==="ERR_UNDER_READ")return{done:!0,value:null};throw s}finally{r=1}}();return Mn(n,{...t??{},onLength:s=>{r=s}})};function Xr(){let e={};return e.promise=new Promise((t,r)=>{e.resolve=t,e.reject=r}),e}var Ti=class{buffer;mask;top;btm;next;constructor(t){if(!(t>0)||t-1&t)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(t),this.mask=t-1,this.top=0,this.btm=0,this.next=null}push(t){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=t,this.top=this.top+1&this.mask,!0)}shift(){let t=this.buffer[this.btm];if(t!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,t}isEmpty(){return this.buffer[this.btm]===void 0}},Zr=class{size;hwm;head;tail;constructor(t={}){this.hwm=t.splitLimit??16,this.head=new Ti(this.hwm),this.tail=this.head,this.size=0}calculateSize(t){return t?.byteLength!=null?t.byteLength:1}push(t){if(t?.value!=null&&(this.size+=this.calculateSize(t.value)),!this.head.push(t)){let r=this.head;this.head=r.next=new Ti(2*this.head.buffer.length),this.head.push(t)}}shift(){let t=this.tail.shift();if(t===void 0&&this.tail.next!=null){let r=this.tail.next;this.tail.next=null,this.tail=r,t=this.tail.shift()}return t?.value!=null&&(this.size-=this.calculateSize(t.value)),t}isEmpty(){return this.head.isEmpty()}};var qs=class extends Error{type;code;constructor(t,r){super(t??"The operation was aborted"),this.type="aborted",this.code=r??"ABORT_ERR"}};function Qr(e={}){return Jl(r=>{let n=r.shift();if(n==null)return{done:!0};if(n.error!=null)throw n.error;return{done:n.done===!0,value:n.value}},e)}function Jl(e,t){t=t??{};let r=t.onEnd,n=new Zr,i,s,o,a=Xr(),c=async()=>{try{return n.isEmpty()?o?{done:!0}:await new Promise((g,x)=>{s=w=>{s=null,n.push(w);try{g(e(n))}catch(b){x(b)}return i}}):e(n)}finally{n.isEmpty()&&queueMicrotask(()=>{a.resolve(),a=Xr()})}},f=g=>s!=null?s(g):(n.push(g),i),u=g=>(n=new Zr,s!=null?s({error:g}):(n.push({error:g}),i)),h=g=>{if(o)return i;if(t?.objectMode!==!0&&g?.byteLength==null)throw new Error("objectMode was not true but tried to push non-Uint8Array value");return f({done:!1,value:g})},l=g=>o?i:(o=!0,g!=null?u(g):f({done:!0})),d=()=>(n=new Zr,l(),{done:!0}),p=g=>(l(g),{done:!0});if(i={[Symbol.asyncIterator](){return this},next:c,return:d,throw:p,push:h,end:l,get readableLength(){return n.size},onEmpty:async g=>{let x=g?.signal;if(x?.throwIfAborted(),n.isEmpty())return;let w,b;x!=null&&(w=new Promise((B,E)=>{b=()=>{E(new qs)},x.addEventListener("abort",b)}));try{await Promise.race([a.promise,w])}finally{b!=null&&x!=null&&x?.removeEventListener("abort",b)}}},r==null)return i;let y=i;return i={[Symbol.asyncIterator](){return this},next(){return y.next()},throw(g){return y.throw(g),r!=null&&(r(g),r=void 0),{done:!0}},return(){return y.return(),r!=null&&(r(),r=void 0),{done:!0}},push:h,end(g){return y.end(g),r!=null&&(r(g),r=void 0),i},get readableLength(){return y.readableLength}},i}var Ii=class extends Error{code;constructor(t,r){super(t),this.code=r}},zs=class extends Ii{type;constructor(t){super(t,"ABORT_ERR"),this.type="aborted"}};function N0(e){let t=Qr();e.sink(t).catch(s=>{t.end(s)}),e.sink=async s=>{for await(let o of s)t.push(o);t.end()};let r=e.source;e.source[Symbol.iterator]!=null?r=e.source[Symbol.iterator]():e.source[Symbol.asyncIterator]!=null&&(r=e.source[Symbol.asyncIterator]());let n=new ne;return{read:async(s,o)=>{o?.signal?.throwIfAborted();let a,c=new Promise((f,u)=>{a=()=>{u(new zs("Read aborted"))},o?.signal?.addEventListener("abort",a)});try{if(s==null){let{done:u,value:h}=await Promise.race([r.next(),c]);return u===!0?new ne:h}for(;n.byteLength<s;){let{value:u,done:h}=await Promise.race([r.next(),c]);if(h===!0)throw new Ii("unexpected end of input","ERR_UNEXPECTED_EOF");n.append(u)}let f=n.sublist(0,s);return n.consume(s),f}finally{a!=null&&o?.signal?.removeEventListener("abort",a)}},write:async(s,o)=>{o?.signal?.throwIfAborted(),s instanceof Uint8Array?t.push(s):t.push(s.subarray()),await t.onEmpty(o)},unwrap:()=>{let s=e.source;return e.source=async function*(){yield*n,yield*s}(),e}}}var Li=class extends Error{code;constructor(t,r){super(t),this.code=r}},D0=e=>We.decode(e);D0.bytes=0;function Gs(e,t){let r=N0(e);return{read:async i=>{let s=-1,o=new ne,a=t?.lengthDecoder??D0;for(;;){o.append(await r.read(1,i));try{s=a(o)}catch(c){if(c instanceof RangeError)continue;throw c}if(s>-1)break;if(t?.maxLengthLength!=null&&o.byteLength>t.maxLengthLength)throw new Li("message length length too long","ERR_MSG_LENGTH_TOO_LONG")}if(t?.maxDataLength!=null&&s>t.maxDataLength)throw new Li("message length too long","ERR_MSG_DATA_TOO_LONG");return r.read(s,i)},write:async(i,s)=>{await r.write(_i.single(i,t),s)},unwrap:()=>r.unwrap()}}function Ws(){let e=Xr(),t=!1;return{sink:async r=>{if(t)throw new Error("already piped");t=!0,e.resolve(r)},source:async function*(){yield*await e.promise}()}}function k0(){let e=Ws(),t=Ws();return[{source:e.source,sink:t.sink},{source:t.source,sink:e.sink}]}function tp(e){return e[Symbol.asyncIterator]!=null}function ep(...e){let t=[];for(let r of e)tp(r)||t.push(r);return t.length===e.length?function*(){for(let r of t)yield*r}():async function*(){let r=Qr({objectMode:!0});Promise.resolve().then(async()=>{try{await Promise.all(e.map(async n=>{for await(let i of n)r.push(i)})),r.end()}catch(n){r.end(n)}}),yield*r}()}var P0=ep;function K0(e,...t){if(e==null)throw new Error("Empty pipeline");if($s(e)){let n=e;e=()=>n.source}else if(F0(e)||M0(e)){let n=e;e=()=>n}let r=[e,...t];if(r.length>1&&$s(r[r.length-1])&&(r[r.length-1]=r[r.length-1].sink),r.length>2)for(let n=1;n<r.length-1;n++)$s(r[n])&&(r[n]=np(r[n]));return rp(...r)}var rp=(...e)=>{let t;for(;e.length>0;)t=e.shift()(t);return t},M0=e=>e?.[Symbol.asyncIterator]!=null,F0=e=>e?.[Symbol.iterator]!=null,$s=e=>e==null?!1:e.sink!=null&&e.source!=null,np=e=>t=>{let r=e.sink(t);if(r?.then!=null){let n=Qr({objectMode:!0});r.then(()=>{n.end()},o=>{n.end(o)});let i,s=e.source;if(M0(s))i=async function*(){yield*s,n.end()};else if(F0(s))i=function*(){yield*s,n.end()};else throw new Error("Unknown duplex source type - must be Iterable or AsyncIterable");return P0(n,i())}return e.source};var O0=!!globalThis.process?.env?.DUMP_SESSION_KEYS;function Ys(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function ip(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function V0(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function sp(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ys(e.outputLen),Ys(e.blockLen)}function op(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function ap(e,t){V0(e);let r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var cp={number:Ys,bool:ip,bytes:V0,hash:sp,exists:op,output:ap},ue=cp;var fp=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var up=e=>e instanceof Uint8Array;var Ri=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Ee=(e,t)=>e<<32-t|e>>>t,hp=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!hp)throw new Error("Non little-endian hardware is not supported");var Fv=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function lp(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function ir(e){if(typeof e=="string"&&(e=lp(e)),!up(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}var jr=class{clone(){return this._cloneInto()}};function Xs(e){let t=n=>e().update(ir(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}var Ui=class extends jr{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,ue.hash(t);let n=ir(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?t.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=t.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(t){return ue.exists(this),this.iHash.update(t),this}digestInto(t){ue.exists(this),ue.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=o,t.outputLen=a,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Ni=(e,t,r)=>new Ui(e,t).update(r).digest();Ni.create=(e,t)=>new Ui(e,t);function pp(e,t,r){return ue.hash(e),r===void 0&&(r=new Uint8Array(e.outputLen)),Ni(e,ir(r),ir(t))}var Zs=new Uint8Array([0]),H0=new Uint8Array;function dp(e,t,r,n=32){if(ue.hash(e),ue.number(n),n>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");let i=Math.ceil(n/e.outputLen);r===void 0&&(r=H0);let s=new Uint8Array(i*e.outputLen),o=Ni.create(e,t),a=o._cloneInto(),c=new Uint8Array(o.outputLen);for(let f=0;f<i;f++)Zs[0]=f+1,a.update(f===0?H0:c).update(r).update(Zs).digestInto(c),s.set(c,e.outputLen*f),o._cloneInto(a);return o.destroy(),a.destroy(),c.fill(0),Zs.fill(0),s.slice(0,n)}var q0=(e,t,r,n,i)=>dp(e,pp(e,t,r),n,i);function yp(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);let i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,f=n?0:4;e.setUint32(t+c,o,n),e.setUint32(t+f,a,n)}var Di=class extends jr{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Ri(this.buffer)}update(t){ue.exists(this);let{view:r,buffer:n,blockLen:i}=this;t=ir(t);let s=t.length;for(let o=0;o<s;){let a=Math.min(i-this.pos,s-o);if(a===i){let c=Ri(t);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){ue.exists(this),ue.output(t,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let h=o;h<i;h++)r[h]=0;yp(n,i-8,BigInt(this.length*8),s),this.process(n,0);let a=Ri(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let f=c/4,u=this.get();if(f>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<f;h++)a.setUint32(4*h,u[h],s)}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return t.length=i,t.pos=a,t.finished=s,t.destroyed=o,i%r&&t.buffer.set(n),t}};var gp=(e,t,r)=>e&t^~e&r,xp=(e,t,r)=>e&t^e&r^t&r,mp=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),sr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),or=new Uint32Array(64),ki=class extends Di{constructor(){super(64,32,8,!1),this.A=sr[0]|0,this.B=sr[1]|0,this.C=sr[2]|0,this.D=sr[3]|0,this.E=sr[4]|0,this.F=sr[5]|0,this.G=sr[6]|0,this.H=sr[7]|0}get(){let{A:t,B:r,C:n,D:i,E:s,F:o,G:a,H:c}=this;return[t,r,n,i,s,o,a,c]}set(t,r,n,i,s,o,a,c){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,r){for(let h=0;h<16;h++,r+=4)or[h]=t.getUint32(r,!1);for(let h=16;h<64;h++){let l=or[h-15],d=or[h-2],p=Ee(l,7)^Ee(l,18)^l>>>3,y=Ee(d,17)^Ee(d,19)^d>>>10;or[h]=y+or[h-7]+p+or[h-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:c,G:f,H:u}=this;for(let h=0;h<64;h++){let l=Ee(a,6)^Ee(a,11)^Ee(a,25),d=u+l+gp(a,c,f)+mp[h]+or[h]|0,y=(Ee(n,2)^Ee(n,13)^Ee(n,22))+xp(n,i,s)|0;u=f,f=c,c=a,a=o+d|0,o=s,s=i,i=n,n=d+y|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,f=f+this.G|0,u=u+this.H|0,this.set(n,i,s,o,a,c,f,u)}roundClean(){or.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},Qs=class extends ki{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},js=Xs(()=>new ki),Jv=Xs(()=>new Qs);var po=vt(oo(),1),tn=vt(dc(),1),$i={hashSHA256(e){return js(e)},getHKDF(e,t){let r=q0(js,t,e,void 0,96),n=r.subarray(0,32),i=r.subarray(32,64),s=r.subarray(64,96);return[n,i,s]},generateX25519KeyPair(){let e=tn.generateKeyPair();return{publicKey:e.publicKey,privateKey:e.secretKey}},generateX25519KeyPairFromSeed(e){let t=tn.generateKeyPairFromSeed(e);return{publicKey:t.publicKey,privateKey:t.secretKey}},generateX25519SharedKey(e,t){return tn.sharedKey(e,t)},chaCha20Poly1305Encrypt(e,t,r,n){return new po.ChaCha20Poly1305(n).seal(t,e,r)},chaCha20Poly1305Decrypt(e,t,r,n,i){return new po.ChaCha20Poly1305(n).open(t,e,r,i)}};var yo=vt(oo(),1);var bd=e=>globalThis.Buffer?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e),en=e=>{let t=bd(2);return new DataView(t.buffer,t.byteOffset,t.byteLength).setUint16(0,e,!1),t};en.bytes=2;var Hn=e=>{if(e.length<2)throw RangeError("Could not decode int16BE");return e instanceof Uint8Array?new DataView(e.buffer,e.byteOffset,e.byteLength).getUint16(0,!1):e.getUint16(0)};Hn.bytes=2;function yc(e){return Pt([e.ne,e.ciphertext],e.ne.length+e.ciphertext.length)}function gc(e){return Pt([e.ne,e.ns,e.ciphertext],e.ne.length+e.ns.length+e.ciphertext.length)}function xc(e){return Pt([e.ns,e.ciphertext],e.ns.length+e.ciphertext.length)}function mc(e){if(e.length<32)throw new Error("Cannot decode stage 0 MessageBuffer: length less than 32 bytes.");return{ne:e.subarray(0,32),ciphertext:e.subarray(32,e.length),ns:new Uint8Array(0)}}function vc(e){if(e.length<80)throw new Error("Cannot decode stage 1 MessageBuffer: length less than 80 bytes.");return{ne:e.subarray(0,32),ns:e.subarray(32,80),ciphertext:e.subarray(80,e.length)}}function bc(e){if(e.length<48)throw new Error("Cannot decode stage 2 MessageBuffer: length less than 48 bytes.");return{ne:new Uint8Array(0),ns:e.subarray(0,48),ciphertext:e.subarray(48,e.length)}}function Ec(e,t){return async function*(r){for await(let n of r)for(let i=0;i<n.length;i+=65519){let s=i+65519;s>n.length&&(s=n.length);let o=e.encrypt(n.subarray(i,s),e.session);t?.encryptedPackets.increment(),yield en(o.byteLength),yield o}}}function Sc(e,t){return async function*(r){for await(let n of r)for(let i=0;i<n.length;i+=65535){let s=i+65535;if(s>n.length&&(s=n.length),s-yo.TAG_LENGTH<i)throw new Error("Invalid chunk");let o=n.subarray(i,s),a=n.subarray(i,s-yo.TAG_LENGTH),{plaintext:c,valid:f}=e.decrypt(o,e.session,a);if(!f)throw t?.decryptErrors.increment(),new Error("Failed to validate decrypted chunk");t?.decryptedPackets.increment(),yield c}}}var yt=class extends Error{code;props;constructor(t,r,n){super(t),this.code=r,this.name=n?.name??"CodeError",this.props=n??{}}},go=class extends Error{code;constructor(t="Unexpected Peer"){super(t),this.code=go.code}},rn=go;Vs(rn,"code","ERR_UNEXPECTED_PEER");var xo=class extends Error{code;constructor(t="Invalid crypto exchange"){super(t),this.code=xo.code}},ar=xo;Vs(ar,"code","ERR_INVALID_CRYPTO_EXCHANGE");var $3=vt($n(),1),Y3=vt(Of(),1);var Ox=vt(gt(),1);var zo={};dt(zo,{identity:()=>Z1});function G1(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=e.length,c=e.charAt(0),f=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var y=0,g=0,x=0,w=p.length;x!==w&&p[x]===0;)x++,y++;for(var b=(w-x)*u+1>>>0,B=new Uint8Array(b);x!==w;){for(var E=p[x],A=0,L=b-1;(E!==0||A<g)&&L!==-1;L--,A++)E+=256*B[L]>>>0,B[L]=E%a>>>0,E=E/a>>>0;if(E!==0)throw new Error("Non-zero carry");g=A,x++}for(var R=b-g;R!==b&&B[R]===0;)R++;for(var k=c.repeat(y);R<b;++R)k+=e.charAt(B[R]);return k}function l(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var y=0;if(p[y]!==" "){for(var g=0,x=0;p[y]===c;)g++,y++;for(var w=(p.length-y)*f+1>>>0,b=new Uint8Array(w);p[y];){var B=r[p.charCodeAt(y)];if(B===255)return;for(var E=0,A=w-1;(B!==0||E<x)&&A!==-1;A--,E++)B+=a*b[A]>>>0,b[A]=B%256>>>0,B=B/256>>>0;if(B!==0)throw new Error("Non-zero carry");x=E,y++}if(p[y]!==" "){for(var L=w-x;L!==w&&b[L]===0;)L++;for(var R=new Uint8Array(g+(w-L)),k=g;L!==w;)R[k++]=b[L++];return R}}}function d(p){var y=l(p);if(y)return y;throw new Error(`Non-${t} character`)}return{encode:h,decodeUnsafe:l,decode:d}}var W1=G1,$1=W1,Vf=$1;var Zb=new Uint8Array(0);var Hf=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},Je=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};var qf=e=>new TextEncoder().encode(e),zf=e=>new TextDecoder().decode(e);var Oo=class{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},Vo=class{constructor(t,r,n){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return Wf(this,t)}},Ho=class{constructor(t){this.decoders=t}or(t){return Wf(this,t)}decode(t){let r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},Wf=(e,t)=>new Ho({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}}),qo=class{constructor(t,r,n,i){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new Oo(t,r,n),this.decoder=new Vo(t,r,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}},cn=({name:e,prefix:t,encode:r,decode:n})=>new qo(e,t,r,n),lr=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=Vf(r,t);return cn({prefix:e,name:t,encode:n,decode:s=>Je(i(s))})},Y1=(e,t,r,n)=>{let i={};for(let u=0;u<t.length;++u)i[t[u]]=u;let s=e.length;for(;e[s-1]==="=";)--s;let o=new Uint8Array(s*r/8|0),a=0,c=0,f=0;for(let u=0;u<s;++u){let h=i[e[u]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|h,a+=r,a>=8&&(a-=8,o[f++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},X1=(e,t,r)=>{let n=t[t.length-1]==="=",i=(1<<r)-1,s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>r;)o-=r,s+=t[i&a>>o];if(o&&(s+=t[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},Lt=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>cn({prefix:t,name:e,encode(i){return X1(i,n,r)},decode(i){return Y1(i,n,r,e)}});var Z1=cn({prefix:"\0",name:"identity",encode:e=>zf(e),decode:e=>qf(e)});var Go={};dt(Go,{base2:()=>Q1});var Q1=Lt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Wo={};dt(Wo,{base8:()=>j1});var j1=Lt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var $o={};dt($o,{base10:()=>J1});var J1=lr({prefix:"9",name:"base10",alphabet:"0123456789"});var Yo={};dt(Yo,{base16:()=>tg,base16upper:()=>eg});var tg=Lt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),eg=Lt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Xo={};dt(Xo,{base32:()=>fn,base32hex:()=>sg,base32hexpad:()=>ag,base32hexpadupper:()=>cg,base32hexupper:()=>og,base32pad:()=>ng,base32padupper:()=>ig,base32upper:()=>rg,base32z:()=>fg});var fn=Lt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),rg=Lt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ng=Lt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),ig=Lt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),sg=Lt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),og=Lt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ag=Lt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),cg=Lt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),fg=Lt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Zo={};dt(Zo,{base36:()=>ug,base36upper:()=>hg});var ug=lr({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),hg=lr({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Qo={};dt(Qo,{base58btc:()=>Ke,base58flickr:()=>lg});var Ke=lr({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),lg=lr({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var jo={};dt(jo,{base64:()=>pg,base64pad:()=>dg,base64url:()=>yg,base64urlpad:()=>gg});var pg=Lt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),dg=Lt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),yg=Lt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),gg=Lt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Jo={};dt(Jo,{base256emoji:()=>wg});var $f=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),xg=$f.reduce((e,t,r)=>(e[r]=t,e),[]),mg=$f.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function vg(e){return e.reduce((t,r)=>(t+=xg[r],t),"")}function bg(e){let t=[];for(let r of e){let n=mg[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}var wg=cn({prefix:"\u{1F680}",name:"base256emoji",encode:vg,decode:bg});var na={};dt(na,{sha256:()=>Og,sha512:()=>Vg});var Eg=Zf,Yf=128,Sg=127,Ag=~Sg,Bg=Math.pow(2,31);function Zf(e,t,r){t=t||[],r=r||0;for(var n=r;e>=Bg;)t[r++]=e&255|Yf,e/=128;for(;e&Ag;)t[r++]=e&255|Yf,e>>>=7;return t[r]=e|0,Zf.bytes=r-n+1,t}var Cg=ta,_g=128,Xf=127;function ta(e,n){var r=0,n=n||0,i=0,s=n,o,a=e.length;do{if(s>=a)throw ta.bytes=0,new RangeError("Could not decode varint");o=e[s++],r+=i<28?(o&Xf)<<i:(o&Xf)*Math.pow(2,i),i+=7}while(o>=_g);return ta.bytes=s-n,r}var Tg=Math.pow(2,7),Ig=Math.pow(2,14),Lg=Math.pow(2,21),Rg=Math.pow(2,28),Ug=Math.pow(2,35),Ng=Math.pow(2,42),Dg=Math.pow(2,49),kg=Math.pow(2,56),Pg=Math.pow(2,63),Kg=function(e){return e<Tg?1:e<Ig?2:e<Lg?3:e<Rg?4:e<Ug?5:e<Ng?6:e<Dg?7:e<kg?8:e<Pg?9:10},Mg={encode:Eg,decode:Cg,encodingLength:Kg},Fg=Mg,Zn=Fg;var Qn=(e,t=0)=>[Zn.decode(e,t),Zn.decode.bytes],un=(e,t,r=0)=>(Zn.encode(e,t,r),t),hn=e=>Zn.encodingLength(e);var Dr=(e,t)=>{let r=t.byteLength,n=hn(e),i=n+hn(r),s=new Uint8Array(i+r);return un(e,s,0),un(r,s,n),s.set(t,i),new ln(e,r,t,s)},Qf=e=>{let t=Je(e),[r,n]=Qn(t),[i,s]=Qn(t.subarray(n)),o=t.subarray(n+s);if(o.byteLength!==i)throw new Error("Incorrect length");return new ln(r,i,o,t)},jf=(e,t)=>{if(e===t)return!0;{let r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&Hf(e.bytes,r.bytes)}},ln=class{constructor(t,r,n,i){this.code=t,this.size=r,this.digest=n,this.bytes=i}};var ra=({name:e,code:t,encode:r})=>new ea(e,t,r),ea=class{constructor(t,r,n){this.name=t,this.code=r,this.encode=n}digest(t){if(t instanceof Uint8Array){let r=this.encode(t);return r instanceof Uint8Array?Dr(this.code,r):r.then(n=>Dr(this.code,n))}else throw Error("Unknown type, must be binary type")}};var tu=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Og=ra({name:"sha2-256",code:18,encode:tu("SHA-256")}),Vg=ra({name:"sha2-512",code:19,encode:tu("SHA-512")});var ia={};dt(ia,{identity:()=>zg});var eu=0,Hg="identity",ru=Je,qg=e=>Dr(eu,ru(e)),zg={code:eu,name:Hg,encode:ru,digest:qg};var xw=new TextEncoder,mw=new TextDecoder;var nu=(e,t)=>{let{bytes:r,version:n}=e;switch(n){case 0:return Yg(r,sa(e),t||Ke.encoder);default:return Xg(r,sa(e),t||fn.encoder)}};var iu=new WeakMap,sa=e=>{let t=iu.get(e);if(t==null){let r=new Map;return iu.set(e,r),r}return t},kt=class{constructor(t,r,n,i){this.code=r,this.version=t,this.multihash=n,this.bytes=i,this["/"]=i}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:t,multihash:r}=this;if(t!==Jn)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==Zg)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return kt.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:t,digest:r}=this.multihash,n=Dr(t,r);return kt.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return kt.equals(this,t)}static equals(t,r){let n=r;return n&&t.code===n.code&&t.version===n.version&&jf(t.multihash,n.multihash)}toString(t){return nu(this,t)}toJSON(){return{"/":nu(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(t){if(t==null)return null;let r=t;if(r instanceof kt)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){let{version:n,code:i,multihash:s,bytes:o}=r;return new kt(n,i,s,o||su(n,i,s.bytes))}else if(r[Qg]===!0){let{version:n,multihash:i,code:s}=r,o=Qf(i);return kt.create(n,s,o)}else return null}static create(t,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:{if(r!==Jn)throw new Error(`Version 0 CID must use dag-pb (code: ${Jn}) block encoding`);return new kt(t,r,n,n.bytes)}case 1:{let i=su(t,r,n.bytes);return new kt(t,r,n,i)}default:throw new Error("Invalid version")}}static createV0(t){return kt.create(0,Jn,t)}static createV1(t,r){return kt.create(1,t,r)}static decode(t){let[r,n]=kt.decodeFirst(t);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(t){let r=kt.inspectBytes(t),n=r.size-r.multihashSize,i=Je(t.subarray(n,n+r.multihashSize));if(i.byteLength!==r.multihashSize)throw new Error("Incorrect length");let s=i.subarray(r.multihashSize-r.digestSize),o=new ln(r.multihashCode,r.digestSize,s,i);return[r.version===0?kt.createV0(o):kt.createV1(r.codec,o),t.subarray(r.size)]}static inspectBytes(t){let r=0,n=()=>{let[h,l]=Qn(t.subarray(r));return r+=l,h},i=n(),s=Jn;if(i===18?(i=0,r=0):s=n(),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let o=r,a=n(),c=n(),f=r+c,u=f-o;return{version:i,codec:s,multihashCode:a,digestSize:c,multihashSize:u,size:f}}static parse(t,r){let[n,i]=$g(t,r),s=kt.decode(i);if(s.version===0&&t[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return sa(s).set(n,t),s}},$g=(e,t)=>{switch(e[0]){case"Q":{let r=t||Ke;return[Ke.prefix,r.decode(`${Ke.prefix}${e}`)]}case Ke.prefix:{let r=t||Ke;return[Ke.prefix,r.decode(e)]}case fn.prefix:{let r=t||fn;return[fn.prefix,r.decode(e)]}default:{if(t==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}},Yg=(e,t,r)=>{let{prefix:n}=r;if(n!==Ke.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(i==null){let s=r.encode(e).slice(1);return t.set(n,s),s}else return i},Xg=(e,t,r)=>{let{prefix:n}=r,i=t.get(n);if(i==null){let s=r.encode(e);return t.set(n,s),s}else return i},Jn=112,Zg=18,su=(e,t,r)=>{let n=hn(e),i=n+hn(t),s=new Uint8Array(i+r.byteLength);return un(e,s,0),un(t,s,n),s.set(r,i),s},Qg=Symbol.for("@ipld/js-cid/CID");var oa={...zo,...Go,...Wo,...$o,...Yo,...Xo,...Zo,...Qo,...jo,...Jo},Tw={...na,...ia};function au(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}var ou=au("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),aa=au("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);let t=ge(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),jg={utf8:ou,"utf-8":ou,hex:oa.base16,latin1:aa,ascii:aa,binary:aa,...oa},ls=jg;function zt(e,t="utf8"){let r=ls[t];if(r==null)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?nr(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}var $a={};dt($a,{Ed25519PrivateKey:()=>Hr,Ed25519PublicKey:()=>fi,generateKeyPair:()=>ox,generateKeyPairFromSeed:()=>_h,unmarshalEd25519PrivateKey:()=>ix,unmarshalEd25519PublicKey:()=>sx});var la={};dt(la,{base58btc:()=>Gt,base58flickr:()=>i2});function Jg(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=e.length,c=e.charAt(0),f=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var y=0,g=0,x=0,w=p.length;x!==w&&p[x]===0;)x++,y++;for(var b=(w-x)*u+1>>>0,B=new Uint8Array(b);x!==w;){for(var E=p[x],A=0,L=b-1;(E!==0||A<g)&&L!==-1;L--,A++)E+=256*B[L]>>>0,B[L]=E%a>>>0,E=E/a>>>0;if(E!==0)throw new Error("Non-zero carry");g=A,x++}for(var R=b-g;R!==b&&B[R]===0;)R++;for(var k=c.repeat(y);R<b;++R)k+=e.charAt(B[R]);return k}function l(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var y=0;if(p[y]!==" "){for(var g=0,x=0;p[y]===c;)g++,y++;for(var w=(p.length-y)*f+1>>>0,b=new Uint8Array(w);p[y];){var B=r[p.charCodeAt(y)];if(B===255)return;for(var E=0,A=w-1;(B!==0||E<x)&&A!==-1;A--,E++)B+=a*b[A]>>>0,b[A]=B%256>>>0,B=B/256>>>0;if(B!==0)throw new Error("Non-zero carry");x=E,y++}if(p[y]!==" "){for(var L=w-x;L!==w&&b[L]===0;)L++;for(var R=new Uint8Array(g+(w-L)),k=g;L!==w;)R[k++]=b[L++];return R}}}function d(p){var y=l(p);if(y)return y;throw new Error(`Non-${t} character`)}return{encode:h,decodeUnsafe:l,decode:d}}var t2=Jg,e2=t2,cu=e2;var Kw=new Uint8Array(0);var fu=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},tr=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};var uu=e=>new TextEncoder().encode(e),hu=e=>new TextDecoder().decode(e);var ca=class{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},fa=class{constructor(t,r,n){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return pu(this,t)}},ua=class{constructor(t){this.decoders=t}or(t){return pu(this,t)}decode(t){let r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},pu=(e,t)=>new ua({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}}),ha=class{constructor(t,r,n,i){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new ca(t,r,n),this.decoder=new fa(t,r,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}},pn=({name:e,prefix:t,encode:r,decode:n})=>new ha(e,t,r,n),pr=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=cu(r,t);return pn({prefix:e,name:t,encode:n,decode:s=>tr(i(s))})},r2=(e,t,r,n)=>{let i={};for(let u=0;u<t.length;++u)i[t[u]]=u;let s=e.length;for(;e[s-1]==="=";)--s;let o=new Uint8Array(s*r/8|0),a=0,c=0,f=0;for(let u=0;u<s;++u){let h=i[e[u]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|h,a+=r,a>=8&&(a-=8,o[f++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},n2=(e,t,r)=>{let n=t[t.length-1]==="=",i=(1<<r)-1,s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>r;)o-=r,s+=t[i&a>>o];if(o&&(s+=t[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},Rt=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>pn({prefix:t,name:e,encode(i){return n2(i,n,r)},decode(i){return r2(i,n,r,e)}});var Gt=pr({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),i2=pr({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var da={};dt(da,{identity:()=>dr});var s2=gu,du=128,o2=127,a2=~o2,c2=Math.pow(2,31);function gu(e,t,r){t=t||[],r=r||0;for(var n=r;e>=c2;)t[r++]=e&255|du,e/=128;for(;e&a2;)t[r++]=e&255|du,e>>>=7;return t[r]=e|0,gu.bytes=r-n+1,t}var f2=pa,u2=128,yu=127;function pa(e,n){var r=0,n=n||0,i=0,s=n,o,a=e.length;do{if(s>=a)throw pa.bytes=0,new RangeError("Could not decode varint");o=e[s++],r+=i<28?(o&yu)<<i:(o&yu)*Math.pow(2,i),i+=7}while(o>=u2);return pa.bytes=s-n,r}var h2=Math.pow(2,7),l2=Math.pow(2,14),p2=Math.pow(2,21),d2=Math.pow(2,28),y2=Math.pow(2,35),g2=Math.pow(2,42),x2=Math.pow(2,49),m2=Math.pow(2,56),v2=Math.pow(2,63),b2=function(e){return e<h2?1:e<l2?2:e<p2?3:e<d2?4:e<y2?5:e<g2?6:e<x2?7:e<m2?8:e<v2?9:10},w2={encode:s2,decode:f2,encodingLength:b2},E2=w2,ti=E2;var ei=(e,t=0)=>[ti.decode(e,t),ti.decode.bytes],dn=(e,t,r=0)=>(ti.encode(e,t,r),t),yn=e=>ti.encodingLength(e);var Me=(e,t)=>{let r=t.byteLength,n=yn(e),i=n+yn(r),s=new Uint8Array(i+r);return dn(e,s,0),dn(r,s,n),s.set(t,i),new gn(e,r,t,s)},ri=e=>{let t=tr(e),[r,n]=ei(t),[i,s]=ei(t.subarray(n)),o=t.subarray(n+s);if(o.byteLength!==i)throw new Error("Incorrect length");return new gn(r,i,o,t)},xu=(e,t)=>{if(e===t)return!0;{let r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&fu(e.bytes,r.bytes)}},gn=class{constructor(t,r,n,i){this.code=t,this.size=r,this.digest=n,this.bytes=i}};var mu=0,S2="identity",vu=tr,A2=e=>Me(mu,vu(e)),dr={code:mu,name:S2,encode:vu,digest:A2};var xa={};dt(xa,{sha256:()=>Wt,sha512:()=>B2});var ga=({name:e,code:t,encode:r})=>new ya(e,t,r),ya=class{constructor(t,r,n){this.name=t,this.code=r,this.encode=n}digest(t){if(t instanceof Uint8Array){let r=this.encode(t);return r instanceof Uint8Array?Me(this.code,r):r.then(n=>Me(this.code,n))}else throw Error("Unknown type, must be binary type")}};var wu=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Wt=ga({name:"sha2-256",code:18,encode:wu("SHA-256")}),B2=ga({name:"sha2-512",code:19,encode:wu("SHA-512")});var C2=vt(Tr(),1);var Vt=BigInt(0),tt=BigInt(1),xr=BigInt(2),_2=BigInt(8),Eu=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),wt=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:Eu,n:Eu,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")});var _u=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),ni=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),$w=BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),T2=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),I2=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),L2=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),R2=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),j=class{constructor(t,r,n,i){this.x=t,this.y=r,this.z=n,this.t=i}static fromAffine(t){if(!(t instanceof Bt))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return t.equals(Bt.ZERO)?j.ZERO:new j(t.x,t.y,tt,T(t.x*t.y))}static toAffineBatch(t){let r=D2(t.map(n=>n.z));return t.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(t){return this.toAffineBatch(t).map(this.fromAffine)}equals(t){Au(t);let{x:r,y:n,z:i}=this,{x:s,y:o,z:a}=t,c=T(r*a),f=T(s*i),u=T(n*a),h=T(o*i);return c===f&&u===h}negate(){return new j(T(-this.x),this.y,this.z,T(-this.t))}double(){let{x:t,y:r,z:n}=this,{a:i}=wt,s=T(t*t),o=T(r*r),a=T(xr*T(n*n)),c=T(i*s),f=t+r,u=T(T(f*f)-s-o),h=c+o,l=h-a,d=c-o,p=T(u*l),y=T(h*d),g=T(u*d),x=T(l*h);return new j(p,y,x,g)}add(t){Au(t);let{x:r,y:n,z:i,t:s}=this,{x:o,y:a,z:c,t:f}=t,u=T((n-r)*(a+o)),h=T((n+r)*(a-o)),l=T(h-u);if(l===Vt)return this.double();let d=T(i*xr*f),p=T(s*xr*c),y=p+d,g=h+u,x=p-d,w=T(y*l),b=T(g*x),B=T(y*x),E=T(l*g);return new j(w,b,E,B)}subtract(t){return this.add(t.negate())}precomputeWindow(t){let r=1+256/t,n=[],i=this,s=i;for(let o=0;o<r;o++){s=i,n.push(s);for(let a=1;a<2**(t-1);a++)s=s.add(i),n.push(s);i=s.double()}return n}wNAF(t,r){!r&&this.equals(j.BASE)&&(r=Bt.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&Ea.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=j.normalizeZ(i),Ea.set(r,i)));let s=j.ZERO,o=j.BASE,a=1+256/n,c=2**(n-1),f=BigInt(2**n-1),u=2**n,h=BigInt(n);for(let l=0;l<a;l++){let d=l*c,p=Number(t&f);t>>=h,p>c&&(p-=u,t+=tt);let y=d,g=d+Math.abs(p)-1,x=l%2!==0,w=p<0;p===0?o=o.add(Su(x,i[y])):s=s.add(Su(w,i[g]))}return j.normalizeZ([s,o])[0]}multiply(t,r){return this.wNAF(ys(t,wt.l),r)}multiplyUnsafe(t){let r=ys(t,wt.l,!1),n=j.BASE,i=j.ZERO;if(r===Vt)return i;if(this.equals(i)||r===tt)return this;if(this.equals(n))return this.wNAF(r);let s=i,o=this;for(;r>Vt;)r&tt&&(s=s.add(o)),o=o.double(),r>>=tt;return s}isSmallOrder(){return this.multiplyUnsafe(wt.h).equals(j.ZERO)}isTorsionFree(){let t=this.multiplyUnsafe(wt.l/xr).double();return wt.l%xr&&(t=t.add(this)),t.equals(j.ZERO)}toAffine(t){let{x:r,y:n,z:i}=this,s=this.equals(j.ZERO);t==null&&(t=s?_2:gs(i));let o=T(r*t),a=T(n*t),c=T(i*t);if(s)return Bt.ZERO;if(c!==tt)throw new Error("invZ was invalid");return new Bt(o,a)}fromRistrettoBytes(){va()}toRistrettoBytes(){va()}fromRistrettoHash(){va()}};j.BASE=new j(wt.Gx,wt.Gy,tt,T(wt.Gx*wt.Gy));j.ZERO=new j(Vt,tt,tt,Vt);function Su(e,t){let r=t.negate();return e?r:t}function Au(e){if(!(e instanceof j))throw new TypeError("ExtendedPoint expected")}function ma(e){if(!(e instanceof ae))throw new TypeError("RistrettoPoint expected")}function va(){throw new Error("Legacy method: switch to RistrettoPoint")}var ae=class{constructor(t){this.ep=t}static calcElligatorRistrettoMap(t){let{d:r}=wt,n=T(ni*t*t),i=T((n+tt)*L2),s=BigInt(-1),o=T((s-r*n)*T(n+r)),{isValid:a,value:c}=Aa(i,o),f=T(c*t);gr(f)||(f=T(-f)),a||(c=f),a||(s=n);let u=T(s*(n-tt)*R2-o),h=c*c,l=T((c+c)*o),d=T(u*T2),p=T(tt-h),y=T(tt+h);return new j(T(l*y),T(p*d),T(d*y),T(l*p))}static hashToCurve(t){t=mr(t,64);let r=ba(t.slice(0,32)),n=this.calcElligatorRistrettoMap(r),i=ba(t.slice(32,64)),s=this.calcElligatorRistrettoMap(i);return new ae(n.add(s))}static fromHex(t){t=mr(t,32);let{a:r,d:n}=wt,i="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",s=ba(t);if(!P2(ii(s),t)||gr(s))throw new Error(i);let o=T(s*s),a=T(tt+r*o),c=T(tt-r*o),f=T(a*a),u=T(c*c),h=T(r*n*f-u),{isValid:l,value:d}=Cu(T(h*u)),p=T(d*c),y=T(d*p*h),g=T((s+s)*p);gr(g)&&(g=T(-g));let x=T(a*y),w=T(g*x);if(!l||gr(w)||x===Vt)throw new Error(i);return new ae(new j(g,x,tt,w))}toRawBytes(){let{x:t,y:r,z:n,t:i}=this.ep,s=T(T(n+r)*T(n-r)),o=T(t*r),a=T(o*o),{value:c}=Cu(T(s*a)),f=T(c*s),u=T(c*o),h=T(f*u*i),l;if(gr(i*h)){let p=T(r*ni),y=T(t*ni);t=p,r=y,l=T(f*I2)}else l=u;gr(t*h)&&(r=T(-r));let d=T((n-r)*l);return gr(d)&&(d=T(-d)),ii(d)}toHex(){return si(this.toRawBytes())}toString(){return this.toHex()}equals(t){ma(t);let r=this.ep,n=t.ep,i=T(r.x*n.y)===T(r.y*n.x),s=T(r.y*n.y)===T(r.x*n.x);return i||s}add(t){return ma(t),new ae(this.ep.add(t.ep))}subtract(t){return ma(t),new ae(this.ep.subtract(t.ep))}multiply(t){return new ae(this.ep.multiply(t))}multiplyUnsafe(t){return new ae(this.ep.multiplyUnsafe(t))}};ae.BASE=new ae(j.BASE);ae.ZERO=new ae(j.ZERO);var Ea=new WeakMap,Bt=class{constructor(t,r){this.x=t,this.y=r}_setWindowSize(t){this._WINDOW_SIZE=t,Ea.delete(this)}static fromHex(t,r=!0){let{d:n,P:i}=wt;t=mr(t,32);let s=t.slice();s[31]=t[31]&-129;let o=oi(s);if(r&&o>=i)throw new Error("Expected 0 < hex < P");if(!r&&o>=_u)throw new Error("Expected 0 < hex < 2**256");let a=T(o*o),c=T(a-tt),f=T(n*a+tt),{isValid:u,value:h}=Aa(c,f);if(!u)throw new Error("Point.fromHex: invalid y coordinate");let l=(h&tt)===tt;return(t[31]&128)!==0!==l&&(h=T(-h)),new Bt(h,o)}static async fromPrivateKey(t){return(await xs(t)).point}toRawBytes(){let t=ii(this.y);return t[31]|=this.x&tt?128:0,t}toHex(){return si(this.toRawBytes())}toX25519(){let{y:t}=this,r=T((tt+t)*gs(tt-t));return ii(r)}isTorsionFree(){return j.fromAffine(this).isTorsionFree()}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new Bt(T(-this.x),this.y)}add(t){return j.fromAffine(this).add(j.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return j.fromAffine(this).multiply(t,this).toAffine()}};Bt.BASE=new Bt(wt.Gx,wt.Gy);Bt.ZERO=new Bt(Vt,tt);var kr=class{constructor(t,r){this.r=t,this.s=r,this.assertValidity()}static fromHex(t){let r=mr(t,64),n=Bt.fromHex(r.slice(0,32),!1),i=oi(r.slice(32,64));return new kr(n,i)}assertValidity(){let{r:t,s:r}=this;if(!(t instanceof Bt))throw new Error("Expected Point instance");return ys(r,wt.l,!1),this}toRawBytes(){let t=new Uint8Array(64);return t.set(this.r.toRawBytes()),t.set(ii(this.s),32),t}toHex(){return si(this.toRawBytes())}};function Bu(...e){if(!e.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(e.length===1)return e[0];let t=e.reduce((n,i)=>n+i.length,0),r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let s=e[n];r.set(s,i),i+=s.length}return r}var U2=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function si(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=U2[e[r]];return t}function Sa(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){let n=r*2,i=e.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");t[r]=s}return t}function Tu(e){let r=e.toString(16).padStart(64,"0");return Sa(r)}function ii(e){return Tu(e).reverse()}function gr(e){return(T(e)&tt)===tt}function oi(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+si(Uint8Array.from(e).reverse()))}var N2=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function ba(e){return T(oi(e)&N2)}function T(e,t=wt.P){let r=e%t;return r>=Vt?r:t+r}function gs(e,t=wt.P){if(e===Vt||t<=Vt)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=T(e,t),n=t,i=Vt,s=tt,o=tt,a=Vt;for(;r!==Vt;){let f=n/r,u=n%r,h=i-o*f,l=s-a*f;n=r,r=u,i=o,s=a,o=h,a=l}if(n!==tt)throw new Error("invert: does not exist");return T(i,t)}function D2(e,t=wt.P){let r=new Array(e.length),n=e.reduce((s,o,a)=>o===Vt?s:(r[a]=s,T(s*o,t)),tt),i=gs(n,t);return e.reduceRight((s,o,a)=>o===Vt?s:(r[a]=T(s*r[a],t),T(s*o,t)),i),r}function Fe(e,t){let{P:r}=wt,n=e;for(;t-- >Vt;)n*=n,n%=r;return n}function k2(e){let{P:t}=wt,r=BigInt(5),n=BigInt(10),i=BigInt(20),s=BigInt(40),o=BigInt(80),c=e*e%t*e%t,f=Fe(c,xr)*c%t,u=Fe(f,tt)*e%t,h=Fe(u,r)*u%t,l=Fe(h,n)*h%t,d=Fe(l,i)*l%t,p=Fe(d,s)*d%t,y=Fe(p,o)*p%t,g=Fe(y,o)*p%t,x=Fe(g,n)*h%t;return{pow_p_5_8:Fe(x,xr)*e%t,b2:c}}function Aa(e,t){let r=T(t*t*t),n=T(r*r*t),i=k2(e*n).pow_p_5_8,s=T(e*r*i),o=T(t*s*s),a=s,c=T(s*ni),f=o===e,u=o===T(-e),h=o===T(-e*ni);return f&&(s=a),(u||h)&&(s=c),gr(s)&&(s=T(-s)),{isValid:f||u,value:s}}function Cu(e){return Aa(tt,e)}function ds(e){return T(oi(e),wt.l)}function P2(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function mr(e,t){let r=e instanceof Uint8Array?Uint8Array.from(e):Sa(e);if(typeof t=="number"&&r.length!==t)throw new Error(`Expected ${t} bytes`);return r}function ys(e,t,r=!0){if(!t)throw new TypeError("Specify max value");if(typeof e=="number"&&Number.isSafeInteger(e)&&(e=BigInt(e)),typeof e=="bigint"&&e<t){if(r){if(Vt<e)return e}else if(Vt<=e)return e}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function K2(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function M2(e){if(e=typeof e=="bigint"||typeof e=="number"?Tu(ys(e,_u)):mr(e),e.length!==32)throw new Error("Expected 32 bytes");return e}function F2(e){let t=K2(e.slice(0,32)),r=e.slice(32,64),n=ds(t),i=Bt.BASE.multiply(n),s=i.toRawBytes();return{head:t,prefix:r,scalar:n,point:i,pointBytes:s}}var wa;async function xs(e){return F2(await vr.sha512(M2(e)))}async function Ba(e){return(await xs(e)).pointBytes}async function Iu(e,t){e=mr(e);let{prefix:r,scalar:n,pointBytes:i}=await xs(t),s=ds(await vr.sha512(r,e)),o=Bt.BASE.multiply(s),a=ds(await vr.sha512(o.toRawBytes(),i,e)),c=T(s+a*n,wt.l);return new kr(o,c).toRawBytes()}function O2(e,t,r){t=mr(t),r instanceof Bt||(r=Bt.fromHex(r,!1));let{r:n,s:i}=e instanceof kr?e.assertValidity():kr.fromHex(e),s=j.BASE.multiplyUnsafe(i);return{r:n,s:i,SB:s,pub:r,msg:t}}function V2(e,t,r,n){let i=ds(n),s=j.fromAffine(e).multiplyUnsafe(i);return j.fromAffine(t).add(s).subtract(r).multiplyUnsafe(wt.h).equals(j.ZERO)}async function Lu(e,t,r){let{r:n,SB:i,msg:s,pub:o}=O2(e,t,r),a=await vr.sha512(n.toRawBytes(),o.toRawBytes(),s);return V2(o,n,i,a)}Bt.BASE._setWindowSize(8);var yr={node:C2,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},vr={bytesToHex:si,hexToBytes:Sa,concatBytes:Bu,getExtendedPublicKey:xs,mod:T,invert:gs,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:e=>{if(e=mr(e),e.length<40||e.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return T(oi(e),wt.l-tt)+tt},randomBytes:(e=32)=>{if(yr.web)return yr.web.getRandomValues(new Uint8Array(e));if(yr.node){let{randomBytes:t}=yr.node;return new Uint8Array(t(e).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>vr.randomBytes(32),sha512:async(...e)=>{let t=Bu(...e);if(yr.web){let r=await yr.web.subtle.digest("SHA-512",t.buffer);return new Uint8Array(r)}else{if(yr.node)return Uint8Array.from(yr.node.createHash("sha512").update(t).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(e=8,t=Bt.BASE){let r=t.equals(Bt.BASE)?t:new Bt(t.x,t.y);return r._setWindowSize(e),r.multiply(xr),r},sha512Sync:void 0};Object.defineProperties(vr,{sha512Sync:{configurable:!1,get(){return wa},set(e){wa||(wa=e)}}});var mn=32,er=64,ms=32;async function Ru(){let e=vr.randomPrivateKey(),t=await Ba(e);return{privateKey:ku(e,t),publicKey:t}}async function Uu(e){if(e.length!==ms)throw new TypeError('"seed" must be 32 bytes in length.');if(!(e instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, or Uint8Array.');let t=e,r=await Ba(t);return{privateKey:ku(t,r),publicKey:r}}async function Nu(e,t){let r=e.subarray(0,ms);return Iu(t,r)}async function Du(e,t,r){return Lu(t,r,e)}function ku(e,t){let r=new Uint8Array(er);for(let n=0;n<ms;n++)r[n]=e[n],r[ms+n]=t[n];return r}var Ca={};dt(Ca,{base64:()=>vn,base64pad:()=>z2,base64url:()=>G2,base64urlpad:()=>W2});var vn=Rt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),z2=Rt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),G2=Rt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),W2=Rt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var ce={get(e=globalThis){let t=e.crypto;if(t==null||t.subtle==null)throw Object.assign(new Error("Missing Web Crypto API. The most likely cause of this error is that this page is being accessed from an insecure context (i.e. not HTTPS). For more information and possible resolutions see https://github.com/libp2p/js-libp2p-crypto/blob/master/README.md#web-crypto-api"),{code:"ERR_MISSING_WEB_CRYPTO"});return t}};var _a={alg:"A128GCM",ext:!0,k:"scm9jmO_4BJAgdwWGVulLg",key_ops:["encrypt","decrypt"],kty:"oct"};function Ta(e){let t=e?.algorithm??"AES-GCM",r=e?.keyLength??16,n=e?.nonceLength??12,i=e?.digest??"SHA-256",s=e?.saltLength??16,o=e?.iterations??32767,a=ce.get();r*=8;async function c(h,l){let d=a.getRandomValues(new Uint8Array(s)),p=a.getRandomValues(new Uint8Array(n)),y={name:t,iv:p};typeof l=="string"&&(l=zt(l));let g;if(l.length===0){g=await a.subtle.importKey("jwk",_a,{name:"AES-GCM"},!0,["encrypt"]);try{let w={name:"PBKDF2",salt:d,iterations:o,hash:{name:i}},b=await a.subtle.importKey("raw",l,{name:"PBKDF2"},!1,["deriveKey"]);g=await a.subtle.deriveKey(w,b,{name:t,length:r},!0,["encrypt"])}catch{g=await a.subtle.importKey("jwk",_a,{name:"AES-GCM"},!0,["encrypt"])}}else{let w={name:"PBKDF2",salt:d,iterations:o,hash:{name:i}},b=await a.subtle.importKey("raw",l,{name:"PBKDF2"},!1,["deriveKey"]);g=await a.subtle.deriveKey(w,b,{name:t,length:r},!0,["encrypt"])}let x=await a.subtle.encrypt(y,g,h);return Pt([d,y.iv,new Uint8Array(x)])}async function f(h,l){let d=h.subarray(0,s),p=h.subarray(s,s+n),y=h.subarray(s+n),g={name:t,iv:p};typeof l=="string"&&(l=zt(l));let x;if(l.length===0)try{let b={name:"PBKDF2",salt:d,iterations:o,hash:{name:i}},B=await a.subtle.importKey("raw",l,{name:"PBKDF2"},!1,["deriveKey"]);x=await a.subtle.deriveKey(b,B,{name:t,length:r},!0,["decrypt"])}catch{x=await a.subtle.importKey("jwk",_a,{name:"AES-GCM"},!0,["decrypt"])}else{let b={name:"PBKDF2",salt:d,iterations:o,hash:{name:i}},B=await a.subtle.importKey("raw",l,{name:"PBKDF2"},!1,["deriveKey"]);x=await a.subtle.deriveKey(b,B,{name:t,length:r},!0,["decrypt"])}let w=await a.subtle.decrypt(g,x,y);return new Uint8Array(w)}return{encrypt:c,decrypt:f}}async function bn(e,t){let n=await Ta().encrypt(e,t);return vn.encode(n)}var Va=vt(Na(),1),Sh=vt(yh(),1),Ah=vt(Kr(),1),Ha=vt(Oa(),1),Bh=vt(Eh(),1);function ex(){Ah.default._configure(),Va.default._configure(Sh.default),Ha.default._configure(Bh.default)}ex();var Ch=["uint64","int64","sint64","fixed64","sfixed64"];function rx(e){for(let t of Ch){if(e[t]==null)continue;let r=e[t];e[t]=function(){return BigInt(r.call(this).toString())}}return e}function qa(e){return rx(new Va.default(e))}function nx(e){for(let t of Ch){if(e[t]==null)continue;let r=e[t];e[t]=function(n){return r.call(this,n.toString())}}return e}function za(){return nx(Ha.default.create())}function Fr(e,t){let r=qa(e instanceof Uint8Array?e:e.subarray());return t.decode(r)}function Or(e,t){let r=za();return t.encode(e,r,{lengthDelimited:!1}),r.finish()}var En;(function(e){e[e.VARINT=0]="VARINT",e[e.BIT64=1]="BIT64",e[e.LENGTH_DELIMITED=2]="LENGTH_DELIMITED",e[e.START_GROUP=3]="START_GROUP",e[e.END_GROUP=4]="END_GROUP",e[e.BIT32=5]="BIT32"})(En||(En={}));function Ss(e,t,r,n){return{name:e,type:t,encode:r,decode:n}}function Ga(e){function t(i){if(e[i.toString()]==null)throw new Error("Invalid enum value");return e[i]}let r=function(s,o){let a=t(s);o.int32(a)},n=function(s){let o=s.int32();return t(o)};return Ss("enum",En.VARINT,r,n)}function Vr(e,t){return Ss("message",En.LENGTH_DELIMITED,e,t)}var Ct;(function(e){e.RSA="RSA",e.Ed25519="Ed25519",e.Secp256k1="Secp256k1"})(Ct||(Ct={}));var Wa;(function(e){e[e.RSA=0]="RSA",e[e.Ed25519=1]="Ed25519",e[e.Secp256k1=2]="Secp256k1"})(Wa||(Wa={}));(function(e){e.codec=()=>Ga(Wa)})(Ct||(Ct={}));var He;(function(e){let t;e.codec=()=>(t==null&&(t=Vr((r,n,i={})=>{i.lengthDelimited!==!1&&n.fork(),r.Type!=null&&(n.uint32(8),Ct.codec().encode(r.Type,n)),r.Data!=null&&(n.uint32(18),n.bytes(r.Data)),i.lengthDelimited!==!1&&n.ldelim()},(r,n)=>{let i={},s=n==null?r.len:r.pos+n;for(;r.pos<s;){let o=r.uint32();switch(o>>>3){case 1:i.Type=Ct.codec().decode(r);break;case 2:i.Data=r.bytes();break;default:r.skipType(o&7);break}}return i})),t),e.encode=r=>Or(r,e.codec()),e.decode=r=>Fr(r,e.codec())})(He||(He={}));var qe;(function(e){let t;e.codec=()=>(t==null&&(t=Vr((r,n,i={})=>{i.lengthDelimited!==!1&&n.fork(),r.Type!=null&&(n.uint32(8),Ct.codec().encode(r.Type,n)),r.Data!=null&&(n.uint32(18),n.bytes(r.Data)),i.lengthDelimited!==!1&&n.ldelim()},(r,n)=>{let i={},s=n==null?r.len:r.pos+n;for(;r.pos<s;){let o=r.uint32();switch(o>>>3){case 1:i.Type=Ct.codec().decode(r);break;case 2:i.Data=r.bytes();break;default:r.skipType(o&7);break}}return i})),t),e.encode=r=>Or(r,e.codec()),e.decode=r=>Fr(r,e.codec())})(qe||(qe={}));var fi=class{_key;constructor(t){this._key=Sn(t,mn)}async verify(t,r){return Du(this._key,r,t)}marshal(){return this._key}get bytes(){return He.encode({Type:Ct.Ed25519,Data:this.marshal()}).subarray()}equals(t){return Kt(this.bytes,t.bytes)}async hash(){let{bytes:t}=await Wt.digest(this.bytes);return t}},Hr=class{_key;_publicKey;constructor(t,r){this._key=Sn(t,er),this._publicKey=Sn(r,mn)}async sign(t){return Nu(this._key,t)}get public(){return new fi(this._publicKey)}marshal(){return this._key}get bytes(){return qe.encode({Type:Ct.Ed25519,Data:this.marshal()}).subarray()}equals(t){return Kt(this.bytes,t.bytes)}async hash(){let{bytes:t}=await Wt.digest(this.bytes);return t}async id(){let t=dr.digest(this.public.bytes);return Gt.encode(t.bytes).substring(1)}async export(t,r="libp2p-key"){if(r==="libp2p-key")return bn(this.bytes,t);throw new yt(`export format '${r}' is not supported`,"ERR_INVALID_EXPORT_FORMAT")}};function ix(e){if(e.length>er){e=Sn(e,er+mn);let n=e.subarray(0,er),i=e.subarray(er,e.length);return new Hr(n,i)}e=Sn(e,er);let t=e.subarray(0,er),r=e.subarray(mn);return new Hr(t,r)}function sx(e){return e=Sn(e,mn),new fi(e)}async function ox(){let{privateKey:e,publicKey:t}=await Ru();return new Hr(e,t)}async function _h(e){let{privateKey:t,publicKey:r}=await Uu(e);return new Hr(t,r)}function Sn(e,t){if(e=Uint8Array.from(e??[]),e.length!==t)throw new yt(`Key must be a Uint8Array of length ${t}, got ${e.length}`,"ERR_INVALID_KEY_TYPE");return e}function _t(e,t="utf8"){let r=ls[t];if(r==null)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}var M8=vt(Dt(),1),F8=vt(as(),1),Th=vt(gt(),1);function _e(e,t){let r=Uint8Array.from(e.abs().toByteArray());if(r=r[0]===0?r.subarray(1):r,t!=null){if(r.length>t)throw new Error("byte array longer than desired length");r=Pt([new Uint8Array(t-r.length),r])}return _t(r,"base64url")}function le(e){let t=Ih(e);return new Th.default.jsbn.BigInteger(_t(t,"base16"),16)}function Ih(e,t){let r=zt(e,"base64urlpad");if(t!=null){if(r.length>t)throw new Error("byte array longer than desired length");r=Pt([new Uint8Array(t-r.length),r])}return r}var ax={"P-256":256,"P-384":384,"P-521":521},cx=Object.keys(ax),Z8=cx.join(" / ");var i0={};dt(i0,{RsaPrivateKey:()=>Ln,RsaPublicKey:()=>gi,fromJwk:()=>Dx,generateKeyPair:()=>kx,unmarshalRsaPrivateKey:()=>Ux,unmarshalRsaPublicKey:()=>Nx});var yi=vt(gt(),1);var D3=vt(Dh(),1);var hx=vt(Tr(),1);var et=BigInt(0),St=BigInt(1),Sr=BigInt(2),li=BigInt(3),kh=BigInt(8),Ut=Object.freeze({a:et,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:St,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),Ph=(e,t)=>(e+t/Sr)/t,Bs={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(e){let{n:t}=Ut,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-St*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=Ph(s*e,t),c=Ph(-n*e,t),f=D(e-a*r-c*i,t),u=D(-a*n-c*s,t),h=f>o,l=u>o;if(h&&(f=t-f),l&&(u=t-u),f>o||u>o)throw new Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:h,k1:f,k2neg:l,k2:u}}},Te=32,Cn=32,lx=32,Kh=Te+1,Mh=2*Te+1;function Fh(e){let{a:t,b:r}=Ut,n=D(e*e),i=D(n*e);return D(i+t*e+r)}var Cs=Ut.a===et,Is=class extends Error{constructor(t){super(t)}};function Oh(e){if(!(e instanceof st))throw new TypeError("JacobianPoint expected")}var st=class{constructor(t,r,n){this.x=t,this.y=r,this.z=n}static fromAffine(t){if(!(t instanceof ht))throw new TypeError("JacobianPoint#fromAffine: expected Point");return t.equals(ht.ZERO)?st.ZERO:new st(t.x,t.y,St)}static toAffineBatch(t){let r=xx(t.map(n=>n.z));return t.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(t){return st.toAffineBatch(t).map(st.fromAffine)}equals(t){Oh(t);let{x:r,y:n,z:i}=this,{x:s,y:o,z:a}=t,c=D(i*i),f=D(a*a),u=D(r*f),h=D(s*c),l=D(D(n*a)*f),d=D(D(o*i)*c);return u===h&&l===d}negate(){return new st(this.x,D(-this.y),this.z)}double(){let{x:t,y:r,z:n}=this,i=D(t*t),s=D(r*r),o=D(s*s),a=t+s,c=D(Sr*(D(a*a)-i-o)),f=D(li*i),u=D(f*f),h=D(u-Sr*c),l=D(f*(c-h)-kh*o),d=D(Sr*r*n);return new st(h,l,d)}add(t){Oh(t);let{x:r,y:n,z:i}=this,{x:s,y:o,z:a}=t;if(s===et||o===et)return this;if(r===et||n===et)return t;let c=D(i*i),f=D(a*a),u=D(r*f),h=D(s*c),l=D(D(n*a)*f),d=D(D(o*i)*c),p=D(h-u),y=D(d-l);if(p===et)return y===et?this.double():st.ZERO;let g=D(p*p),x=D(p*g),w=D(u*g),b=D(y*y-x-Sr*w),B=D(y*(w-b)-l*x),E=D(i*a*p);return new st(b,B,E)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){let r=st.ZERO;if(typeof t=="bigint"&&t===et)return r;let n=qh(t);if(n===St)return this;if(!Cs){let h=r,l=this;for(;n>et;)n&St&&(h=h.add(l)),l=l.double(),n>>=St;return h}let{k1neg:i,k1:s,k2neg:o,k2:a}=Bs.splitScalar(n),c=r,f=r,u=this;for(;s>et||a>et;)s&St&&(c=c.add(u)),a&St&&(f=f.add(u)),u=u.double(),s>>=St,a>>=St;return i&&(c=c.negate()),o&&(f=f.negate()),f=new st(D(f.x*Bs.beta),f.y,f.z),c.add(f)}precomputeWindow(t){let r=Cs?128/t+1:256/t+1,n=[],i=this,s=i;for(let o=0;o<r;o++){s=i,n.push(s);for(let a=1;a<2**(t-1);a++)s=s.add(i),n.push(s);i=s.double()}return n}wNAF(t,r){!r&&this.equals(st.BASE)&&(r=ht.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&Qa.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=st.normalizeZ(i),Qa.set(r,i)));let s=st.ZERO,o=st.BASE,a=1+(Cs?128/n:256/n),c=2**(n-1),f=BigInt(2**n-1),u=2**n,h=BigInt(n);for(let l=0;l<a;l++){let d=l*c,p=Number(t&f);t>>=h,p>c&&(p-=u,t+=St);let y=d,g=d+Math.abs(p)-1,x=l%2!==0,w=p<0;p===0?o=o.add(_s(x,i[y])):s=s.add(_s(w,i[g]))}return{p:s,f:o}}multiply(t,r){let n=qh(t),i,s;if(Cs){let{k1neg:o,k1:a,k2neg:c,k2:f}=Bs.splitScalar(n),{p:u,f:h}=this.wNAF(a,r),{p:l,f:d}=this.wNAF(f,r);u=_s(o,u),l=_s(c,l),l=new st(D(l.x*Bs.beta),l.y,l.z),i=u.add(l),s=h.add(d)}else{let{p:o,f:a}=this.wNAF(n,r);i=o,s=a}return st.normalizeZ([i,s])[0]}toAffine(t){let{x:r,y:n,z:i}=this,s=this.equals(st.ZERO);t==null&&(t=s?kh:In(i));let o=t,a=D(o*o),c=D(a*o),f=D(r*a),u=D(n*c),h=D(i*o);if(s)return ht.ZERO;if(h!==St)throw new Error("invZ was invalid");return new ht(f,u)}};st.BASE=new st(Ut.Gx,Ut.Gy,St);st.ZERO=new st(et,St,et);function _s(e,t){let r=t.negate();return e?r:t}var Qa=new WeakMap,ht=class{constructor(t,r){this.x=t,this.y=r}_setWindowSize(t){this._WINDOW_SIZE=t,Qa.delete(this)}hasEvenY(){return this.y%Sr===et}static fromCompressedHex(t){let r=t.length===32,n=Ar(r?t:t.subarray(1));if(!Za(n))throw new Error("Point is not on curve");let i=Fh(n),s=gx(i),o=(s&St)===St;r?o&&(s=D(-s)):(t[0]&1)===1!==o&&(s=D(-s));let a=new ht(n,s);return a.assertValidity(),a}static fromUncompressedHex(t){let r=Ar(t.subarray(1,Te+1)),n=Ar(t.subarray(Te+1,Te*2+1)),i=new ht(r,n);return i.assertValidity(),i}static fromHex(t){let r=Tn(t),n=r.length,i=r[0];if(n===Te)return this.fromCompressedHex(r);if(n===Kh&&(i===2||i===3))return this.fromCompressedHex(r);if(n===Mh&&i===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-${Kh} compressed bytes or ${Mh} uncompressed bytes, not ${n}`)}static fromPrivateKey(t){return ht.BASE.multiply(Rs(t))}static fromSignature(t,r,n){let{r:i,s}=zh(r);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");let o=t0(Tn(t)),{n:a}=Ut,c=n===2||n===3?i+a:i,f=In(c,a),u=D(-o*f,a),h=D(s*f,a),l=n&1?"03":"02",d=ht.fromHex(l+An(c)),p=ht.BASE.multiplyAndAddUnsafe(d,u,h);if(!p)throw new Error("Cannot recover signature: point at infinify");return p.assertValidity(),p}toRawBytes(t=!1){return zr(this.toHex(t))}toHex(t=!1){let r=An(this.x);return t?`${this.hasEvenY()?"02":"03"}${r}`:`04${r}${An(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let t="Point is not on elliptic curve",{x:r,y:n}=this;if(!Za(r)||!Za(n))throw new Error(t);let i=D(n*n),s=Fh(r);if(D(i-s)!==et)throw new Error(t)}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new ht(this.x,D(-this.y))}double(){return st.fromAffine(this).double().toAffine()}add(t){return st.fromAffine(this).add(st.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return st.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,r,n){let i=st.fromAffine(this),s=r===et||r===St||this!==ht.BASE?i.multiplyUnsafe(r):i.multiply(r),o=st.fromAffine(t).multiplyUnsafe(n),a=s.add(o);return a.equals(st.ZERO)?void 0:a.toAffine()}};ht.BASE=new ht(Ut.Gx,Ut.Gy);ht.ZERO=new ht(et,et);function Vh(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}function Hh(e){if(e.length<2||e[0]!==2)throw new Error(`Invalid signature integer tag: ${_n(e)}`);let t=e[1],r=e.subarray(2,t+2);if(!t||r.length!==t)throw new Error("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:Ar(r),left:e.subarray(t+2)}}function px(e){if(e.length<2||e[0]!=48)throw new Error(`Invalid signature tag: ${_n(e)}`);if(e[1]!==e.length-2)throw new Error("Invalid signature: incorrect length");let{data:t,left:r}=Hh(e.subarray(2)),{data:n,left:i}=Hh(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${_n(i)}`);return{r:t,s:n}}var ze=class{constructor(t,r){this.r=t,this.s=r,this.assertValidity()}static fromCompact(t){let r=t instanceof Uint8Array,n="Signature.fromCompact";if(typeof t!="string"&&!r)throw new TypeError(`${n}: Expected string or Uint8Array`);let i=r?_n(t):t;if(i.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new ze(Ls(i.slice(0,64)),Ls(i.slice(64,128)))}static fromDER(t){let r=t instanceof Uint8Array;if(typeof t!="string"&&!r)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s:i}=px(r?t:zr(t));return new ze(n,i)}static fromHex(t){return this.fromDER(t)}assertValidity(){let{r:t,s:r}=this;if(!di(t))throw new Error("Invalid Signature: r must be 0 < r < n");if(!di(r))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let t=Ut.n>>St;return this.s>t}normalizeS(){return this.hasHighS()?new ze(this.r,D(-this.s,Ut.n)):this}toDERRawBytes(){return zr(this.toDERHex())}toDERHex(){let t=Vh(hi(this.s)),r=Vh(hi(this.r)),n=t.length/2,i=r.length/2,s=hi(n),o=hi(i);return`30${hi(i+n+4)}02${o}${r}02${s}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return zr(this.toCompactHex())}toCompactHex(){return An(this.r)+An(this.s)}};function Er(...e){if(!e.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(e.length===1)return e[0];let t=e.reduce((n,i)=>n+i.length,0),r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){let s=e[n];r.set(s,i),i+=s.length}return r}var dx=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function _n(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let r=0;r<e.length;r++)t+=dx[e[r]];return t}var yx=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function An(e){if(typeof e!="bigint")throw new Error("Expected bigint");if(!(et<=e&&e<yx))throw new Error("Expected number 0 <= n < 2^256");return e.toString(16).padStart(64,"0")}function ja(e){let t=zr(An(e));if(t.length!==32)throw new Error("Error: expected 32 bytes");return t}function hi(e){let t=e.toString(16);return t.length&1?`0${t}`:t}function Ls(e){if(typeof e!="string")throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function zr(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+e.length);let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){let n=r*2,i=e.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");t[r]=s}return t}function Ar(e){return Ls(_n(e))}function Tn(e){return e instanceof Uint8Array?Uint8Array.from(e):zr(e)}function qh(e){if(typeof e=="number"&&Number.isSafeInteger(e)&&e>0)return BigInt(e);if(typeof e=="bigint"&&di(e))return e;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function D(e,t=Ut.P){let r=e%t;return r>=et?r:t+r}function be(e,t){let{P:r}=Ut,n=e;for(;t-- >et;)n*=n,n%=r;return n}function gx(e){let{P:t}=Ut,r=BigInt(6),n=BigInt(11),i=BigInt(22),s=BigInt(23),o=BigInt(44),a=BigInt(88),c=e*e*e%t,f=c*c*e%t,u=be(f,li)*f%t,h=be(u,li)*f%t,l=be(h,Sr)*c%t,d=be(l,n)*l%t,p=be(d,i)*d%t,y=be(p,o)*p%t,g=be(y,a)*y%t,x=be(g,o)*p%t,w=be(x,li)*f%t,b=be(w,s)*d%t,B=be(b,r)*c%t,E=be(B,Sr);if(E*E%t!==e)throw new Error("Cannot find square root");return E}function In(e,t=Ut.P){if(e===et||t<=et)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=D(e,t),n=t,i=et,s=St,o=St,a=et;for(;r!==et;){let f=n/r,u=n%r,h=i-o*f,l=s-a*f;n=r,r=u,i=o,s=a,o=h,a=l}if(n!==St)throw new Error("invert: does not exist");return D(i,t)}function xx(e,t=Ut.P){let r=new Array(e.length),n=e.reduce((s,o,a)=>o===et?s:(r[a]=s,D(s*o,t)),St),i=In(n,t);return e.reduceRight((s,o,a)=>o===et?s:(r[a]=D(s*r[a],t),D(s*o,t)),i),r}function mx(e){let t=e.length*8-Cn*8,r=Ar(e);return t>0?r>>BigInt(t):r}function t0(e,t=!1){let r=mx(e);if(t)return r;let{n}=Ut;return r>=n?r-n:r}var Bn,pi,Ja=class{constructor(t,r){if(this.hashLen=t,this.qByteLen=r,typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof r!="number"||r<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(t).fill(1),this.k=new Uint8Array(t).fill(0),this.counter=0}hmac(...t){return Ie.hmacSha256(this.k,...t)}hmacSync(...t){return pi(this.k,...t)}checkSync(){if(typeof pi!="function")throw new Is("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(t=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),t),this.v=await this.hmac(this.v),t.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),t),this.v=await this.hmac(this.v))}reseedSync(t=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),t),this.v=this.hmacSync(this.v),t.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),t),this.v=this.hmacSync(this.v))}async generate(){this.incr();let t=0,r=[];for(;t<this.qByteLen;){this.v=await this.hmac(this.v);let n=this.v.slice();r.push(n),t+=this.v.length}return Er(...r)}generateSync(){this.checkSync(),this.incr();let t=0,r=[];for(;t<this.qByteLen;){this.v=this.hmacSync(this.v);let n=this.v.slice();r.push(n),t+=this.v.length}return Er(...r)}};function di(e){return et<e&&e<Ut.n}function Za(e){return et<e&&e<Ut.P}function vx(e,t,r,n=!0){let{n:i}=Ut,s=t0(e,!0);if(!di(s))return;let o=In(s,i),a=ht.BASE.multiply(s),c=D(a.x,i);if(c===et)return;let f=D(o*D(t+r*c,i),i);if(f===et)return;let u=new ze(c,f),h=(a.x===u.r?0:2)|Number(a.y&St);return n&&u.hasHighS()&&(u=u.normalizeS(),h^=1),{sig:u,recovery:h}}function Rs(e){let t;if(typeof e=="bigint")t=e;else if(typeof e=="number"&&Number.isSafeInteger(e)&&e>0)t=BigInt(e);else if(typeof e=="string"){if(e.length!==2*Cn)throw new Error("Expected 32 bytes of private key");t=Ls(e)}else if(e instanceof Uint8Array){if(e.length!==Cn)throw new Error("Expected 32 bytes of private key");t=Ar(e)}else throw new TypeError("Expected valid private key");if(!di(t))throw new Error("Expected private key: 0 < key < n");return t}function bx(e){return e instanceof ht?(e.assertValidity(),e):ht.fromHex(e)}function zh(e){if(e instanceof ze)return e.assertValidity(),e;try{return ze.fromDER(e)}catch{return ze.fromCompact(e)}}function e0(e,t=!1){return ht.fromPrivateKey(e).toRawBytes(t)}function Gh(e){let t=e.length>Te?e.slice(0,Te):e;return Ar(t)}function wx(e){let t=Gh(e),r=D(t,Ut.n);return Wh(r<et?t:r)}function Wh(e){return ja(e)}function Ex(e,t,r){if(e==null)throw new Error(`sign: expected valid message hash, not "${e}"`);let n=Tn(e),i=Rs(t),s=[Wh(i),wx(n)];if(r!=null){r===!0&&(r=Ie.randomBytes(Te));let c=Tn(r);if(c.length!==Te)throw new Error(`sign: Expected ${Te} bytes of extra data`);s.push(c)}let o=Er(...s),a=Gh(n);return{seed:o,m:a,d:i}}function Sx(e,t){let{sig:r,recovery:n}=e,{der:i,recovered:s}=Object.assign({canonical:!0,der:!0},t),o=i?r.toDERRawBytes():r.toCompactRawBytes();return s?[o,n]:o}async function $h(e,t,r={}){let{seed:n,m:i,d:s}=Ex(e,t,r.extraEntropy),o=new Ja(lx,Cn);await o.reseed(n);let a;for(;!(a=vx(await o.generate(),i,s,r.canonical));)await o.reseed();return Sx(a,r)}var Ax={strict:!0};function Yh(e,t,r,n=Ax){let i;try{i=zh(e),t=Tn(t)}catch{return!1}let{r:s,s:o}=i;if(n.strict&&i.hasHighS())return!1;let a=t0(t),c;try{c=bx(r)}catch{return!1}let{n:f}=Ut,u=In(o,f),h=D(a*u,f),l=D(s*u,f),d=ht.BASE.multiplyAndAddUnsafe(c,h,l);return d?D(d.x,f)===s:!1}ht.BASE._setWindowSize(8);var pe={node:hx,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var Ts={},Ie={bytesToHex:_n,hexToBytes:zr,concatBytes:Er,mod:D,invert:In,isValidPrivateKey(e){try{return Rs(e),!0}catch{return!1}},_bigintTo32Bytes:ja,_normalizePrivateKey:Rs,hashToPrivateKey:e=>{e=Tn(e);let t=Cn+8;if(e.length<t||e.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");let r=D(Ar(e),Ut.n-St)+St;return ja(r)},randomBytes:(e=32)=>{if(pe.web)return pe.web.getRandomValues(new Uint8Array(e));if(pe.node){let{randomBytes:t}=pe.node;return Uint8Array.from(t(e))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Ie.hashToPrivateKey(Ie.randomBytes(Cn+8)),precompute(e=8,t=ht.BASE){let r=t===ht.BASE?t:new ht(t.x,t.y);return r._setWindowSize(e),r.multiply(li),r},sha256:async(...e)=>{if(pe.web){let t=await pe.web.subtle.digest("SHA-256",Er(...e));return new Uint8Array(t)}else if(pe.node){let{createHash:t}=pe.node,r=t("sha256");return e.forEach(n=>r.update(n)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(e,...t)=>{if(pe.web){let r=await pe.web.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=Er(...t),i=await pe.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}else if(pe.node){let{createHmac:r}=pe.node,n=r("sha256",e);return t.forEach(i=>n.update(i)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(e,...t)=>{let r=Ts[e];if(r===void 0){let n=await Ie.sha256(Uint8Array.from(e,i=>i.charCodeAt(0)));r=Er(n,n),Ts[e]=r}return Ie.sha256(r,...t)},taggedHashSync:(e,...t)=>{if(typeof Bn!="function")throw new Is("sha256Sync is undefined, you need to set it");let r=Ts[e];if(r===void 0){let n=Bn(Uint8Array.from(e,i=>i.charCodeAt(0)));r=Er(n,n),Ts[e]=r}return Bn(r,...t)},_JacobianPoint:st};Object.defineProperties(Ie,{sha256Sync:{configurable:!1,get(){return Bn},set(e){Bn||(Bn=e)}},hmacSha256Sync:{configurable:!1,get(){return pi},set(e){pi||(pi=e)}}});function Us(e){if(isNaN(e)||e<=0)throw new yt("random bytes length must be a Number bigger than 0","ERR_INVALID_LENGTH");return Ie.randomBytes(e)}var g3=vt(us(),1),r0=vt(gt(),1);function Xh(e,t){return t.map(r=>le(e[r]))}function Zh(e){return r0.default.pki.setRsaPrivateKey(...Xh(e,["n","e","d","p","q","dp","dq","qi"]))}function Qh(e){return r0.default.pki.setRsaPublicKey(...Xh(e,["n","e"]))}var Gr={};dt(Gr,{jwkToPkcs1:()=>_x,jwkToPkix:()=>Ix,pkcs1ToJwk:()=>Cx,pkixToJwk:()=>Tx});var v3=vt($n(),1),b3=vt(us(),1);var rr=vt(gt(),1);function Cx(e){let t=rr.default.asn1.fromDer(_t(e,"ascii")),r=rr.default.pki.privateKeyFromAsn1(t);return{kty:"RSA",n:_e(r.n),e:_e(r.e),d:_e(r.d),p:_e(r.p),q:_e(r.q),dp:_e(r.dP),dq:_e(r.dQ),qi:_e(r.qInv),alg:"RS256"}}function _x(e){if(e.n==null||e.e==null||e.d==null||e.p==null||e.q==null||e.dp==null||e.dq==null||e.qi==null)throw new yt("JWK was missing components","ERR_INVALID_PARAMETERS");let t=rr.default.pki.privateKeyToAsn1({n:le(e.n),e:le(e.e),d:le(e.d),p:le(e.p),q:le(e.q),dP:le(e.dp),dQ:le(e.dq),qInv:le(e.qi)});return zt(rr.default.asn1.toDer(t).getBytes(),"ascii")}function Tx(e){let t=rr.default.asn1.fromDer(_t(e,"ascii")),r=rr.default.pki.publicKeyFromAsn1(t);return{kty:"RSA",n:_e(r.n),e:_e(r.e)}}function Ix(e){if(e.n==null||e.e==null)throw new yt("JWK was missing components","ERR_INVALID_PARAMETERS");let t=rr.default.pki.publicKeyToAsn1({n:le(e.n),e:le(e.e)});return zt(rr.default.asn1.toDer(t).getBytes(),"ascii")}async function jh(e){let t=await ce.get().subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]),r=await el(t);return{privateKey:r[0],publicKey:r[1]}}async function n0(e){let r=[await ce.get().subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["sign"]),await Lx(e)],n=await el({privateKey:r[0],publicKey:r[1]});return{privateKey:n[0],publicKey:n[1]}}async function Jh(e,t){let r=await ce.get().subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["sign"]),n=await ce.get().subtle.sign({name:"RSASSA-PKCS1-v1_5"},r,Uint8Array.from(t));return new Uint8Array(n,0,n.byteLength)}async function tl(e,t,r){let n=await ce.get().subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]);return ce.get().subtle.verify({name:"RSASSA-PKCS1-v1_5"},n,t,r)}async function el(e){if(e.privateKey==null||e.publicKey==null)throw new yt("Private and public key are required","ERR_INVALID_PARAMETERS");return Promise.all([ce.get().subtle.exportKey("jwk",e.privateKey),ce.get().subtle.exportKey("jwk",e.publicKey)])}async function Lx(e){return ce.get().subtle.importKey("jwk",{kty:e.kty,n:e.n,e:e.e},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["verify"])}function rl(e,t,r,n){let i=t?Qh(e):Zh(e),s=_t(Uint8Array.from(r),"ascii"),o=n(s,i);return zt(o,"ascii")}function nl(e,t){return rl(e,!0,t,(r,n)=>n.encrypt(r))}function il(e,t){return rl(e,!1,t,(r,n)=>n.decrypt(r))}var gi=class{_key;constructor(t){this._key=t}async verify(t,r){return tl(this._key,r,t)}marshal(){return Gr.jwkToPkix(this._key)}get bytes(){return He.encode({Type:Ct.RSA,Data:this.marshal()}).subarray()}encrypt(t){return nl(this._key,t)}equals(t){return Kt(this.bytes,t.bytes)}async hash(){let{bytes:t}=await Wt.digest(this.bytes);return t}},Ln=class{_key;_publicKey;constructor(t,r){this._key=t,this._publicKey=r}genSecret(){return Us(16)}async sign(t){return Jh(this._key,t)}get public(){if(this._publicKey==null)throw new yt("public key not provided","ERR_PUBKEY_NOT_PROVIDED");return new gi(this._publicKey)}decrypt(t){return il(this._key,t)}marshal(){return Gr.jwkToPkcs1(this._key)}get bytes(){return qe.encode({Type:Ct.RSA,Data:this.marshal()}).subarray()}equals(t){return Kt(this.bytes,t.bytes)}async hash(){let{bytes:t}=await Wt.digest(this.bytes);return t}async id(){let t=await this.public.hash();return _t(t,"base58btc")}async export(t,r="pkcs-8"){if(r==="pkcs-8"){let n=new yi.default.util.ByteBuffer(this.marshal()),i=yi.default.asn1.fromDer(n),s=yi.default.pki.privateKeyFromAsn1(i),o={algorithm:"aes256",count:1e4,saltSize:128/8,prfAlgorithm:"sha512"};return yi.default.pki.encryptRsaPrivateKey(s,t,o)}else{if(r==="libp2p-key")return bn(this.bytes,t);throw new yt(`export format '${r}' is not supported`,"ERR_INVALID_EXPORT_FORMAT")}}};async function Ux(e){let t=Gr.pkcs1ToJwk(e),r=await n0(t);return new Ln(r.privateKey,r.publicKey)}function Nx(e){let t=Gr.pkixToJwk(e);return new gi(t)}async function Dx(e){let t=await n0(e);return new Ln(t.privateKey,t.publicKey)}async function kx(e){let t=await jh(e);return new Ln(t.privateKey,t.publicKey)}var o0={};dt(o0,{Secp256k1PrivateKey:()=>mi,Secp256k1PublicKey:()=>xi,generateKeyPair:()=>Fx,unmarshalSecp256k1PrivateKey:()=>Kx,unmarshalSecp256k1PublicKey:()=>Mx});function sl(){return Ie.randomPrivateKey()}async function ol(e,t){let{digest:r}=await Wt.digest(t);try{return await $h(r,e)}catch(n){throw new yt(String(n),"ERR_INVALID_INPUT")}}async function al(e,t,r){try{let{digest:n}=await Wt.digest(r);return Yh(t,n,e)}catch(n){throw new yt(String(n),"ERR_INVALID_INPUT")}}function cl(e){return ht.fromHex(e).toRawBytes(!0)}function fl(e){try{e0(e,!0)}catch(t){throw new yt(String(t),"ERR_INVALID_PRIVATE_KEY")}}function s0(e){try{ht.fromHex(e)}catch(t){throw new yt(String(t),"ERR_INVALID_PUBLIC_KEY")}}function ul(e){try{return e0(e,!0)}catch(t){throw new yt(String(t),"ERR_INVALID_PRIVATE_KEY")}}var xi=class{_key;constructor(t){s0(t),this._key=t}async verify(t,r){return al(this._key,r,t)}marshal(){return cl(this._key)}get bytes(){return He.encode({Type:Ct.Secp256k1,Data:this.marshal()}).subarray()}equals(t){return Kt(this.bytes,t.bytes)}async hash(){let{bytes:t}=await Wt.digest(this.bytes);return t}},mi=class{_key;_publicKey;constructor(t,r){this._key=t,this._publicKey=r??ul(t),fl(this._key),s0(this._publicKey)}async sign(t){return ol(this._key,t)}get public(){return new xi(this._publicKey)}marshal(){return this._key}get bytes(){return qe.encode({Type:Ct.Secp256k1,Data:this.marshal()}).subarray()}equals(t){return Kt(this.bytes,t.bytes)}async hash(){let{bytes:t}=await Wt.digest(this.bytes);return t}async id(){let t=await this.public.hash();return _t(t,"base58btc")}async export(t,r="libp2p-key"){if(r==="libp2p-key")return bn(this.bytes,t);throw new yt(`export format '${r}' is not supported`,"ERR_INVALID_EXPORT_FORMAT")}};function Kx(e){return new mi(e)}function Mx(e){return new xi(e)}async function Fx(){let e=sl();return new mi(e)}var Wr={rsa:i0,ed25519:$a,secp256k1:o0};function hl(e){let t=Object.keys(Wr).join(" / ");return new yt(`invalid or unsupported key type ${e}. Must be ${t}`,"ERR_UNSUPPORTED_KEY_TYPE")}function ll(e){let t=He.decode(e),r=t.Data??new Uint8Array;switch(t.Type){case Ct.RSA:return Wr.rsa.unmarshalRsaPublicKey(r);case Ct.Ed25519:return Wr.ed25519.unmarshalEd25519PublicKey(r);case Ct.Secp256k1:return Wr.secp256k1.unmarshalSecp256k1PublicKey(r);default:throw hl(t.Type??"RSA")}}async function pl(e){let t=qe.decode(e),r=t.Data??new Uint8Array;switch(t.Type){case Ct.RSA:return Wr.rsa.unmarshalRsaPrivateKey(r);case Ct.Ed25519:return Wr.ed25519.unmarshalEd25519PrivateKey(r);case Ct.Secp256k1:return Wr.secp256k1.unmarshalSecp256k1PrivateKey(r);default:throw hl(t.Type??"RSA")}}var dl=Symbol.for("@libp2p/peer-id");var a0={};dt(a0,{identity:()=>Vx});var Vx=pn({prefix:"\0",name:"identity",encode:e=>hu(e),decode:e=>uu(e)});var c0={};dt(c0,{base2:()=>Hx});var Hx=Rt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var f0={};dt(f0,{base8:()=>qx});var qx=Rt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var u0={};dt(u0,{base10:()=>zx});var zx=pr({prefix:"9",name:"base10",alphabet:"0123456789"});var h0={};dt(h0,{base16:()=>Gx,base16upper:()=>Wx});var Gx=Rt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Wx=Rt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var l0={};dt(l0,{base32:()=>Br,base32hex:()=>Zx,base32hexpad:()=>jx,base32hexpadupper:()=>Jx,base32hexupper:()=>Qx,base32pad:()=>Yx,base32padupper:()=>Xx,base32upper:()=>$x,base32z:()=>tm});var Br=Rt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),$x=Rt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Yx=Rt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Xx=Rt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Zx=Rt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Qx=Rt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),jx=Rt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Jx=Rt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),tm=Rt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var p0={};dt(p0,{base36:()=>em,base36upper:()=>rm});var em=pr({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),rm=pr({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var d0={};dt(d0,{base256emoji:()=>am});var yl=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),nm=yl.reduce((e,t,r)=>(e[r]=t,e),[]),im=yl.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function sm(e){return e.reduce((t,r)=>(t+=nm[r],t),"")}function om(e){let t=[];for(let r of e){let n=im[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}var am=pn({prefix:"\u{1F680}",name:"base256emoji",encode:sm,decode:om});var lE=new TextEncoder,pE=new TextDecoder;var gl=(e,t)=>{let{bytes:r,version:n}=e;switch(n){case 0:return hm(r,y0(e),t||Gt.encoder);default:return lm(r,y0(e),t||Br.encoder)}};var xl=new WeakMap,y0=e=>{let t=xl.get(e);if(t==null){let r=new Map;return xl.set(e,r),r}return t},Tt=class{constructor(t,r,n,i){this.code=r,this.version=t,this.multihash=n,this.bytes=i,this["/"]=i}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:t,multihash:r}=this;if(t!==vi)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==pm)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Tt.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:t,digest:r}=this.multihash,n=Me(t,r);return Tt.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return Tt.equals(this,t)}static equals(t,r){let n=r;return n&&t.code===n.code&&t.version===n.version&&xu(t.multihash,n.multihash)}toString(t){return gl(this,t)}toJSON(){return{"/":gl(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(t){if(t==null)return null;let r=t;if(r instanceof Tt)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){let{version:n,code:i,multihash:s,bytes:o}=r;return new Tt(n,i,s,o||ml(n,i,s.bytes))}else if(r[dm]===!0){let{version:n,multihash:i,code:s}=r,o=ri(i);return Tt.create(n,s,o)}else return null}static create(t,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:{if(r!==vi)throw new Error(`Version 0 CID must use dag-pb (code: ${vi}) block encoding`);return new Tt(t,r,n,n.bytes)}case 1:{let i=ml(t,r,n.bytes);return new Tt(t,r,n,i)}default:throw new Error("Invalid version")}}static createV0(t){return Tt.create(0,vi,t)}static createV1(t,r){return Tt.create(1,t,r)}static decode(t){let[r,n]=Tt.decodeFirst(t);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(t){let r=Tt.inspectBytes(t),n=r.size-r.multihashSize,i=tr(t.subarray(n,n+r.multihashSize));if(i.byteLength!==r.multihashSize)throw new Error("Incorrect length");let s=i.subarray(r.multihashSize-r.digestSize),o=new gn(r.multihashCode,r.digestSize,s,i);return[r.version===0?Tt.createV0(o):Tt.createV1(r.codec,o),t.subarray(r.size)]}static inspectBytes(t){let r=0,n=()=>{let[h,l]=ei(t.subarray(r));return r+=l,h},i=n(),s=vi;if(i===18?(i=0,r=0):s=n(),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let o=r,a=n(),c=n(),f=r+c,u=f-o;return{version:i,codec:s,multihashCode:a,digestSize:c,multihashSize:u,size:f}}static parse(t,r){let[n,i]=um(t,r),s=Tt.decode(i);if(s.version===0&&t[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return y0(s).set(n,t),s}},um=(e,t)=>{switch(e[0]){case"Q":{let r=t||Gt;return[Gt.prefix,r.decode(`${Gt.prefix}${e}`)]}case Gt.prefix:{let r=t||Gt;return[Gt.prefix,r.decode(e)]}case Br.prefix:{let r=t||Br;return[Br.prefix,r.decode(e)]}default:{if(t==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}},hm=(e,t,r)=>{let{prefix:n}=r;if(n!==Gt.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(i==null){let s=r.encode(e).slice(1);return t.set(n,s),s}else return i},lm=(e,t,r)=>{let{prefix:n}=r,i=t.get(n);if(i==null){let s=r.encode(e);return t.set(n,s),s}else return i},vi=112,pm=18,ml=(e,t,r)=>{let n=yn(e),i=n+yn(t),s=new Uint8Array(i+r.byteLength);return dn(e,s,0),dn(t,s,n),s.set(r,i),s},dm=Symbol.for("@ipld/js-cid/CID");var g0={...a0,...c0,...f0,...u0,...h0,...l0,...p0,...la,...Ca,...d0},SE={...xa,...da};var ym=Symbol.for("nodejs.util.inspect.custom"),vl=Object.values(g0).map(e=>e.decoder).reduce((e,t)=>e.or(t),g0.identity.decoder),bl=114,x0=36,m0=37,bi=class{type;multihash;privateKey;publicKey;string;constructor(t){this.type=t.type,this.multihash=t.multihash,this.privateKey=t.privateKey,Object.defineProperty(this,"string",{enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return`PeerId(${this.toString()})`}[dl]=!0;toString(){return this.string==null&&(this.string=Gt.encode(this.multihash.bytes).slice(1)),this.string}toCID(){return Tt.createV1(bl,this.multihash)}toBytes(){return this.multihash.bytes}toJSON(){return this.toString()}equals(t){if(t instanceof Uint8Array)return Kt(this.multihash.bytes,t);if(typeof t=="string")return gm(t).equals(this);if(t?.multihash?.bytes!=null)return Kt(this.multihash.bytes,t.multihash.bytes);throw new Error("not valid Id")}[ym](){return`PeerId(${this.toString()})`}},Rn=class extends bi{type="RSA";publicKey;constructor(t){super({...t,type:"RSA"}),this.publicKey=t.publicKey}},Un=class extends bi{type="Ed25519";publicKey;constructor(t){super({...t,type:"Ed25519"}),this.publicKey=t.multihash.digest}},Nn=class extends bi{type="secp256k1";publicKey;constructor(t){super({...t,type:"secp256k1"}),this.publicKey=t.multihash.digest}};function gm(e,t){if(t=t??vl,e.charAt(0)==="1"||e.charAt(0)==="Q"){let r=ri(Gt.decode(`z${e}`));return e.startsWith("12D")?new Un({multihash:r}):e.startsWith("16U")?new Nn({multihash:r}):new Rn({multihash:r})}return xm(vl.decode(e))}function xm(e){try{let t=ri(e);if(t.code===dr.code){if(t.digest.length===x0)return new Un({multihash:t});if(t.digest.length===m0)return new Nn({multihash:t})}if(t.code===Wt.code)return new Rn({multihash:t})}catch{return mm(Tt.decode(e))}throw new Error("Supplied PeerID CID is invalid")}function mm(e){if(e==null||e.multihash==null||e.version==null||e.version===1&&e.code!==bl)throw new Error("Supplied PeerID CID is invalid");let t=e.multihash;if(t.code===Wt.code)return new Rn({multihash:e.multihash});if(t.code===dr.code){if(t.digest.length===x0)return new Un({multihash:e.multihash});if(t.digest.length===m0)return new Nn({multihash:e.multihash})}throw new Error("Supplied PeerID CID is invalid")}async function v0(e,t){return e.length===x0?new Un({multihash:Me(dr.code,e),privateKey:t}):e.length===m0?new Nn({multihash:Me(dr.code,e),privateKey:t}):new Rn({multihash:await Wt.digest(e),publicKey:e,privateKey:t})}var Ns;(function(e){let t;e.codec=()=>(t==null&&(t=Vr((r,n,i={})=>{if(i.lengthDelimited!==!1&&n.fork(),r.webtransportCerthashes!=null)for(let s of r.webtransportCerthashes)n.uint32(10),n.bytes(s);i.lengthDelimited!==!1&&n.ldelim()},(r,n)=>{let i={webtransportCerthashes:[]},s=n==null?r.len:r.pos+n;for(;r.pos<s;){let o=r.uint32();switch(o>>>3){case 1:i.webtransportCerthashes.push(r.bytes());break;default:r.skipType(o&7);break}}return i})),t),e.encode=r=>Or(r,e.codec()),e.decode=r=>Fr(r,e.codec())})(Ns||(Ns={}));var wi;(function(e){let t;e.codec=()=>(t==null&&(t=Vr((r,n,i={})=>{i.lengthDelimited!==!1&&n.fork(),(i.writeDefaults===!0||r.identityKey!=null&&r.identityKey.byteLength>0)&&(n.uint32(10),n.bytes(r.identityKey??new Uint8Array(0))),(i.writeDefaults===!0||r.identitySig!=null&&r.identitySig.byteLength>0)&&(n.uint32(18),n.bytes(r.identitySig??new Uint8Array(0))),r.extensions!=null&&(n.uint32(34),Ns.codec().encode(r.extensions,n,{writeDefaults:!1})),i.lengthDelimited!==!1&&n.ldelim()},(r,n)=>{let i={identityKey:new Uint8Array(0),identitySig:new Uint8Array(0)},s=n==null?r.len:r.pos+n;for(;r.pos<s;){let o=r.uint32();switch(o>>>3){case 1:i.identityKey=r.bytes();break;case 2:i.identitySig=r.bytes();break;case 4:i.extensions=Ns.codec().decode(r,r.uint32());break;default:r.skipType(o&7);break}}return i})),t),e.encode=r=>Or(r,e.codec()),e.decode=r=>Fr(r,e.codec())})(wi||(wi={}));async function wl(e,t,r){let n=await bm(e,El(t));if(e.publicKey==null)throw new Error("PublicKey was missing from local PeerId");return vm(e.publicKey,n,r)}function vm(e,t,r){return wi.encode({identityKey:e,identitySig:t,extensions:r??{webtransportCerthashes:[]}}).subarray()}async function bm(e,t){if(e.privateKey==null)throw new Error("PrivateKey was missing from PeerId");return(await pl(e.privateKey)).sign(t)}async function b0(e){return v0(e.identityKey)}function w0(e){return wi.decode(e)}function El(e){let t=zt("noise-libp2p-static-key:");return Pt([t,e],t.length+e.length)}async function E0(e,t,r){let n=await v0(t.identityKey);if(!n.equals(r))throw new Error(`Payload identity key ${n.toString()} does not match expected remote peer ${r.toString()}`);let i=El(e);if(n.publicKey==null)throw new Error("PublicKey was missing from PeerId");if(t.identitySig==null)throw new Error("Signature was missing from message");if(!await ll(n.publicKey).verify(i,t.identitySig))throw new Error("Static key doesn't match to peer that signed payload!");return n}function Ei(e){return!(!(e instanceof Uint8Array)||e.length!==32)}var ye=vt(_l(),1);ye.default.formatters.b=e=>e==null?"undefined":Gt.baseEncode(e);ye.default.formatters.t=e=>e==null?"undefined":Br.baseEncode(e);ye.default.formatters.m=e=>e==null?"undefined":vn.baseEncode(e);ye.default.formatters.p=e=>e==null?"undefined":e.toString();ye.default.formatters.c=e=>e==null?"undefined":e.toString();ye.default.formatters.k=e=>e==null?"undefined":e.toString();ye.default.formatters.a=e=>e==null?"undefined":e.toString();function Nm(e){let t=()=>{};return t.enabled=!1,t.color="",t.diff=0,t.log=()=>{},t.namespace=e,t.destroy=()=>!0,t.extend=()=>t,t}function Tl(e){let t=Nm(`${e}:trace`);return ye.default.enabled(`${e}:trace`)&&ye.default.names.map(r=>r.toString()).find(r=>r.includes(":trace"))!=null&&(t=(0,ye.default)(`${e}:trace`)),Object.assign((0,ye.default)(e),{error:(0,ye.default)(`${e}:error`),trace:t})}var qt=Tl("libp2p:noise");var we;O0?we=qt:we=Object.assign(()=>{},{enabled:!1,trace:()=>{},error:()=>{}});function Il(e){we(`LOCAL_STATIC_PUBLIC_KEY ${_t(e.publicKey,"hex")}`),we(`LOCAL_STATIC_PRIVATE_KEY ${_t(e.privateKey,"hex")}`)}function S0(e){e?(we(`LOCAL_PUBLIC_EPHEMERAL_KEY ${_t(e.publicKey,"hex")}`),we(`LOCAL_PRIVATE_EPHEMERAL_KEY ${_t(e.privateKey,"hex")}`)):we("Missing local ephemeral keys.")}function Ll(e){we(`REMOTE_STATIC_PUBLIC_KEY ${_t(e,"hex")}`)}function A0(e){we(`REMOTE_EPHEMERAL_PUBLIC_KEY ${_t(e,"hex")}`)}function Rl(e){e.cs1&&e.cs2?(we(`CIPHER_STATE_1 ${e.cs1.n.getUint64()} ${_t(e.cs1.k,"hex")}`),we(`CIPHER_STATE_2 ${e.cs2.n.getUint64()} ${_t(e.cs2.k,"hex")}`)):we("Missing cipher state.")}var Dm="Cipherstate has reached maximum n, a new handshake must be performed",Ps=class{n;bytes;view;constructor(t=0){this.n=t,this.bytes=new Uint8Array(12),this.view=new DataView(this.bytes.buffer,this.bytes.byteOffset,this.bytes.byteLength),this.view.setUint32(4,t,!0)}increment(){this.n++,this.view.setUint32(4,this.n,!0)}getBytes(){return this.bytes}getUint64(){return this.n}assertValue(){if(this.n>4294967295)throw new Error(Dm)}};var Ks=class{crypto;constructor(t){this.crypto=t}encryptWithAd(t,r,n){let i=this.encrypt(t.k,t.n,r,n);return t.n.increment(),i}decryptWithAd(t,r,n,i){let{plaintext:s,valid:o}=this.decrypt(t.k,t.n,r,n,i);return o&&t.n.increment(),{plaintext:s,valid:o}}hasKey(t){return!this.isEmptyKey(t.k)}createEmptyKey(){return new Uint8Array(32)}isEmptyKey(t){let r=this.createEmptyKey();return Kt(r,t)}encrypt(t,r,n,i){return r.assertValue(),this.crypto.chaCha20Poly1305Encrypt(i,r.getBytes(),n,t)}encryptAndHash(t,r){let n;return this.hasKey(t.cs)?n=this.encryptWithAd(t.cs,t.h,r):n=r,this.mixHash(t,n),n}decrypt(t,r,n,i,s){r.assertValue();let o=this.crypto.chaCha20Poly1305Decrypt(i,r.getBytes(),n,t,s);return o?{plaintext:o,valid:!0}:{plaintext:new Uint8Array(0),valid:!1}}decryptAndHash(t,r){let n,i=!0;return this.hasKey(t.cs)?{plaintext:n,valid:i}=this.decryptWithAd(t.cs,t.h,r):n=r,this.mixHash(t,r),{plaintext:n,valid:i}}dh(t,r){try{let n=this.crypto.generateX25519SharedKey(t,r);return n.length===32?n:n.subarray(0,32)}catch(n){let i=n;return qt.error(i),new Uint8Array(32)}}mixHash(t,r){t.h=this.getHash(t.h,r)}getHash(t,r){return this.crypto.hashSHA256(Pt([t,r],t.length+r.length))}mixKey(t,r){let[n,i]=this.crypto.getHKDF(t.ck,r);t.cs=this.initializeKey(i),t.ck=n}initializeKey(t){return{k:t,n:new Ps}}initializeSymmetric(t){let r=zt(t,"utf-8"),n=this.hashProtocolName(r),i=n,s=this.createEmptyKey();return{cs:this.initializeKey(s),ck:i,h:n}}hashProtocolName(t){if(t.length<=32){let r=new Uint8Array(32);return r.set(t),r}else return this.getHash(t,new Uint8Array(0))}split(t){let[r,n]=this.crypto.getHKDF(t.ck,new Uint8Array(0)),i=this.initializeKey(r),s=this.initializeKey(n);return{cs1:i,cs2:s}}writeMessageRegular(t,r){let n=this.encryptWithAd(t,new Uint8Array(0),r),i=this.createEmptyKey(),s=new Uint8Array(0);return{ne:i,ns:s,ciphertext:n}}readMessageRegular(t,r){return this.decryptWithAd(t,new Uint8Array(0),r.ciphertext)}};var Ms=class extends Ks{initializeInitiator(t,r,n,i){let s="Noise_XX_25519_ChaChaPoly_SHA256",o=this.initializeSymmetric(s);this.mixHash(o,t);let a=new Uint8Array(32);return{ss:o,s:r,rs:n,psk:i,re:a}}initializeResponder(t,r,n,i){let s="Noise_XX_25519_ChaChaPoly_SHA256",o=this.initializeSymmetric(s);this.mixHash(o,t);let a=new Uint8Array(32);return{ss:o,s:r,rs:n,psk:i,re:a}}writeMessageA(t,r,n){let i=new Uint8Array(0);n!==void 0?t.e=n:t.e=this.crypto.generateX25519KeyPair();let s=t.e.publicKey;this.mixHash(t.ss,s);let o=this.encryptAndHash(t.ss,r);return{ne:s,ns:i,ciphertext:o}}writeMessageB(t,r){t.e=this.crypto.generateX25519KeyPair();let n=t.e.publicKey;this.mixHash(t.ss,n),this.mixKey(t.ss,this.dh(t.e.privateKey,t.re));let i=t.s.publicKey,s=this.encryptAndHash(t.ss,i);this.mixKey(t.ss,this.dh(t.s.privateKey,t.re));let o=this.encryptAndHash(t.ss,r);return{ne:n,ns:s,ciphertext:o}}writeMessageC(t,r){let n=t.s.publicKey,i=this.encryptAndHash(t.ss,n);this.mixKey(t.ss,this.dh(t.s.privateKey,t.re));let s=this.encryptAndHash(t.ss,r),a={ne:this.createEmptyKey(),ns:i,ciphertext:s},{cs1:c,cs2:f}=this.split(t.ss);return{h:t.ss.h,messageBuffer:a,cs1:c,cs2:f}}readMessageA(t,r){return Ei(r.ne)&&(t.re=r.ne),this.mixHash(t.ss,t.re),this.decryptAndHash(t.ss,r.ciphertext)}readMessageB(t,r){if(Ei(r.ne)&&(t.re=r.ne),this.mixHash(t.ss,t.re),!t.e)throw new Error("Handshake state `e` param is missing.");this.mixKey(t.ss,this.dh(t.e.privateKey,t.re));let{plaintext:n,valid:i}=this.decryptAndHash(t.ss,r.ns);i&&Ei(n)&&(t.rs=n),this.mixKey(t.ss,this.dh(t.e.privateKey,t.rs));let{plaintext:s,valid:o}=this.decryptAndHash(t.ss,r.ciphertext);return{plaintext:s,valid:i&&o}}readMessageC(t,r){let{plaintext:n,valid:i}=this.decryptAndHash(t.ss,r.ns);if(i&&Ei(n)&&(t.rs=n),!t.e)throw new Error("Handshake state `e` param is missing.");this.mixKey(t.ss,this.dh(t.e.privateKey,t.rs));let{plaintext:s,valid:o}=this.decryptAndHash(t.ss,r.ciphertext),{cs1:a,cs2:c}=this.split(t.ss);return{h:t.ss.h,plaintext:s,valid:i&&o,cs1:a,cs2:c}}initSession(t,r,n){let i=this.createEmptyKey(),s=new Uint8Array(32),o;return t?o=this.initializeInitiator(r,n,s,i):o=this.initializeResponder(r,n,s,i),{hs:o,i:t,mc:0}}sendMessage(t,r,n){let i;if(t.mc===0)i=this.writeMessageA(t.hs,r,n);else if(t.mc===1)i=this.writeMessageB(t.hs,r);else if(t.mc===2){let{h:s,messageBuffer:o,cs1:a,cs2:c}=this.writeMessageC(t.hs,r);i=o,t.h=s,t.cs1=a,t.cs2=c}else if(t.mc>2)if(t.i){if(!t.cs1)throw new Error("CS1 (cipher state) is not defined");i=this.writeMessageRegular(t.cs1,r)}else{if(!t.cs2)throw new Error("CS2 (cipher state) is not defined");i=this.writeMessageRegular(t.cs2,r)}else throw new Error("Session invalid.");return t.mc++,i}recvMessage(t,r){let n=new Uint8Array(0),i=!1;if(t.mc===0)({plaintext:n,valid:i}=this.readMessageA(t.hs,r));else if(t.mc===1)({plaintext:n,valid:i}=this.readMessageB(t.hs,r));else if(t.mc===2){let{h:s,plaintext:o,valid:a,cs1:c,cs2:f}=this.readMessageC(t.hs,r);n=o,i=a,t.h=s,t.cs1=c,t.cs2=f}return t.mc++,{plaintext:n,valid:i}}};var Fs=class{isInitiator;session;remotePeer;remoteExtensions={webtransportCerthashes:[]};payload;connection;xx;staticKeypair;prologue;constructor(t,r,n,i,s,o,a,c){this.isInitiator=t,this.payload=r,this.prologue=n,this.staticKeypair=s,this.connection=o,a&&(this.remotePeer=a),this.xx=c??new Ms(i),this.session=this.xx.initSession(this.isInitiator,this.prologue,this.staticKeypair)}async propose(){if(Il(this.session.hs.s),this.isInitiator){qt.trace("Stage 0 - Initiator starting to send first message.");let t=this.xx.sendMessage(this.session,new Uint8Array(0));await this.connection.write(yc(t)),qt.trace("Stage 0 - Initiator finished sending first message."),S0(this.session.hs.e)}else{qt.trace("Stage 0 - Responder waiting to receive first message...");let t=mc((await this.connection.read()).subarray()),{valid:r}=this.xx.recvMessage(this.session,t);if(!r)throw new ar("xx handshake stage 0 validation fail");qt.trace("Stage 0 - Responder received first message."),A0(this.session.hs.re)}}async exchange(){if(this.isInitiator){qt.trace("Stage 1 - Initiator waiting to receive first message from responder...");let t=vc((await this.connection.read()).subarray()),{plaintext:r,valid:n}=this.xx.recvMessage(this.session,t);if(!n)throw new ar("xx handshake stage 1 validation fail");qt.trace("Stage 1 - Initiator received the message."),A0(this.session.hs.re),Ll(this.session.hs.rs),qt.trace("Initiator going to check remote's signature...");try{let i=w0(r);this.remotePeer=this.remotePeer||await b0(i),await E0(this.session.hs.rs,i,this.remotePeer),this.setRemoteNoiseExtension(i.extensions)}catch(i){let s=i;throw new rn(`Error occurred while verifying signed payload: ${s.message}`)}qt.trace("All good with the signature!")}else{qt.trace("Stage 1 - Responder sending out first message with signed payload and static key.");let t=this.xx.sendMessage(this.session,this.payload);await this.connection.write(gc(t)),qt.trace("Stage 1 - Responder sent the second handshake message with signed payload."),S0(this.session.hs.e)}}async finish(){if(this.isInitiator){qt.trace("Stage 2 - Initiator sending third handshake message.");let t=this.xx.sendMessage(this.session,this.payload);await this.connection.write(xc(t)),qt.trace("Stage 2 - Initiator sent message with signed payload.")}else{qt.trace("Stage 2 - Responder waiting for third handshake message...");let t=bc((await this.connection.read()).subarray()),{plaintext:r,valid:n}=this.xx.recvMessage(this.session,t);if(!n)throw new ar("xx handshake stage 2 validation fail");qt.trace("Stage 2 - Responder received the message, finished handshake.");try{let i=w0(r);this.remotePeer=this.remotePeer||await b0(i),await E0(this.session.hs.rs,i,this.remotePeer),this.setRemoteNoiseExtension(i.extensions)}catch(i){let s=i;throw new rn(`Error occurred while verifying signed payload: ${s.message}`)}}Rl(this.session)}encrypt(t,r){let n=this.getCS(r);return this.xx.encryptWithAd(n,new Uint8Array(0),t)}decrypt(t,r,n){let i=this.getCS(r,!1);return this.xx.decryptWithAd(i,new Uint8Array(0),t,n)}getRemoteStaticKey(){return this.session.hs.rs}getCS(t,r=!0){if(!t.cs1||!t.cs2)throw new ar("Handshake not completed properly, cipher state does not exist.");return this.isInitiator?r?t.cs1:t.cs2:r?t.cs2:t.cs1}setRemoteNoiseExtension(t){t&&(this.remoteExtensions=t)}};function Ul(e){return{xxHandshakeSuccesses:e.registerCounter("libp2p_noise_xxhandshake_successes_total",{help:"Total count of noise xxHandshakes successes_"}),xxHandshakeErrors:e.registerCounter("libp2p_noise_xxhandshake_error_total",{help:"Total count of noise xxHandshakes errors"}),encryptedPackets:e.registerCounter("libp2p_noise_encrypted_packets_total",{help:"Total count of noise encrypted packets successfully"}),decryptedPackets:e.registerCounter("libp2p_noise_decrypted_packets_total",{help:"Total count of noise decrypted packets"}),decryptErrors:e.registerCounter("libp2p_noise_decrypt_errors_total",{help:"Total count of noise decrypt errors"})}}var Os=class{protocol="/noise";crypto;prologue;staticKeys;extensions;metrics;constructor(t={}){let{staticNoiseKey:r,extensions:n,crypto:i,prologueBytes:s,metrics:o}=t;this.crypto=i??$i,this.extensions=n,this.metrics=o?Ul(o):void 0,r?this.staticKeys=this.crypto.generateX25519KeyPairFromSeed(r):this.staticKeys=this.crypto.generateX25519KeyPair(),this.prologue=s??new Uint8Array(0)}async secureOutbound(t,r,n){let i=Gs(r,{lengthEncoder:en,lengthDecoder:Hn,maxDataLength:65535}),s=await this.performHandshake({connection:i,isInitiator:!0,localPeer:t,remotePeer:n});return{conn:await this.createSecureConnection(i,s),remoteExtensions:s.remoteExtensions,remotePeer:s.remotePeer}}async secureInbound(t,r,n){let i=Gs(r,{lengthEncoder:en,lengthDecoder:Hn,maxDataLength:65535}),s=await this.performHandshake({connection:i,isInitiator:!1,localPeer:t,remotePeer:n});return{conn:await this.createSecureConnection(i,s),remotePeer:s.remotePeer,remoteExtensions:s.remoteExtensions}}async performHandshake(t){let r=await wl(t.localPeer,this.staticKeys.publicKey,this.extensions);return this.performXXHandshake(t,r)}async performXXHandshake(t,r){let{isInitiator:n,remotePeer:i,connection:s}=t,o=new Fs(n,r,this.prologue,this.crypto,this.staticKeys,s,i);try{await o.propose(),await o.exchange(),await o.finish(),this.metrics?.xxHandshakeSuccesses.increment()}catch(a){if(this.metrics?.xxHandshakeErrors.increment(),a instanceof Error)throw a.message=`Error occurred during XX handshake: ${a.message}`,a}return o}async createSecureConnection(t,r){let[n,i]=k0(),s=t.unwrap();return await K0(n,Ec(r,this.metrics),s,o=>Mn(o,{lengthDecoder:Hn}),Sc(r,this.metrics),n),i}};function km(e={}){return()=>new Os(e)}return Fl(Pm);})();
/*! Bundled license information:

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/ed25519/lib/esm/index.js:
  (*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/secp256k1/lib/esm/index.js:
  (*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)
*/
return ChainsafeLibp2PNoise}));
